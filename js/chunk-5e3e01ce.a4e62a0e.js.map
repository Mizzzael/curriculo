{"version":3,"sources":["webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/axios/lib/helpers/bind.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/axios/lib/defaults.js","webpack:///./node_modules/axios/lib/core/createError.js","webpack:///./node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./src/components/Loading.vue?4c01","webpack:///src/components/Loading.vue","webpack:///./src/components/Loading.vue?f931","webpack:///./src/components/Loading.vue","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/node-libs-browser/mock/process.js","webpack:///./node_modules/axios/lib/core/settle.js","webpack:///./node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./node_modules/axios/lib/cancel/Cancel.js","webpack:///./node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/axios/lib/core/buildFullPath.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///./node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/lottie-web/build/player/lottie.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./src/assets/js/Github.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/axios/index.js","webpack:///./node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/axios/lib/utils.js","webpack:///./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/axios/lib/axios.js","webpack:///./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/core-js/internals/dom-iterables.js"],"names":["toIndexedObject","nativeGetOwnPropertyNames","f","toString","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","error","slice","module","exports","call","utils","buildURL","InterceptorManager","dispatchRequest","mergeConfig","Axios","instanceConfig","this","defaults","interceptors","request","response","prototype","config","arguments","url","method","toLowerCase","chain","undefined","promise","Promise","resolve","forEach","interceptor","unshift","fulfilled","rejected","push","length","then","shift","getUri","params","paramsSerializer","replace","data","callback","arr","apply","global","DOMIterables","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","callbackfn","fn","thisArg","args","Array","i","fails","wellKnownSymbol","V8_VERSION","SPECIES","METHOD_NAME","array","constructor","foo","Boolean","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","headers","value","isUndefined","getDefaultAdapter","adapter","XMLHttpRequest","process","transformRequest","isFormData","isArrayBuffer","isBuffer","isStream","isFile","isBlob","isArrayBufferView","buffer","isURLSearchParams","isObject","JSON","stringify","transformResponse","parse","e","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","status","common","merge","enhanceError","message","code","Error","__CANCEL__","encode","val","encodeURIComponent","serializedParams","parts","key","isArray","v","isDate","toISOString","join","hashmarkIndex","indexOf","isAxiosError","toJSON","name","description","number","fileName","lineNumber","columnNumber","stack","isStandardBrowserEnv","originURL","msie","test","navigator","userAgent","urlParsingNode","document","createElement","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","location","requestURL","parsed","isString","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","_m","staticRenderFns","_v","component","$","target","proto","forced","nextTick","setTimeout","platform","arch","execPath","title","pid","browser","env","argv","binding","path","cwd","chdir","dir","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","createError","reject","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","source","isPlainObject","mergeDeepProperties","prop","axiosKeys","concat","otherKeys","keys","filter","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","transformData","isCancel","throwIfCancellationRequested","cancelToken","throwIfRequested","reason","fixRegExpWellKnownSymbolLogic","anObject","toObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","String","REPLACE","nativeReplace","maybeCallNative","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","regexp","res","done","rx","S","functionalReplace","fullUnicode","unicode","lastIndex","results","result","matchStr","accumulatedResult","nextSourcePosition","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","replacement","getSubstitution","str","tailPos","m","symbols","match","ch","capture","n","_defineProperty","obj","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","createMethod","CONVERT_TO_STRING","$this","pos","first","second","size","charCodeAt","codeAt","originalArray","C","has","wrappedWellKnownSymbolModule","NAME","Symbol","Cancel","write","expires","domain","secure","cookie","isNumber","Date","toGMTString","read","RegExp","decodeURIComponent","remove","now","isAbsoluteURL","combineURLs","baseURL","requestedURL","toPrimitive","definePropertyModule","createPropertyDescriptor","propertyKey","CancelToken","executor","TypeError","resolvePromise","token","cancel","c","factory","root","svgNS","locationHref","initialDefaultFrame","subframeEnabled","expressionsPlugin","isSafari","cachedColors","bm_rounder","round","bm_rnd","bm_pow","pow","bm_sqrt","sqrt","bm_abs","abs","bm_floor","bm_max","bm_min","blitter","BMMath","ProjectInterface","propertyNames","len","random","tOfVal","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","flag","styleDiv","element","style","top","left","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","type","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","s","r","g","b","p","q","t","RGBtoHSV","d","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","BaseEvent","triggerEvent","eventName","_cbs","addEventListener","removeEventListener","bind","splice","createTypedArray","createRegularArray","Float32Array","Int16Array","Uint8ClampedArray","createNS","createElementNS","createTag","DynamicPropertyContainer","addDynamicProperty","dynamicProperties","container","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","mode","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","reset","props","rotate","angle","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","setTransform","a","k","l","o","translate","tx","ty","tz","transform","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","clone","cloneFromProps","applyToPoint","x","y","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","pt","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_a","_b","_d","_e","_f","pool","math","nodecrypto","width","chunks","digits","rngname","startdenom","significance","overflow","mask","seedrandom","seed","options","entropy","shortseed","mixkey","flatten","tostring","autoseed","arc4","ARC4","prng","int32","quick","double","pass","is_math_call","state","copy","keylen","me","count","depth","typ","smear","stringseed","randomBytes","out","Uint8Array","crypto","msCrypto","getRandomValues","plugins","screen","fromCharCode","BezierFactory","ob","getBezierEasing","beziers","nm","bezEasing","BezierEasing","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","points","_mSampleValues","_precomputed","get","mY1","mY2","_precompute","_getTForX","_calcSampleValues","mSampleValues","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","extendPrototype","sources","destination","sourcePrototype","attr","hasOwnProperty","getDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","point","lastPoint","lengthData","bezier_length_pool","newElement","percents","lengths","getSegmentsLength","shapeData","segmentsLength","segments_length_pool","closed","pathV","pathO","pathI","_length","totalLength","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","getPointInSegment","percent","t1","u1","ptX","ptY","bezier_segment_points","getNewSegment","startPerc","endPerc","t0","u0","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","clearTimeout","bez","dataFunctionManager","completeLayers","layers","comps","fontManager","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","completeText","__used","ks","checkVersion","minimum","animVersionString","animVersion","split","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","animationData","assets","checkChars","chars","pathData","paths","__converted","checkColors","iterateShapes","checkShapes","cl","completeData","__complete","singleShape","moduleOb","dataManager","FontManager","maxWaitingTime","emptyChar","w","combinedCharacters","trimFontOptions","font","familyArray","enabledFamilies","setUpNode","family","parentNode","fontFamily","node","innerText","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","appendChild","body","offsetWidth","parent","checkLoadedFonts","fonts","loadedCount","loaded","fOrigin","origin","monoCase","sansCase","removeChild","initTime","checkLoadedFontsBinded","setIsLoadedBinded","createHelper","def","fontData","tHelper","fFamily","fStyle","fWeight","textContent","fClass","tCanvasHelper","getContext","addFonts","defs","isLoaded","list","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","fPath","querySelectorAll","rel","src","sc","helper","cache","addChars","found","getCharData","char","console","warn","_warned","measureText","fontName","getFontByName","doubleSize","getComputedTextLength","singleSize","fName","getCombinedCharacterCodes","setIsLoaded","Font","typekitLoaded","fontPrototype","PropertyFactory","initFrame","math_abs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","fnc","iterationIndex","keyframes","endValue","nextKeyTime","keyTime","to","ti","ind","__fnct","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quatStart","createQuaternion","quatEnd","time","quaternionToEuler","slerp","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","values","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","elem","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","applyToMatrix","mat","sk","sa","rz","ry","or","px","py","pz","processKeys","forceRender","_isDirty","precalculateMatrix","pre","appliedTransformations","autoOriented","v1","v2","frameRate","getValueAtTime","autoOrient","_addDynamicProperty","TransformProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","point_pool","doubleArrayLength","setXYAt","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","init","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shapesEqual","shape1","shape2","shape_pool","releaseShapes","addShape","ShapeProperty","shapeCollection_pool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","convertEllToPath","s0","_cw","StarShapeProperty","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","os","rad","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","convertRectToPath","v0","getShapeProp","dataProp","getConstructorFunction","getKeyframedConstructorFunction","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","renderer","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segments","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShapeInCollection","lastShape","pop","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","cloned_path","currentV","currentI","currentO","closerV","distance","newPosPerc","amount","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","copies","ceil","group","reloadShapes","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","op","comparePoints","diff","buildShapeString","pathNodes","_o","_i","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","pause","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","proxyImage","canvas","height","ctx","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","imagesLoadedCb","getAssetsPath","assetData","assetsPath","original_path","imagePath","u","testImageLoaded","img","intervalId","setInterval","box","getBBox","_imageLoaded","clearInterval","createImageData","setAttributeNS","_elementHelper","append","createImgData","crossOrigin","loadAssets","cb","images","_createImageData","setPath","setAssetsPath","getImage","destroy","setCacheType","elementHelper","featureSupport","maskType","filtersFactory","createFilter","filId","fil","createAlphaToLuminanceFilter","feColorMatrix","assetLoader","formatResponse","xhr","responseText","loadAsset","errorCallback","open","responseType","err","send","onreadystatechange","readyState","load","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimator_animatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","animatorSelector","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","line","extra","an","animatorOffset","add","rot","atan","update","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","text","charCode","charactersArray","substr","newLineFlag","charData","styleName","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","styles","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","_currentTextLength","finalS","finalE","xe","ne","textProperty","easer","tot","newCharsFlag","divisor","pool_factory","initialLength","_create","_release","_clone","pooling","create","cloned","shapeCollection","BaseRenderer","SVGRenderer","animationItem","svgElement","ariaLabel","titleElement","titleId","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","className","focusable","filterSize","pendingElements","destroyed","rendererType","CanvasRenderer","clearCanvas","context","dpr","wrapper","devicePixelRatio","currentGlobalAlpha","contextData","CVContextData","transformMat","HybridRenderer","threeDElements","camera","supports3d","MaskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","layerId","maskRef","filterID","expan","lastPath","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","hd","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","checkLayers","num","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","AudioElement","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","imageLoader","imagePreloader","audioController","fr","compSize","NullElement","SVGShapeElement","SVGTextElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","hide","show","CVShapeElement","CVTextElement","CVImageElement","CVCompElement","CVSolidElement","ctxTransform","cProps","cTr","trProps","canvasContext","ctxOpacity","globalAlpha","cO","restore","save","actionFlag","cArrPos","duplicate","saved","savedOp","blendMode","popped","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","par","fillType","beginPath","closePath","clip","clearRect","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","tmpDOMElement","getThreeDContainerByPos","HShapeElement","HTextElement","HCameraElement","HImageElement","HCompElement","HSolidElement","startPos","endPos","perspectiveElem","createThreeDContainer","webkitTransform","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","svg","setup","cWidth","cHeight","perspective","webkitPerspective","floatingContainer","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","initHierarchy","_isParent","prepareProperties","isVisible","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","initRenderable","isInRange","hidden","isTransparent","renderableComponents","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","_prototype","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","stop","gf","cst","opacityId","opFill","ms","ost","SVGElementsRenderer","_identityMatrix","_matrixHelper","createRenderFunction","renderFill","renderGradient","renderGradientStroke","renderStroke","renderPath","renderContentTransform","styleData","itemData","pathStringTransformed","redraw","iterations","lLen","styleElem","hasOpacity","attr1","attr2","cValues","oValues","ang","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","BaseElement","SVGBaseElement","IShapeElement","ITextElement","ICompElement","sourceRect","_isPlaying","_canPlay","_currentTime","tm","_placeholder","textSpans","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","SVGTintFilter","filterManager","matrixFilter","effectElements","feMergeNode","feMerge","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","content","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","lcEnum","ljEnum","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","buildColor","colorData","emptyProp","timeRemapped","setElements","elems","getElements","destroyElements","pr","volumeValue","textContainer","buildTextContents","textArray","textContents","currentTextContent","tSpan","usesGlyphs","cachedSpansLength","tElement","justify","textBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","gradientConstructor","lc","lj","ml","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","shapeProperty","setElementStyles","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","colorBlack","colorWhite","opacity","kBlurrinessToSigma","sigma","dimensions","sigmaX","sigmaY","edgeMode","initialize","groupPath","elemChildren","children","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","ef","filters","CVBaseElement","CVMaskElement","hasMasks","stroke","fill","currentRender","sWidth","fValue","CVEffects","HBaseElement","shapesContainer","currentBBox","textPaths","isMasked","pe","_prevMat","HEffects","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","newLength","currentSavedOp","set","createElements","globalCompositeOperation","hideElement","showElement","forceRealStack","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","drawImage","parentMatrix","moveTo","lineTo","bezierCurveTo","transformHelper","dashResetter","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","lastFill","lastStroke","lastStrokeW","checkBlendMode","tg","addEffects","backgroundColor","_createBaseContainerElements","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","item","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","right","yMax","bottom","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","changed","compW","compH","innerElemStyle","strokeWidth","lineHeight","tParent","tCont","textPath","margin","Image","imageElem","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","m_rotationX","m_rotationY","hasMatrixChanged","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","animation","isPaused","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","getRegisteredAnimations","animations","addPlayingCount","activate","loadAnimation","setParams","setSpeed","setDirection","nowTime","elapsedTime","advanceTime","goToAndStop","isFrame","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","getElementsByTagName","div","resize","freeze","unfreeze","currentRawFrame","frameMult","playSpeed","playDirection","playCount","autoplay","loop","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","animType","rendererSettings","parseInt","autoloadSegments","initialSegment","lastIndexOf","trigger","wrapperAttributes","attributes","getNamedItem","prerender","loadNextSegment","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","frameModifier","goToAndPlay","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","end","pendingFrame","playSegments","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onComplete","onSegmentStart","onDestroy","getPath","getDuration","onError","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","ExpressionManager","$bm_isInstanceOfArray","isNumerable","tOfV","Number","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","sum","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","rndm","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","property","needsVelocity","_needsRandom","elemType","$bm_transform","effect","thisProperty","valueAtTime","frameDuration","displayStartTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","__expression_functions","scoped_bm_rt","xf","eval","expression_function","numKeys","active","wiggle","freq","amp","addedAmps","periods","loopInDuration","duration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","yaw","easeOut","val1","val2","applyEase","easeIn","ease","nearestKey","framesToTime","frames","fps","timeToFrames","seedRandom","randSeed","substring","posterizeTime","framesPerSecond","hasParent","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","_cachingAtTime","getSpeedAtTime","delta","speed","getStaticValueAtTime","setGroupProperty","propertyGroup","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","endFrame","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","skewAxis","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","getShapeValueAtTime","shapeValue","propertyIndex","ix","ShapePropertyConstructorFunction","KeyframedShapePropertyConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","unitVector","tangentOnPath","normalOnPath","propertyGetShapeProp","trims","calculateExpression","getExpressionValue","isKeyframed","hasExpressions","ShapePathInterface","view","interfaceFunction","_propertyGroup","propertyGroupFactory","PropertyInterface","mn","parentPropertyGroup","propertyName","_name","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","contentsInterfaceFactory","interfaces","numProperties","transformInterface","transformInterfaceFactory","cix","np","ExpressionPropertyInterface","_dashPropertyGroup","dashOb","addPropertyToDashOb","start","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","parentGroupWrapper","_prevValue","_sourceText","_thisLayerFunction","sourceText","stringValue","getMatrix","toWorldMat","propMatrix","toWorldVec","applyPoint","fromWorldVec","invertPoint","sampleImage","_registerMaskInterface","MaskManagerInterface","_registerEffectsInterface","effects","TransformExpressionInterface","anchorPointDescriptor","anchor_point","startTime","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_transformFactory","_pz","_px","_py","compositions","_thisProjectFunction","effectsData","createGroupInterface","groupInterface","createValueInterface","enabled","en","expressionProperty","MaskInterface","_mask","_data","MaskManager","_masksInterfaces","maskFunction","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","assign","speedAtTime","UnidimensionalPropertyInterface","MultidimensionalPropertyInterface","arrValue","defaultGetter","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","TextExpressionSelectorProp","getValueProxy","total","propertyGetTextProp","eff","lottie","setLocationHref","setSubframeRendering","setQuality","isNaN","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","__getFactory","version","scripts","myScript","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","Base64","_keyStr","_utf8_encode","decode","_utf8_decode","GithubFac","endpoints","getUser","userName","getUsers","searchString","page","per_page","getRepos","createProperty","arraySpeciesCreate","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","FORCED","arg","E","getBuiltIn","IS_PURE","DESCRIPTORS","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","nativeObjectCreate","objectKeys","getOwnPropertyNamesModule","getOwnPropertyNamesExternal","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","propertyIsEnumerableModule","redefine","shared","sharedKey","hiddenKeys","uid","defineWellKnownSymbol","setToStringTag","InternalStateModule","HIDDEN","SYMBOL","PROTOTYPE","TO_PRIMITIVE","setInternalState","getInternalState","getterFor","ObjectPrototype","$Symbol","$stringify","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","P","Attributes","ObjectPrototypeDescriptor","wrap","tag","isSymbol","$defineProperty","$defineProperties","Properties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","V","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","IS_OBJECT_PROTOTYPE","setter","unsafe","sham","stat","string","keyFor","useSetter","useSimple","FORCED_JSON_STRINGIFY","space","$replacer","valueOf","argument","thrower","ACCESSORS","argument0","argument1","settle","cookies","buildFullPath","parseHeaders","isURLSameOrigin","requestData","requestHeaders","auth","username","password","unescape","Authorization","btoa","fullPath","toUpperCase","responseURL","responseHeaders","getAllResponseHeaders","responseData","statusText","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","setRequestHeader","onDownloadProgress","onUploadProgress","upload","abort","nativeKeys","FAILS_ON_PRIMITIVES","IndexedObject","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","that","specificCreate","self","boundFunction","map","some","every","find","findIndex","filterOut","ignoreDuplicateOf","trim","fns","FormData","ArrayBuffer","isView","getPrototypeOf","isFunction","pipe","URLSearchParams","product","assignValue","extend","stripBOM","normalizedName","$indexOf","nativeIndexOf","NEGATIVE_ZERO","searchElement","createInstance","defaultConfig","axios","all","promises","spread","default","normalizeArray","allowAboveRoot","up","last","basename","matchedSlash","xs","resolvedPath","resolvedAbsolute","isAbsolute","trailingSlash","relative","from","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","hasRoot","ext","extname","startDot","startPart","preDotState","relativeURL","classof","handlers","use","eject","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/chunk-5e3e01ce.a4e62a0e.js","sourcesContent":["var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"w-full my-8\",attrs:{\"id\":_vm.id + '-component'}},[_c('figure',{staticClass:\"xl:w-4/12 lg:w-6/12 md:w-7/12 w-11/12 mx-auto\",attrs:{\"id\":_vm.id}}),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"w-full\"},[_c('p',{staticClass:\"text-center text-xl font-body text-blue-500\"},[_vm._v(\" Aguarde... \")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <section :id=\"id + '-component'\" class=\"w-full my-8\">\n        <figure\n            :id=\"id\"\n            class=\"xl:w-4/12 lg:w-6/12 md:w-7/12 w-11/12 mx-auto\"\n        ></figure>\n        <section class=\"w-full\">\n            <p class=\"text-center text-xl font-body text-blue-500\">\n                Aguarde...\n            </p>\n        </section>\n    </section>\n</template>\n\n<script>\nimport Lottie from \"lottie-web\";\nimport Bunny from \"../assets/animations/15355-bunny.json\";\n\nexport default {\n    name: \"Loading\",\n    data() {\n        return {\n            id: `loading-github-search-${new Date().getTime()}`\n        };\n    },\n    methods: {\n        initAnimation() {\n            Lottie.loadAnimation({\n                container: document.getElementById(this.id),\n                renderer: \"svg\",\n                loop: true,\n                autoplay: true,\n                animationData: Bunny // the path to the animation json\n            });\n        }\n    },\n    mounted() {\n        this.initAnimation();\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=397e94e8&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","exports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t\"use strict\";\r\nvar svgNS = \"http://www.w3.org/2000/svg\";\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\nvar subframeEnabled = true;\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bm_rounder = Math.round;\r\nvar bm_rnd;\r\nvar bm_pow = Math.pow;\r\nvar bm_sqrt = Math.sqrt;\r\nvar bm_abs = Math.abs;\r\nvar bm_floor = Math.floor;\r\nvar bm_max = Math.max;\r\nvar bm_min = Math.min;\r\nvar blitter = 10;\r\n\r\nvar BMMath = {};\r\n(function(){\r\n    var propertyNames = [\"abs\", \"acos\", \"acosh\", \"asin\", \"asinh\", \"atan\", \"atanh\", \"atan2\", \"ceil\", \"cbrt\", \"expm1\", \"clz32\", \"cos\", \"cosh\", \"exp\", \"floor\", \"fround\", \"hypot\", \"imul\", \"log\", \"log1p\", \"log2\", \"log10\", \"max\", \"min\", \"pow\", \"random\", \"round\", \"sign\", \"sin\", \"sinh\", \"sqrt\", \"tan\", \"tanh\", \"trunc\", \"E\", \"LN10\", \"LN2\", \"LOG10E\", \"LOG2E\", \"PI\", \"SQRT1_2\", \"SQRT2\"];\r\n    var i, len = propertyNames.length;\r\n    for(i=0;i<len;i+=1){\r\n        BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n    }\r\n}());\r\n\r\nfunction ProjectInterface(){return {};}\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function(val){\r\n    var tOfVal = typeof val;\r\n    if(tOfVal === 'object' && val.length){\r\n        var absArr = createSizedArray(val.length);\r\n        var i, len = val.length;\r\n        for(i=0;i<len;i+=1){\r\n            absArr[i] = Math.abs(val[i]);\r\n        }\r\n        return absArr;\r\n    }\r\n    return Math.abs(val);\r\n\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI/180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag){\r\n    if(flag){\r\n        bm_rnd = Math.round;\r\n    }else{\r\n        bm_rnd = function(val){\r\n            return val;\r\n        };\r\n    }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element){\r\n    element.style.position = 'absolute';\r\n    element.style.top = 0;\r\n    element.style.left = 0;\r\n    element.style.display = 'block';\r\n    element.style.transformOrigin = element.style.webkitTransformOrigin = '0 0';\r\n    element.style.backfaceVisibility  = element.style.webkitBackfaceVisibility = 'visible';\r\n    element.style.transformStyle = element.style.webkitTransformStyle = element.style.mozTransformStyle = \"preserve-3d\";\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier){\r\n    this.type = type;\r\n    this.currentTime = currentTime;\r\n    this.totalTime = totalTime;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier){\r\n    this.type = type;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier){\r\n    this.type = type;\r\n    this.currentLoop = currentLoop;\r\n    this.totalLoops = totalLoops;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames){\r\n    this.type = type;\r\n    this.firstFrame = firstFrame;\r\n    this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target){\r\n    this.type = type;\r\n    this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n    this.type = 'renderFrameError';\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n    this.type = 'configError';\r\n    this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n    this.type = type;\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n}\r\n\r\nvar createElementID = (function(){\r\n    var _count = 0;\r\n    return function createID() {\r\n        return '__lottie_element_' + ++_count\r\n    }\r\n}())\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n    var r, g, b, i, f, p, q, t;\r\n    i = Math.floor(h * 6);\r\n    f = h * 6 - i;\r\n    p = v * (1 - s);\r\n    q = v * (1 - f * s);\r\n    t = v * (1 - (1 - f) * s);\r\n    switch (i % 6) {\r\n        case 0: r = v; g = t; b = p; break;\r\n        case 1: r = q; g = v; b = p; break;\r\n        case 2: r = p; g = v; b = t; break;\r\n        case 3: r = p; g = q; b = v; break;\r\n        case 4: r = t; g = p; b = v; break;\r\n        case 5: r = v; g = p; b = q; break;\r\n    }\r\n    return [ r,\r\n        g,\r\n         b ];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n    var max = Math.max(r, g, b), min = Math.min(r, g, b),\r\n        d = max - min,\r\n        h,\r\n        s = (max === 0 ? 0 : d / max),\r\n        v = max / 255;\r\n\r\n    switch (max) {\r\n        case min: h = 0; break;\r\n        case r: h = (g - b) + d * (g < b ? 6: 0); h /= 6 * d; break;\r\n        case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n        case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    }\r\n\r\n    return [\r\n         h,\r\n         s,\r\n         v\r\n    ];\r\n}\r\n\r\nfunction addSaturationToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[1] += offset;\r\n    if (hsv[1] > 1) {\r\n        hsv[1] = 1;\r\n    }\r\n    else if (hsv[1] <= 0) {\r\n        hsv[1] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[2] += offset;\r\n    if (hsv[2] > 1) {\r\n        hsv[2] = 1;\r\n    }\r\n    else if (hsv[2] < 0) {\r\n        hsv[2] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color,offset) {\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[0] += offset/360;\r\n    if (hsv[0] > 1) {\r\n        hsv[0] -= 1;\r\n    }\r\n    else if (hsv[0] < 0) {\r\n        hsv[0] += 1;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function(){\r\n    var colorMap = [];\r\n    var i;\r\n    var hex;\r\n    for(i=0;i<256;i+=1){\r\n        hex = i.toString(16);\r\n        colorMap[i] = hex.length == 1 ? '0' + hex : hex;\r\n    }\r\n\r\n    return function(r, g, b) {\r\n        if(r<0){\r\n            r = 0;\r\n        }\r\n        if(g<0){\r\n            g = 0;\r\n        }\r\n        if(b<0){\r\n            b = 0;\r\n        }\r\n        return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n    };\r\n}());\r\nfunction BaseEvent(){}\r\nBaseEvent.prototype = {\r\n\ttriggerEvent: function (eventName, args) {\r\n\t    if (this._cbs[eventName]) {\r\n\t        var len = this._cbs[eventName].length;\r\n\t        for (var i = 0; i < len; i++){\r\n\t            this._cbs[eventName][i](args);\r\n\t        }\r\n\t    }\r\n\t},\r\n\taddEventListener: function (eventName, callback) {\r\n\t    if (!this._cbs[eventName]){\r\n\t        this._cbs[eventName] = [];\r\n\t    }\r\n\t    this._cbs[eventName].push(callback);\r\n\r\n\t\treturn function() {\r\n\t\t\tthis.removeEventListener(eventName, callback);\r\n\t\t}.bind(this);\r\n\t},\r\n\tremoveEventListener: function (eventName,callback){\r\n\t    if (!callback){\r\n\t        this._cbs[eventName] = null;\r\n\t    }else if(this._cbs[eventName]){\r\n\t        var i = 0, len = this._cbs[eventName].length;\r\n\t        while(i<len){\r\n\t            if(this._cbs[eventName][i] === callback){\r\n\t                this._cbs[eventName].splice(i,1);\r\n\t                i -=1;\r\n\t                len -= 1;\r\n\t            }\r\n\t            i += 1;\r\n\t        }\r\n\t        if(!this._cbs[eventName].length){\r\n\t            this._cbs[eventName] = null;\r\n\t        }\r\n\t    }\r\n\t}\r\n};\r\nvar createTypedArray = (function(){\r\n\tfunction createRegularArray(type, len){\r\n\t\tvar i = 0, arr = [], value;\r\n\t\tswitch(type) {\r\n\t\t\tcase 'int16':\r\n\t\t\tcase 'uint8c':\r\n\t\t\t\tvalue = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tvalue = 1.1;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tarr.push(value);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction createTypedArray(type, len){\r\n\t\tif(type === 'float32') {\r\n\t\t\treturn new Float32Array(len);\r\n\t\t} else if(type === 'int16') {\r\n\t\t\treturn new Int16Array(len);\r\n\t\t} else if(type === 'uint8c') {\r\n\t\t\treturn new Uint8ClampedArray(len);\r\n\t\t}\r\n\t}\r\n\tif(typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n\t\treturn createTypedArray;\r\n\t} else {\r\n\t\treturn createRegularArray;\r\n\t}\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n\treturn Array.apply(null,{length:len});\r\n}\r\nfunction createNS(type) {\r\n\t//return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n\treturn document.createElementNS(svgNS, type);\r\n}\r\nfunction createTag(type) {\r\n\t//return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n\treturn document.createElement(type);\r\n}\r\nfunction DynamicPropertyContainer(){};\r\nDynamicPropertyContainer.prototype = {\r\n\taddDynamicProperty: function(prop) {\r\n\t\tif(this.dynamicProperties.indexOf(prop) === -1) {\r\n\t        this.dynamicProperties.push(prop);\r\n\t        this.container.addDynamicProperty(this);\r\n\t    \tthis._isAnimated = true;\r\n\t    }\r\n\t},\r\n\titerateDynamicProperties: function(){\r\n\t    this._mdf = false;\r\n\t    var i, len = this.dynamicProperties.length;\r\n\t    for(i=0;i<len;i+=1){\r\n\t        this.dynamicProperties[i].getValue();\r\n\t        if(this.dynamicProperties[i]._mdf) {\r\n\t            this._mdf = true;\r\n\t        }\r\n\t    }\r\n\t},\r\n\tinitDynamicPropertyContainer: function(container){\r\n\t    this.container = container;\r\n\t    this.dynamicProperties = [];\r\n\t    this._mdf = false;\r\n\t    this._isAnimated = false;\r\n\t}\r\n}\r\nvar getBlendMode = (function() {\r\n\r\n\tvar blendModeEnums = {\r\n        0:'source-over',\r\n        1:'multiply',\r\n        2:'screen',\r\n        3:'overlay',\r\n        4:'darken',\r\n        5:'lighten',\r\n        6:'color-dodge',\r\n        7:'color-burn',\r\n        8:'hard-light',\r\n        9:'soft-light',\r\n        10:'difference',\r\n        11:'exclusion',\r\n        12:'hue',\r\n        13:'saturation',\r\n        14:'color',\r\n        15:'luminosity'\r\n    }\r\n\r\n\treturn function(mode) {\r\n\t\treturn blendModeEnums[mode] || '';\r\n\t}\r\n}())\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function(){\r\n\r\n    var _cos = Math.cos;\r\n    var _sin = Math.sin;\r\n    var _tan = Math.tan;\r\n    var _rnd = Math.round;\r\n\r\n    function reset(){\r\n        this.props[0] = 1;\r\n        this.props[1] = 0;\r\n        this.props[2] = 0;\r\n        this.props[3] = 0;\r\n        this.props[4] = 0;\r\n        this.props[5] = 1;\r\n        this.props[6] = 0;\r\n        this.props[7] = 0;\r\n        this.props[8] = 0;\r\n        this.props[9] = 0;\r\n        this.props[10] = 1;\r\n        this.props[11] = 0;\r\n        this.props[12] = 0;\r\n        this.props[13] = 0;\r\n        this.props[14] = 0;\r\n        this.props[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    function rotate(angle) {\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateX(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateY(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos,  0,  mSin, 0, 0, 1, 0, 0, -mSin,  0,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateZ(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function shear(sx,sy){\r\n        return this._t(1, sy, sx, 1, 0, 0);\r\n    }\r\n\r\n    function skew(ax, ay){\r\n        return this.shear(_tan(ax), _tan(ay));\r\n    }\r\n\r\n    function skewFromAxis(ax, angle){\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, mSin,  0, 0, -mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(1, 0,  0, 0, _tan(ax),  1, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n        //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n    }\r\n\r\n    function scale(sx, sy, sz) {\r\n        if(!sz && sz !== 0) {\r\n            sz = 1;\r\n        }\r\n        if(sx === 1 && sy === 1 && sz === 1){\r\n            return this;\r\n        }\r\n        return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n        this.props[0] = a;\r\n        this.props[1] = b;\r\n        this.props[2] = c;\r\n        this.props[3] = d;\r\n        this.props[4] = e;\r\n        this.props[5] = f;\r\n        this.props[6] = g;\r\n        this.props[7] = h;\r\n        this.props[8] = i;\r\n        this.props[9] = j;\r\n        this.props[10] = k;\r\n        this.props[11] = l;\r\n        this.props[12] = m;\r\n        this.props[13] = n;\r\n        this.props[14] = o;\r\n        this.props[15] = p;\r\n        return this;\r\n    }\r\n\r\n    function translate(tx, ty, tz) {\r\n        tz = tz || 0;\r\n        if(tx !== 0 || ty !== 0 || tz !== 0){\r\n            return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n\r\n        var _p = this.props;\r\n\r\n        if(a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0){\r\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n                _p[12] = _p[12] * a2 + _p[15] * m2;\r\n                _p[13] = _p[13] * f2 + _p[15] * n2;\r\n                _p[14] = _p[14] * k2 + _p[15] * o2;\r\n                _p[15] = _p[15] * p2;\r\n            //}\r\n            this._identityCalculated = false;\r\n            return this;\r\n        }\r\n\r\n        var a1 = _p[0];\r\n        var b1 = _p[1];\r\n        var c1 = _p[2];\r\n        var d1 = _p[3];\r\n        var e1 = _p[4];\r\n        var f1 = _p[5];\r\n        var g1 = _p[6];\r\n        var h1 = _p[7];\r\n        var i1 = _p[8];\r\n        var j1 = _p[9];\r\n        var k1 = _p[10];\r\n        var l1 = _p[11];\r\n        var m1 = _p[12];\r\n        var n1 = _p[13];\r\n        var o1 = _p[14];\r\n        var p1 = _p[15];\r\n\r\n        /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n        _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n        _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2 ;\r\n        _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2 ;\r\n        _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2 ;\r\n\r\n        _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2 ;\r\n        _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2 ;\r\n        _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2 ;\r\n        _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2 ;\r\n\r\n        _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2 ;\r\n        _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2 ;\r\n        _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2 ;\r\n        _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2 ;\r\n\r\n        _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2 ;\r\n        _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2 ;\r\n        _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2 ;\r\n        _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2 ;\r\n\r\n        this._identityCalculated = false;\r\n        return this;\r\n    }\r\n\r\n    function isIdentity() {\r\n        if(!this._identityCalculated){\r\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n            this._identityCalculated = true;\r\n        }\r\n        return this._identity;\r\n    }\r\n\r\n    function equals(matr){\r\n        var i = 0;\r\n        while (i < 16) {\r\n            if(matr.props[i] !== this.props[i]) {\r\n                return false;\r\n            }\r\n            i+=1;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function clone(matr){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            matr.props[i] = this.props[i];\r\n        }\r\n        return matr;\r\n    }\r\n\r\n    function cloneFromProps(props){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            this.props[i] = props[i];\r\n        }\r\n    }\r\n\r\n    function applyToPoint(x, y, z) {\r\n\r\n        return {\r\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n        };\r\n        /*return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         };*/\r\n    }\r\n    function applyToX(x, y, z) {\r\n        return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n    }\r\n    function applyToY(x, y, z) {\r\n        return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n    }\r\n    function applyToZ(x, y, z) {\r\n        return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n    }\r\n\r\n    function getInverseMatrix() {\r\n        var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n        var a = this.props[5]/determinant;\r\n        var b = - this.props[1]/determinant;\r\n        var c = - this.props[4]/determinant;\r\n        var d = this.props[0]/determinant;\r\n        var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12])/determinant;\r\n        var f = - (this.props[0] * this.props[13] - this.props[1] * this.props[12])/determinant;\r\n        var inverseMatrix = new Matrix();\r\n        inverseMatrix.props[0] = a;\r\n        inverseMatrix.props[1] = b;\r\n        inverseMatrix.props[4] = c;\r\n        inverseMatrix.props[5] = d;\r\n        inverseMatrix.props[12] = e;\r\n        inverseMatrix.props[13] = f;\r\n        return inverseMatrix;\r\n    }\r\n\r\n    function inversePoint(pt) {\r\n        var inverseMatrix = this.getInverseMatrix();\r\n        return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0)\r\n    }\r\n\r\n    function inversePoints(pts){\r\n        var i, len = pts.length, retPts = [];\r\n        for(i=0;i<len;i+=1){\r\n            retPts[i] = inversePoint(pts[i]);\r\n        }\r\n        return retPts;\r\n    }\r\n\r\n    function applyToTriplePoints(pt1, pt2, pt3) {\r\n        var arr = createTypedArray('float32', 6);\r\n        if(this.isIdentity()) {\r\n            arr[0] = pt1[0];\r\n            arr[1] = pt1[1];\r\n            arr[2] = pt2[0];\r\n            arr[3] = pt2[1];\r\n            arr[4] = pt3[0];\r\n            arr[5] = pt3[1];\r\n        } else {\r\n            var p0 = this.props[0], p1 = this.props[1], p4 = this.props[4], p5 = this.props[5], p12 = this.props[12], p13 = this.props[13];\r\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointArray(x,y,z){\r\n        var arr;\r\n        if(this.isIdentity()) {\r\n            arr = [x,y,z];\r\n        } else {\r\n            arr = [\r\n                x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n                x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n                x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n            ];\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointStringified(x, y) {\r\n        if(this.isIdentity()) {\r\n            return x + ',' + y;\r\n        }\r\n        var _p = this.props;\r\n        return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100+','+ Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n    }\r\n\r\n    function toCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var i = 0;\r\n        var props = this.props;\r\n        var cssValue = 'matrix3d(';\r\n        var v = 10000;\r\n        while(i<16){\r\n            cssValue += _rnd(props[i]*v)/v;\r\n            cssValue += i === 15 ? ')':',';\r\n            i += 1;\r\n        }\r\n        return cssValue;\r\n    }\r\n\r\n    function roundMatrixProperty(val) {\r\n        var v = 10000;\r\n        if((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n            return _rnd(val * v) / v;\r\n        }\r\n        return val;\r\n    }\r\n\r\n    function to2dCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var props = this.props;\r\n        var _a = roundMatrixProperty(props[0]);\r\n        var _b = roundMatrixProperty(props[1]);\r\n        var _c = roundMatrixProperty(props[4]);\r\n        var _d = roundMatrixProperty(props[5]);\r\n        var _e = roundMatrixProperty(props[12]);\r\n        var _f = roundMatrixProperty(props[13]);\r\n        return \"matrix(\" + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + \")\";\r\n    }\r\n\r\n    return function(){\r\n        this.reset = reset;\r\n        this.rotate = rotate;\r\n        this.rotateX = rotateX;\r\n        this.rotateY = rotateY;\r\n        this.rotateZ = rotateZ;\r\n        this.skew = skew;\r\n        this.skewFromAxis = skewFromAxis;\r\n        this.shear = shear;\r\n        this.scale = scale;\r\n        this.setTransform = setTransform;\r\n        this.translate = translate;\r\n        this.transform = transform;\r\n        this.applyToPoint = applyToPoint;\r\n        this.applyToX = applyToX;\r\n        this.applyToY = applyToY;\r\n        this.applyToZ = applyToZ;\r\n        this.applyToPointArray = applyToPointArray;\r\n        this.applyToTriplePoints = applyToTriplePoints;\r\n        this.applyToPointStringified = applyToPointStringified;\r\n        this.toCSS = toCSS;\r\n        this.to2dCSS = to2dCSS;\r\n        this.clone = clone;\r\n        this.cloneFromProps = cloneFromProps;\r\n        this.equals = equals;\r\n        this.inversePoints = inversePoints;\r\n        this.inversePoint = inversePoint;\r\n        this.getInverseMatrix = getInverseMatrix;\r\n        this._t = this.transform;\r\n        this.isIdentity = isIdentity;\r\n        this._identity = true;\r\n        this._identityCalculated = false;\r\n\r\n        this.props = createTypedArray('float32', 16);\r\n        this.reset();\r\n    };\r\n}());\r\n\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\nvar BezierFactory = (function(){\r\n    /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gatan Renaudeau 2014 - 2015  MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n        var ob = {};\r\n    ob.getBezierEasing = getBezierEasing;\r\n    var beziers = {};\r\n\r\n    function getBezierEasing(a,b,c,d,nm){\r\n        var str = nm || ('bez_' + a+'_'+b+'_'+c+'_'+d).replace(/\\./g, 'p');\r\n        if(beziers[str]){\r\n            return beziers[str];\r\n        }\r\n        var bezEasing = new BezierEasing([a,b,c,d]);\r\n        beziers[str] = bezEasing;\r\n        return bezEasing;\r\n    }\r\n\r\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n    var NEWTON_ITERATIONS = 4;\r\n    var NEWTON_MIN_SLOPE = 0.001;\r\n    var SUBDIVISION_PRECISION = 0.0000001;\r\n    var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n    var kSplineTableSize = 11;\r\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n    var float32ArraySupported = typeof Float32Array === \"function\";\r\n\r\n    function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n    function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n    function C (aA1)      { return 3.0 * aA1; }\r\n\r\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n    function calcBezier (aT, aA1, aA2) {\r\n        return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;\r\n    }\r\n\r\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n    function getSlope (aT, aA1, aA2) {\r\n        return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n    }\r\n\r\n    function binarySubdivide (aX, aA, aB, mX1, mX2) {\r\n        var currentX, currentT, i = 0;\r\n        do {\r\n            currentT = aA + (aB - aA) / 2.0;\r\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n            if (currentX > 0.0) {\r\n                aB = currentT;\r\n            } else {\r\n                aA = currentT;\r\n            }\r\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n        return currentT;\r\n    }\r\n\r\n    function newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\r\n        for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n            var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n            if (currentSlope === 0.0) return aGuessT;\r\n            var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n            aGuessT -= currentX / currentSlope;\r\n        }\r\n        return aGuessT;\r\n    }\r\n\r\n    /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n    function BezierEasing (points) {\r\n        this._p = points;\r\n        this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n        this._precomputed = false;\r\n\r\n        this.get = this.get.bind(this);\r\n    }\r\n\r\n    BezierEasing.prototype = {\r\n\r\n        get: function (x) {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            if (!this._precomputed) this._precompute();\r\n            if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n            // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n            if (x === 0) return 0;\r\n            if (x === 1) return 1;\r\n            return calcBezier(this._getTForX(x), mY1, mY2);\r\n        },\r\n\r\n        // Private part\r\n\r\n        _precompute: function () {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            this._precomputed = true;\r\n            if (mX1 !== mY1 || mX2 !== mY2)\r\n                this._calcSampleValues();\r\n        },\r\n\r\n        _calcSampleValues: function () {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2];\r\n            for (var i = 0; i < kSplineTableSize; ++i) {\r\n                this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n        _getTForX: function (aX) {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2],\r\n                mSampleValues = this._mSampleValues;\r\n\r\n            var intervalStart = 0.0;\r\n            var currentSample = 1;\r\n            var lastSample = kSplineTableSize - 1;\r\n\r\n            for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n                intervalStart += kSampleStepSize;\r\n            }\r\n            --currentSample;\r\n\r\n            // Interpolate to provide an initial guess for t\r\n            var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample+1] - mSampleValues[currentSample]);\r\n            var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n            var initialSlope = getSlope(guessForT, mX1, mX2);\r\n            if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n                return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n            } else if (initialSlope === 0.0) {\r\n                return guessForT;\r\n            } else {\r\n                return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n            }\r\n        }\r\n    };\r\n\r\n    return ob;\r\n\r\n}());\r\n(function () {\r\n    var lastTime = 0;\r\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n    if(!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function (callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = setTimeout(function () {\r\n                    callback(currTime + timeToCall);\r\n                },\r\n                timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n    if(!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function (id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\nfunction extendPrototype(sources,destination){\r\n    var i, len = sources.length, sourcePrototype;\r\n    for (i = 0;i < len;i += 1) {\r\n        sourcePrototype = sources[i].prototype;\r\n        for (var attr in sourcePrototype) {\r\n            if (sourcePrototype.hasOwnProperty(attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n        }\r\n    }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n    return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n\tfunction ProxyFunction(){}\r\n\tProxyFunction.prototype = prototype;\r\n\treturn ProxyFunction;\r\n}\r\nfunction bezFunction(){\r\n\r\n    var easingFunctions = [];\r\n    var math = Math;\r\n\r\n    function pointOnLine2D(x1,y1, x2,y2, x3,y3){\r\n        var det1 = (x1*y2) + (y1*x3) + (x2*y3) - (x3*y2) - (y3*x1) - (x2*y1);\r\n        return det1 > -0.001 && det1 < 0.001;\r\n    }\r\n\r\n    function pointOnLine3D(x1,y1,z1, x2,y2,z2, x3,y3,z3){\r\n        if(z1 === 0 && z2 === 0 && z3 === 0) {\r\n            return pointOnLine2D(x1,y1, x2,y2, x3,y3);\r\n        }\r\n        var dist1 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2) + Math.pow(z2 - z1, 2));\r\n        var dist2 = Math.sqrt(Math.pow(x3 - x1, 2) + Math.pow(y3 - y1, 2) + Math.pow(z3 - z1, 2));\r\n        var dist3 = Math.sqrt(Math.pow(x3 - x2, 2) + Math.pow(y3 - y2, 2) + Math.pow(z3 - z2, 2));\r\n        var diffDist;\r\n        if(dist1 > dist2){\r\n            if(dist1 > dist3){\r\n                diffDist = dist1 - dist2 - dist3;\r\n            } else {\r\n                diffDist = dist3 - dist2 - dist1;\r\n            }\r\n        } else if(dist3 > dist2){\r\n            diffDist = dist3 - dist2 - dist1;\r\n        } else {\r\n            diffDist = dist2 - dist1 - dist3;\r\n        }\r\n        return diffDist > -0.0001 && diffDist < 0.0001;\r\n    }\r\n\r\n    var getBezierLength = (function(){\r\n\r\n        return function(pt1,pt2,pt3,pt4){\r\n            var curveSegments = defaultCurveSegments;\r\n            var k;\r\n            var i, len;\r\n            var ptCoord,perc,addedLength = 0;\r\n            var ptDistance;\r\n            var point = [],lastPoint = [];\r\n            var lengthData = bezier_length_pool.newElement();\r\n            len = pt3.length;\r\n            for(k=0;k<curveSegments;k+=1){\r\n                perc = k/(curveSegments-1);\r\n                ptDistance = 0;\r\n                for(i=0;i<len;i+=1){\r\n                    ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*pt3[i]+3*(1-perc)*bm_pow(perc,2)*pt4[i]+bm_pow(perc,3)*pt2[i];\r\n                    point[i] = ptCoord;\r\n                    if(lastPoint[i] !== null){\r\n                        ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                    }\r\n                    lastPoint[i] = point[i];\r\n                }\r\n                if(ptDistance){\r\n                    ptDistance = bm_sqrt(ptDistance);\r\n                    addedLength += ptDistance;\r\n                }\r\n                lengthData.percents[k] = perc;\r\n                lengthData.lengths[k] = addedLength;\r\n            }\r\n            lengthData.addedLength = addedLength;\r\n            return lengthData;\r\n        };\r\n    }());\r\n\r\n    function getSegmentsLength(shapeData) {\r\n        var segmentsLength = segments_length_pool.newElement();\r\n        var closed = shapeData.c;\r\n        var pathV = shapeData.v;\r\n        var pathO = shapeData.o;\r\n        var pathI = shapeData.i;\r\n        var i, len = shapeData._length;\r\n        var lengths = segmentsLength.lengths;\r\n        var totalLength = 0;\r\n        for(i=0;i<len-1;i+=1){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[i+1],pathO[i],pathI[i+1]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        if(closed && len){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[0],pathO[i],pathI[0]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        segmentsLength.totalLength = totalLength;\r\n        return segmentsLength;\r\n    }\r\n\r\n    function BezierData(length){\r\n        this.segmentLength = 0;\r\n        this.points = new Array(length);\r\n    }\r\n\r\n    function PointData(partial,point){\r\n        this.partialLength = partial;\r\n        this.point = point;\r\n    }\r\n\r\n    var buildBezierData = (function(){\r\n\r\n        var storedData = {};\r\n\r\n        return function (pt1, pt2, pt3, pt4){\r\n            var bezierName = (pt1[0]+'_'+pt1[1]+'_'+pt2[0]+'_'+pt2[1]+'_'+pt3[0]+'_'+pt3[1]+'_'+pt4[0]+'_'+pt4[1]).replace(/\\./g, 'p');\r\n            if(!storedData[bezierName]){\r\n                var curveSegments = defaultCurveSegments;\r\n                var k, i, len;\r\n                var ptCoord,perc,addedLength = 0;\r\n                var ptDistance;\r\n                var point,lastPoint = null;\r\n                if (pt1.length === 2 && (pt1[0] != pt2[0] || pt1[1] != pt2[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt1[0]+pt3[0],pt1[1]+pt3[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt2[0]+pt4[0],pt2[1]+pt4[1])){\r\n                    curveSegments = 2;\r\n                }\r\n                var bezierData = new BezierData(curveSegments);\r\n                len = pt3.length;\r\n                for (k = 0; k < curveSegments; k += 1) {\r\n                    point = createSizedArray(len);\r\n                    perc = k / (curveSegments - 1);\r\n                    ptDistance = 0;\r\n                    for (i = 0; i < len; i += 1){\r\n                        ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*(pt1[i] + pt3[i])+3*(1-perc)*bm_pow(perc,2)*(pt2[i] + pt4[i])+bm_pow(perc,3)*pt2[i];\r\n                        point[i] = ptCoord;\r\n                        if(lastPoint !== null){\r\n                            ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                        }\r\n                    }\r\n                    ptDistance = bm_sqrt(ptDistance);\r\n                    addedLength += ptDistance;\r\n                    bezierData.points[k] = new PointData(ptDistance, point);\r\n                    lastPoint = point;\r\n                }\r\n                bezierData.segmentLength = addedLength;\r\n                storedData[bezierName] = bezierData;\r\n            }\r\n            return storedData[bezierName];\r\n        };\r\n    }());\r\n\r\n    function getDistancePerc(perc,bezierData){\r\n        var percents = bezierData.percents;\r\n        var lengths = bezierData.lengths;\r\n        var len = percents.length;\r\n        var initPos = bm_floor((len-1)*perc);\r\n        var lengthPos = perc*bezierData.addedLength;\r\n        var lPerc = 0;\r\n        if(initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]){\r\n            return percents[initPos];\r\n        }else{\r\n            var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n            var flag = true;\r\n            while(flag){\r\n                if(lengths[initPos] <= lengthPos && lengths[initPos+1] > lengthPos){\r\n                    lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos+1] - lengths[initPos]);\r\n                    flag = false;\r\n                }else{\r\n                    initPos += dir;\r\n                }\r\n                if(initPos < 0 || initPos >= len - 1){\r\n                    //FIX for TypedArrays that don't store floating point values with enough accuracy\r\n                    if(initPos === len - 1) {\r\n                        return percents[initPos];\r\n                    }\r\n                    flag = false;\r\n                }\r\n            }\r\n            return percents[initPos] + (percents[initPos+1] - percents[initPos])*lPerc;\r\n        }\r\n    }\r\n\r\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n        var t1 = getDistancePerc(percent,bezierData);\r\n        var u0 = 1;\r\n        var u1 = 1 - t1;\r\n        var ptX = Math.round((u1*u1*u1* pt1[0] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[0] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[0] + t1*t1*t1* pt2[0])* 1000) / 1000;\r\n        var ptY = Math.round((u1*u1*u1* pt1[1] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[1] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[1] + t1*t1*t1* pt2[1])* 1000) / 1000;\r\n        return [ptX, ptY];\r\n    }\r\n\r\n    function getSegmentArray() {\r\n\r\n    }\r\n\r\n    var bezier_segment_points = createTypedArray('float32', 8);\r\n\r\n    function getNewSegment(pt1,pt2,pt3,pt4,startPerc,endPerc, bezierData){\r\n\r\n        startPerc = startPerc < 0 ? 0 : startPerc > 1 ? 1 : startPerc;\r\n        var t0 = getDistancePerc(startPerc,bezierData);\r\n        endPerc = endPerc > 1 ? 1 : endPerc;\r\n        var t1 = getDistancePerc(endPerc,bezierData);\r\n        var i, len = pt1.length;\r\n        var u0 = 1 - t0;\r\n        var u1 = 1 - t1;\r\n        var u0u0u0 = u0*u0*u0;\r\n        var t0u0u0_3 = t0*u0*u0*3;\r\n        var t0t0u0_3 = t0*t0*u0*3;\r\n        var t0t0t0 = t0*t0*t0;\r\n        //\r\n        var u0u0u1 = u0*u0*u1;\r\n        var t0u0u1_3 = t0*u0*u1 + u0*t0*u1 + u0*u0*t1;\r\n        var t0t0u1_3 = t0*t0*u1 + u0*t0*t1 + t0*u0*t1;\r\n        var t0t0t1 = t0*t0*t1;\r\n        //\r\n        var u0u1u1 = u0*u1*u1;\r\n        var t0u1u1_3 = t0*u1*u1 + u0*t1*u1 + u0*u1*t1;\r\n        var t0t1u1_3 = t0*t1*u1 + u0*t1*t1 + t0*u1*t1;\r\n        var t0t1t1 = t0*t1*t1;\r\n        //\r\n        var u1u1u1 = u1*u1*u1;\r\n        var t1u1u1_3 = t1*u1*u1 + u1*t1*u1 + u1*u1*t1;\r\n        var t1t1u1_3 = t1*t1*u1 + u1*t1*t1 + t1*u1*t1;\r\n        var t1t1t1 = t1*t1*t1;\r\n        for(i=0;i<len;i+=1){\r\n            bezier_segment_points[i * 4] = Math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 1] = Math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 2] = Math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 3] = Math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000;\r\n        }\r\n\r\n        return bezier_segment_points;\r\n    }\r\n\r\n    return {\r\n        getSegmentsLength : getSegmentsLength,\r\n        getNewSegment : getNewSegment,\r\n        getPointInSegment : getPointInSegment,\r\n        buildBezierData : buildBezierData,\r\n        pointOnLine2D : pointOnLine2D,\r\n        pointOnLine3D : pointOnLine3D\r\n    };\r\n}\r\n\r\nvar bez = bezFunction();\r\nfunction dataFunctionManager(){\r\n\r\n    //var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n    function completeLayers(layers, comps, fontManager){\r\n        var layerData;\r\n        var animArray, lastFrame;\r\n        var i, len = layers.length;\r\n        var j, jLen, k, kLen;\r\n        for(i=0;i<len;i+=1){\r\n            layerData = layers[i];\r\n            if(!('ks' in layerData) || layerData.completed){\r\n                continue;\r\n            }\r\n            layerData.completed = true;\r\n            if(layerData.tt){\r\n                layers[i-1].td = layerData.tt;\r\n            }\r\n            animArray = [];\r\n            lastFrame = -1;\r\n            if(layerData.hasMask){\r\n                var maskProps = layerData.masksProperties;\r\n                jLen = maskProps.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    if(maskProps[j].pt.k.i){\r\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                    }else{\r\n                        kLen = maskProps[j].pt.k.length;\r\n                        for(k=0;k<kLen;k+=1){\r\n                            if(maskProps[j].pt.k[k].s){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                            }\r\n                            if(maskProps[j].pt.k[k].e){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(layerData.ty===0){\r\n                layerData.layers = findCompLayers(layerData.refId, comps);\r\n                completeLayers(layerData.layers,comps, fontManager);\r\n            }else if(layerData.ty === 4){\r\n                completeShapes(layerData.shapes);\r\n            }else if(layerData.ty == 5){\r\n                completeText(layerData, fontManager);\r\n            }\r\n        }\r\n    }\r\n\r\n    function findCompLayers(id,comps){\r\n        var i = 0, len = comps.length;\r\n        while(i<len){\r\n            if(comps[i].id === id){\r\n                if(!comps[i].layers.__used) {\r\n                    comps[i].layers.__used = true;\r\n                    return comps[i].layers;\r\n                }\r\n                return JSON.parse(JSON.stringify(comps[i].layers));\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function completeShapes(arr){\r\n        var i, len = arr.length;\r\n        var j, jLen;\r\n        var hasPaths = false;\r\n        for(i=len-1;i>=0;i-=1){\r\n            if(arr[i].ty == 'sh'){\r\n                if(arr[i].ks.k.i){\r\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                }else{\r\n                    jLen = arr[i].ks.k.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(arr[i].ks.k[j].s){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                        }\r\n                        if(arr[i].ks.k[j].e){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                        }\r\n                    }\r\n                }\r\n                hasPaths = true;\r\n            }else if(arr[i].ty == 'gr'){\r\n                completeShapes(arr[i].it);\r\n            }\r\n        }\r\n        /*if(hasPaths){\r\n            //mx: distance\r\n            //ss: sensitivity\r\n            //dc: decay\r\n            arr.splice(arr.length-1,0,{\r\n                \"ty\": \"ms\",\r\n                \"mx\":20,\r\n                \"ss\":10,\r\n                 \"dc\":0.001,\r\n                \"maxDist\":200\r\n            });\r\n        }*/\r\n    }\r\n\r\n    function convertPathsToAbsoluteValues(path){\r\n        var i, len = path.i.length;\r\n        for(i=0;i<len;i+=1){\r\n            path.i[i][0] += path.v[i][0];\r\n            path.i[i][1] += path.v[i][1];\r\n            path.o[i][0] += path.v[i][0];\r\n            path.o[i][1] += path.v[i][1];\r\n        }\r\n    }\r\n\r\n    function checkVersion(minimum,animVersionString){\r\n        var animVersion = animVersionString ? animVersionString.split('.') : [100,100,100];\r\n        if(minimum[0]>animVersion[0]){\r\n            return true;\r\n        } else if(animVersion[0] > minimum[0]){\r\n            return false;\r\n        }\r\n        if(minimum[1]>animVersion[1]){\r\n            return true;\r\n        } else if(animVersion[1] > minimum[1]){\r\n            return false;\r\n        }\r\n        if(minimum[2]>animVersion[2]){\r\n            return true;\r\n        } else if(animVersion[2] > minimum[2]){\r\n            return false;\r\n        }\r\n    }\r\n\r\n    var checkText = (function(){\r\n        var minimumVersion = [4,4,14];\r\n\r\n        function updateTextLayer(textLayer){\r\n            var documentData = textLayer.t.d;\r\n            textLayer.t.d = {\r\n                k: [\r\n                    {\r\n                        s:documentData,\r\n                        t:0\r\n                    }\r\n                ]\r\n            };\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 5){\r\n                    updateTextLayer(layers[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkChars = (function() {\r\n        var minimumVersion = [4,7,99];\r\n        return function (animationData){\r\n            if(animationData.chars && !checkVersion(minimumVersion,animationData.v)){\r\n                var i, len = animationData.chars.length, j, jLen, k, kLen;\r\n                var pathData, paths;\r\n                for(i = 0; i < len; i += 1) {\r\n                    if(animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n                        paths = animationData.chars[i].data.shapes[0].it;\r\n                        jLen = paths.length;\r\n\r\n                        for(j = 0; j < jLen; j += 1) {\r\n                            pathData = paths[j].ks.k;\r\n                            if(!pathData.__converted) {\r\n                                convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                                pathData.__converted = true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkColors = (function(){\r\n        var minimumVersion = [4,1,9];\r\n\r\n        function iterateShapes(shapes){\r\n            var i, len = shapes.length;\r\n            var j, jLen;\r\n            for(i=0;i<len;i+=1){\r\n                if(shapes[i].ty === 'gr'){\r\n                    iterateShapes(shapes[i].it);\r\n                }else if(shapes[i].ty === 'fl' || shapes[i].ty === 'st'){\r\n                    if(shapes[i].c.k && shapes[i].c.k[0].i){\r\n                        jLen = shapes[i].c.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(shapes[i].c.k[j].s){\r\n                                shapes[i].c.k[j].s[0] /= 255;\r\n                                shapes[i].c.k[j].s[1] /= 255;\r\n                                shapes[i].c.k[j].s[2] /= 255;\r\n                                shapes[i].c.k[j].s[3] /= 255;\r\n                            }\r\n                            if(shapes[i].c.k[j].e){\r\n                                shapes[i].c.k[j].e[0] /= 255;\r\n                                shapes[i].c.k[j].e[1] /= 255;\r\n                                shapes[i].c.k[j].e[2] /= 255;\r\n                                shapes[i].c.k[j].e[3] /= 255;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        shapes[i].c.k[0] /= 255;\r\n                        shapes[i].c.k[1] /= 255;\r\n                        shapes[i].c.k[2] /= 255;\r\n                        shapes[i].c.k[3] /= 255;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 4){\r\n                    iterateShapes(layers[i].shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkShapes = (function(){\r\n        var minimumVersion = [4,4,18];\r\n\r\n\r\n\r\n        function completeShapes(arr){\r\n            var i, len = arr.length;\r\n            var j, jLen;\r\n            var hasPaths = false;\r\n            for(i=len-1;i>=0;i-=1){\r\n                if(arr[i].ty == 'sh'){\r\n                    if(arr[i].ks.k.i){\r\n                        arr[i].ks.k.c = arr[i].closed;\r\n                    }else{\r\n                        jLen = arr[i].ks.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(arr[i].ks.k[j].s){\r\n                                arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                            }\r\n                            if(arr[i].ks.k[j].e){\r\n                                arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                            }\r\n                        }\r\n                    }\r\n                    hasPaths = true;\r\n                }else if(arr[i].ty == 'gr'){\r\n                    completeShapes(arr[i].it);\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var layerData;\r\n            var i, len = layers.length;\r\n            var j, jLen, k, kLen;\r\n            for(i=0;i<len;i+=1){\r\n                layerData = layers[i];\r\n                if(layerData.hasMask){\r\n                    var maskProps = layerData.masksProperties;\r\n                    jLen = maskProps.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(maskProps[j].pt.k.i){\r\n                            maskProps[j].pt.k.c = maskProps[j].cl;\r\n                        }else{\r\n                            kLen = maskProps[j].pt.k.length;\r\n                            for(k=0;k<kLen;k+=1){\r\n                                if(maskProps[j].pt.k[k].s){\r\n                                    maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                                }\r\n                                if(maskProps[j].pt.k[k].e){\r\n                                    maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(layerData.ty === 4){\r\n                    completeShapes(layerData.shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    function completeData(animationData, fontManager){\r\n        if(animationData.__complete){\r\n            return;\r\n        }\r\n        checkColors(animationData);\r\n        checkText(animationData);\r\n        checkChars(animationData);\r\n        checkShapes(animationData);\r\n        completeLayers(animationData.layers, animationData.assets, fontManager);\r\n        animationData.__complete = true;\r\n        //blitAnimation(animationData, animationData.assets, fontManager);\r\n    }\r\n\r\n    function completeText(data, fontManager){\r\n        if(data.t.a.length === 0 && !('m' in data.t.p)){\r\n            data.singleShape = true;\r\n        }\r\n    }\r\n\r\n    var moduleOb = {};\r\n    moduleOb.completeData = completeData;\r\n    moduleOb.checkColors = checkColors;\r\n    moduleOb.checkChars = checkChars;\r\n    moduleOb.checkShapes = checkShapes;\r\n    moduleOb.completeLayers = completeLayers;\r\n\r\n    return moduleOb;\r\n}\r\n\r\nvar dataManager = dataFunctionManager();\r\n\r\nvar FontManager = (function(){\r\n\r\n    var maxWaitingTime = 5000;\r\n    var emptyChar = {\r\n        w: 0,\r\n        size:0,\r\n        shapes:[]\r\n    };\r\n    var combinedCharacters = [];\r\n    //Hindi characters\r\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366\r\n    , 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379\r\n    , 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n    function trimFontOptions(font) {\r\n        var familyArray = font.split(',');\r\n        var i, len = familyArray.length;\r\n        var enabledFamilies = [];\r\n        for (i = 0; i < len; i += 1) {\r\n            if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n                enabledFamilies.push(familyArray[i]);\r\n            }\r\n        }\r\n        return enabledFamilies.join(',');\r\n    }\r\n\r\n    function setUpNode(font, family){\r\n        var parentNode = createTag('span');\r\n        parentNode.style.fontFamily    = family;\r\n        var node = createTag('span');\r\n        // Characters that vary significantly among different fonts\r\n        node.innerText = 'giItT1WQy@!-/#';\r\n        // Visible - so we can measure it - but not on the screen\r\n        parentNode.style.position      = 'absolute';\r\n        parentNode.style.left          = '-10000px';\r\n        parentNode.style.top           = '-10000px';\r\n        // Large font size makes even subtle changes obvious\r\n        parentNode.style.fontSize      = '300px';\r\n        // Reset any font properties\r\n        parentNode.style.fontVariant   = 'normal';\r\n        parentNode.style.fontStyle     = 'normal';\r\n        parentNode.style.fontWeight    = 'normal';\r\n        parentNode.style.letterSpacing = '0';\r\n        parentNode.appendChild(node);\r\n        document.body.appendChild(parentNode);\r\n\r\n        // Remember width with no applied web font\r\n        var width = node.offsetWidth;\r\n        node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n        return {node:node, w:width, parent:parentNode};\r\n    }\r\n\r\n    function checkLoadedFonts() {\r\n        var i, len = this.fonts.length;\r\n        var node, w;\r\n        var loadedCount = len;\r\n        for(i=0;i<len; i+= 1){\r\n            if(this.fonts[i].loaded){\r\n                loadedCount -= 1;\r\n                continue;\r\n            }\r\n            if(this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0){\r\n                this.fonts[i].loaded = true;\r\n            } else{\r\n                node = this.fonts[i].monoCase.node;\r\n                w = this.fonts[i].monoCase.w;\r\n                if(node.offsetWidth !== w){\r\n                    loadedCount -= 1;\r\n                    this.fonts[i].loaded = true;\r\n                }else{\r\n                    node = this.fonts[i].sansCase.node;\r\n                    w = this.fonts[i].sansCase.w;\r\n                    if(node.offsetWidth !== w){\r\n                        loadedCount -= 1;\r\n                        this.fonts[i].loaded = true;\r\n                    }\r\n                }\r\n                if(this.fonts[i].loaded){\r\n                    this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n                    this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime){\r\n            setTimeout(this.checkLoadedFontsBinded, 20);\r\n        }else{\r\n            setTimeout(this.setIsLoadedBinded, 10);\r\n\r\n        }\r\n    }\r\n\r\n    function createHelper(def, fontData){\r\n        var tHelper = createNS('text');\r\n        tHelper.style.fontSize = '100px';\r\n        //tHelper.style.fontFamily = fontData.fFamily;\r\n        tHelper.setAttribute('font-family', fontData.fFamily);\r\n        tHelper.setAttribute('font-style', fontData.fStyle);\r\n        tHelper.setAttribute('font-weight', fontData.fWeight);\r\n        tHelper.textContent = '1';\r\n        if(fontData.fClass){\r\n            tHelper.style.fontFamily = 'inherit';\r\n            tHelper.setAttribute('class', fontData.fClass);\r\n        } else {\r\n            tHelper.style.fontFamily = fontData.fFamily;\r\n        }\r\n        def.appendChild(tHelper);\r\n        var tCanvasHelper = createTag('canvas').getContext('2d');\r\n        tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px '+ fontData.fFamily;\r\n        //tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n        return tHelper;\r\n    }\r\n\r\n    function addFonts(fontData, defs){\r\n        if(!fontData){\r\n            this.isLoaded = true;\r\n            return;\r\n        }\r\n        if(this.chars){\r\n            this.isLoaded = true;\r\n            this.fonts = fontData.list;\r\n            return;\r\n        }\r\n\r\n\r\n        var fontArr = fontData.list;\r\n        var i, len = fontArr.length;\r\n        var _pendingFonts = len;\r\n        for(i=0; i<len; i+= 1){\r\n            var shouldLoadFont = true;\r\n            var loadedSelector;\r\n            var j;\r\n            fontArr[i].loaded = false;\r\n            fontArr[i].monoCase = setUpNode(fontArr[i].fFamily,'monospace');\r\n            fontArr[i].sansCase = setUpNode(fontArr[i].fFamily,'sans-serif');\r\n            if(!fontArr[i].fPath) {\r\n                fontArr[i].loaded = true;\r\n                _pendingFonts -= 1;\r\n            }else if(fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3){\r\n                loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"'+ fontArr[i].fFamily +'\"], style[f-origin=\"3\"][f-family=\"'+ fontArr[i].fFamily +'\"]');\r\n\r\n                if (loadedSelector.length > 0) {\r\n                    shouldLoadFont = false;\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var s = createTag('style');\r\n                    s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    s.setAttribute('f-origin', fontArr[i].origin);\r\n                    s.setAttribute('f-family', fontArr[i].fFamily);\r\n                    s.type = \"text/css\";\r\n                    s.innerText = \"@font-face {\" + \"font-family: \"+fontArr[i].fFamily+\"; font-style: normal; src: url('\"+fontArr[i].fPath+\"');}\";\r\n                    defs.appendChild(s);\r\n                }\r\n            } else if(fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1){\r\n                loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n                for (j = 0; j < loadedSelector.length; j++) {\r\n                    if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n                        // Font is already loaded\r\n                        shouldLoadFont = false;\r\n                    }\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var l = createTag('link');\r\n                    l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    l.setAttribute('f-origin', fontArr[i].origin);\r\n                    l.type = \"text/css\";\r\n                    l.rel = \"stylesheet\";\r\n                    l.href = fontArr[i].fPath;\r\n                    document.body.appendChild(l);\r\n                }\r\n            } else if(fontArr[i].fOrigin === 't' || fontArr[i].origin === 2){\r\n                loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n                for (j = 0; j < loadedSelector.length; j++) {\r\n                    if (fontArr[i].fPath === loadedSelector[j].src) {\r\n                        // Font is already loaded\r\n                        shouldLoadFont = false;\r\n                    }\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var sc = createTag('link');\r\n                    sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    sc.setAttribute('f-origin', fontArr[i].origin);\r\n                    sc.setAttribute('rel','stylesheet');\r\n                    sc.setAttribute('href',fontArr[i].fPath);\r\n                    defs.appendChild(sc);\r\n                }\r\n            }\r\n            fontArr[i].helper = createHelper(defs,fontArr[i]);\r\n            fontArr[i].cache = {};\r\n            this.fonts.push(fontArr[i]);\r\n        }\r\n        if (_pendingFonts === 0) {\r\n            this.isLoaded = true;\r\n        } else {\r\n            //On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n            //Adding this timeout seems to fix it\r\n           setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n        }\r\n    }\r\n\r\n    function addChars(chars){\r\n        if(!chars){\r\n            return;\r\n        }\r\n        if(!this.chars){\r\n            this.chars = [];\r\n        }\r\n        var i, len = chars.length;\r\n        var j, jLen = this.chars.length, found;\r\n        for(i=0;i<len;i+=1){\r\n            j = 0;\r\n            found = false;\r\n            while(j<jLen){\r\n                if(this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch){\r\n                    found = true;\r\n                }\r\n                j += 1;\r\n            }\r\n            if(!found){\r\n                this.chars.push(chars[i]);\r\n                jLen += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function getCharData(char, style, font){\r\n        var i = 0, len = this.chars.length;\r\n        while( i < len) {\r\n            if(this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font){\r\n\r\n                return this.chars[i];\r\n            }\r\n            i+= 1;\r\n        }\r\n        if ((typeof char === 'string' && char.charCodeAt(0) !== 13 || !char)\r\n            && console\r\n            && console.warn\r\n            && !this._warned\r\n           ) {\r\n            this._warned = true\r\n            console.warn('Missing character from exported characters list: ', char, style, font);\r\n        }\r\n        return emptyChar;\r\n    }\r\n\r\n    function measureText(char, fontName, size) {\r\n        var fontData = this.getFontByName(fontName);\r\n        var index = char.charCodeAt(0);\r\n        if(!fontData.cache[index + 1]) {\r\n            var tHelper = fontData.helper;\r\n            //Canvas version\r\n            //fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n            //SVG version\r\n            //console.log(tHelper.getBBox().width)\r\n            if (char === ' ') {\r\n                tHelper.textContent = '|' + char + '|';\r\n                var doubleSize = tHelper.getComputedTextLength();\r\n                tHelper.textContent = '||';\r\n                var singleSize = tHelper.getComputedTextLength();\r\n                fontData.cache[index + 1] = (doubleSize - singleSize)/100;\r\n            } else {\r\n                tHelper.textContent = char;\r\n                fontData.cache[index + 1] = (tHelper.getComputedTextLength())/100;\r\n            }\r\n        }\r\n        return fontData.cache[index + 1] * size;\r\n    }\r\n\r\n    function getFontByName(name){\r\n        var i = 0, len = this.fonts.length;\r\n        while(i<len){\r\n            if(this.fonts[i].fName === name) {\r\n                return this.fonts[i];\r\n            }\r\n            i += 1;\r\n        }\r\n        return this.fonts[0];\r\n    }\r\n\r\n    function getCombinedCharacterCodes() {\r\n        return combinedCharacters;\r\n    }\r\n\r\n    function setIsLoaded() {\r\n        this.isLoaded = true\r\n    }\r\n\r\n    var Font = function(){\r\n        this.fonts = [];\r\n        this.chars = null;\r\n        this.typekitLoaded = 0;\r\n        this.isLoaded = false;\r\n        this._warned = false;\r\n        this.initTime = Date.now();\r\n        this.setIsLoadedBinded = this.setIsLoaded.bind(this)\r\n        this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this)\r\n    };\r\n    //TODO: for now I'm adding these methods to the Class and not the prototype. Think of a better way to implement it. \r\n    Font.getCombinedCharacterCodes = getCombinedCharacterCodes;\r\n\r\n    var fontPrototype = {\r\n        addChars: addChars,\r\n        addFonts: addFonts,\r\n        getCharData: getCharData,\r\n        getFontByName: getFontByName,\r\n        measureText: measureText,\r\n        checkLoadedFonts: checkLoadedFonts,\r\n        setIsLoaded: setIsLoaded,\r\n    }\r\n\r\n    Font.prototype = fontPrototype;\r\n\r\n    return Font;\r\n\r\n}());\r\n\r\nvar PropertyFactory = (function(){\r\n\r\n    var initFrame = initialDefaultFrame;\r\n    var math_abs = Math.abs;\r\n\r\n    function interpolateValue(frameNum, caching) {\r\n        var offsetTime = this.offsetTime;\r\n        var newValue;\r\n        if (this.propType === 'multidimensional') {\r\n            newValue = createTypedArray('float32', this.pv.length);\r\n        }\r\n        var iterationIndex = caching.lastIndex;\r\n        var i = iterationIndex;\r\n        var len = this.keyframes.length - 1, flag = true;\r\n        var keyData, nextKeyData;\r\n\r\n        while (flag) {\r\n            keyData = this.keyframes[i];\r\n            nextKeyData = this.keyframes[i + 1];\r\n            if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime){\r\n                if(keyData.h){\r\n                    keyData = nextKeyData;\r\n                }\r\n                iterationIndex = 0;\r\n                break;\r\n            }\r\n            if ((nextKeyData.t - offsetTime) > frameNum){\r\n                iterationIndex = i;\r\n                break;\r\n            }\r\n            if (i < len - 1){\r\n                i += 1;\r\n            } else {\r\n                iterationIndex = 0;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        var k, kLen, perc, jLen, j, fnc;\r\n        var nextKeyTime = nextKeyData.t - offsetTime;\r\n        var keyTime = keyData.t - offsetTime;\r\n        var endValue;\r\n        if (keyData.to) {\r\n            if (!keyData.bezierData) {\r\n                keyData.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n            }\r\n            var bezierData = keyData.bezierData;\r\n            if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n                var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n                kLen = bezierData.points[ind].point.length;\r\n                for (k = 0; k < kLen; k += 1) {\r\n                    newValue[k] = bezierData.points[ind].point[k];\r\n                }\r\n                // caching._lastKeyframeIndex = -1;\r\n            } else {\r\n                if (keyData.__fnct) {\r\n                    fnc = keyData.__fnct;\r\n                } else {\r\n                    fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n                    keyData.__fnct = fnc;\r\n                }\r\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n                var distanceInLine = bezierData.segmentLength*perc;\r\n\r\n                var segmentPerc;\r\n                var addedLength =  (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n                j =  (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n                flag = true;\r\n                jLen = bezierData.points.length;\r\n                while (flag) {\r\n                    addedLength += bezierData.points[j].partialLength;\r\n                    if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                            newValue[k] = bezierData.points[j].point[k];\r\n                        }\r\n                        break;\r\n                    } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n                        segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                            newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n                        }\r\n                        break;\r\n                    }\r\n                    if (j < jLen - 1){\r\n                        j += 1;\r\n                    } else {\r\n                        flag = false;\r\n                    }\r\n                }\r\n                caching._lastPoint = j;\r\n                caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n                caching._lastKeyframeIndex = i;\r\n            }\r\n        } else {\r\n            var outX, outY, inX, inY, keyValue;\r\n            len = keyData.s.length;\r\n            endValue = nextKeyData.s || keyData.e;\r\n            if (this.sh && keyData.h !== 1) {\r\n                if (frameNum >= nextKeyTime) {\r\n                    newValue[0] = endValue[0];\r\n                    newValue[1] = endValue[1];\r\n                    newValue[2] = endValue[2];\r\n                } else if (frameNum <= keyTime) {\r\n                    newValue[0] = keyData.s[0];\r\n                    newValue[1] = keyData.s[1];\r\n                    newValue[2] = keyData.s[2];\r\n                } else {\r\n                    var quatStart = createQuaternion(keyData.s);\r\n                    var quatEnd = createQuaternion(endValue);\r\n                    var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n                    quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n                }\r\n                \r\n            } else {\r\n                for(i = 0; i < len; i += 1) {\r\n                    if (keyData.h !== 1) {\r\n                        if (frameNum >= nextKeyTime) {\r\n                            perc = 1;\r\n                        } else if(frameNum < keyTime) {\r\n                            perc = 0;\r\n                        } else {\r\n                            if(keyData.o.x.constructor === Array) {\r\n                                if (!keyData.__fnct) {\r\n                                    keyData.__fnct = [];\r\n                                }\r\n                                if (!keyData.__fnct[i]) {\r\n                                    outX = (typeof keyData.o.x[i] === 'undefined') ? keyData.o.x[0] : keyData.o.x[i];\r\n                                    outY = (typeof keyData.o.y[i] === 'undefined') ? keyData.o.y[0] : keyData.o.y[i];\r\n                                    inX = (typeof keyData.i.x[i] === 'undefined') ? keyData.i.x[0] : keyData.i.x[i];\r\n                                    inY = (typeof keyData.i.y[i] === 'undefined') ? keyData.i.y[0] : keyData.i.y[i];\r\n                                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                                    keyData.__fnct[i] = fnc;\r\n                                } else {\r\n                                    fnc = keyData.__fnct[i];\r\n                                }\r\n                            } else {\r\n                                if (!keyData.__fnct) {\r\n                                    outX = keyData.o.x;\r\n                                    outY = keyData.o.y;\r\n                                    inX = keyData.i.x;\r\n                                    inY = keyData.i.y;\r\n                                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                                    keyData.__fnct = fnc;\r\n                                } else {\r\n                                    fnc = keyData.__fnct;\r\n                                }\r\n                            }\r\n                            perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime ));\r\n                        }\r\n                    }\r\n\r\n                    endValue = nextKeyData.s || keyData.e;\r\n                    keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n                    if (this.propType === 'multidimensional') {\r\n                        newValue[i] = keyValue;\r\n                    } else {\r\n                        newValue = keyValue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        caching.lastIndex = iterationIndex;\r\n        return newValue;\r\n    }\r\n\r\n    //based on @Toji's https://github.com/toji/gl-matrix/\r\n    function slerp(a, b, t) {\r\n        var out = [];\r\n        var ax = a[0], ay = a[1], az = a[2], aw = a[3],\r\n        bx = b[0], by = b[1], bz = b[2], bw = b[3]\r\n\r\n        var omega, cosom, sinom, scale0, scale1;\r\n\r\n        cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n        if (cosom < 0.0) {\r\n            cosom = -cosom;\r\n            bx = -bx;\r\n            by = -by;\r\n            bz = -bz;\r\n            bw = -bw;\r\n        }\r\n        if ((1.0 - cosom) > 0.000001) {\r\n            omega = Math.acos(cosom);\r\n            sinom = Math.sin(omega);\r\n            scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n            scale1 = Math.sin(t * omega) / sinom;\r\n        } else {\r\n            scale0 = 1.0 - t;\r\n            scale1 = t;\r\n        }\r\n        out[0] = scale0 * ax + scale1 * bx;\r\n        out[1] = scale0 * ay + scale1 * by;\r\n        out[2] = scale0 * az + scale1 * bz;\r\n        out[3] = scale0 * aw + scale1 * bw;\r\n\r\n        return out;\r\n    }\r\n\r\n    function quaternionToEuler(out, quat) {\r\n        var qx = quat[0];\r\n        var qy = quat[1];\r\n        var qz = quat[2];\r\n        var qw = quat[3];\r\n        var heading = Math.atan2(2*qy*qw-2*qx*qz , 1 - 2*qy*qy - 2*qz*qz)\r\n        var attitude = Math.asin(2*qx*qy + 2*qz*qw) \r\n        var bank = Math.atan2(2*qx*qw-2*qy*qz , 1 - 2*qx*qx - 2*qz*qz);\r\n        out[0] = heading/degToRads;\r\n        out[1] = attitude/degToRads;\r\n        out[2] = bank/degToRads;\r\n    }\r\n\r\n    function createQuaternion(values) {\r\n        var heading = values[0] * degToRads;\r\n        var attitude = values[1] * degToRads;\r\n        var bank = values[2] * degToRads;\r\n        var c1 = Math.cos(heading / 2);\r\n        var c2 = Math.cos(attitude / 2);\r\n        var c3 = Math.cos(bank / 2);\r\n        var s1 = Math.sin(heading / 2);\r\n        var s2 = Math.sin(attitude / 2);\r\n        var s3 = Math.sin(bank / 2);\r\n        var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n        var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n        var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n        var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n        return [x,y,z,w];\r\n    }\r\n\r\n    function getValueAtCurrentTime(){\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length- 1].t-this.offsetTime;\r\n        if(!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))){\r\n            if(this._caching.lastFrame >= frameNum) {\r\n                this._caching._lastKeyframeIndex = -1;\r\n                this._caching.lastIndex = 0;\r\n            }\r\n\r\n            var renderResult = this.interpolateValue(frameNum, this._caching);\r\n            this.pv = renderResult;\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        return this.pv;\r\n    }\r\n\r\n    function setVValue(val) {\r\n        var multipliedValue;\r\n        if(this.propType === 'unidimensional') {\r\n            multipliedValue = val * this.mult;\r\n            if(math_abs(this.v - multipliedValue) > 0.00001) {\r\n                this.v = multipliedValue;\r\n                this._mdf = true;\r\n            }\r\n        } else {\r\n            var i = 0, len = this.v.length;\r\n            while (i < len) {\r\n                multipliedValue = val[i] * this.mult;\r\n                if (math_abs(this.v[i] - multipliedValue) > 0.00001) {\r\n                    this.v[i] = multipliedValue;\r\n                    this._mdf = true;\r\n                }\r\n                i += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n        if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n            return;\r\n        }\r\n        if(this.lock) {\r\n            this.setVValue(this.pv);\r\n            return;\r\n        }\r\n        this.lock = true;\r\n        this._mdf = this._isFirstFrame;\r\n        var multipliedValue;\r\n        var i, len = this.effectsSequence.length;\r\n        var finalValue = this.kf ? this.pv : this.data.k;\r\n        for(i = 0; i < len; i += 1) {\r\n            finalValue = this.effectsSequence[i](finalValue);\r\n        }\r\n        this.setVValue(finalValue);\r\n        this._isFirstFrame = false;\r\n        this.lock = false;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n        this.effectsSequence.push(effectFunction);\r\n        this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    function ValueProperty(elem, data, mult, container){\r\n        this.propType = 'unidimensional';\r\n        this.mult = mult || 1;\r\n        this.data = data;\r\n        this.v = mult ? data.k * mult : data.k;\r\n        this.pv = data.k;\r\n        this._mdf = false;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.vel = 0;\r\n        this.effectsSequence = [];\r\n        this._isFirstFrame = true;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function MultiDimensionalProperty(elem, data, mult, container) {\r\n        this.propType = 'multidimensional';\r\n        this.mult = mult || 1;\r\n        this.data = data;\r\n        this._mdf = false;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.frameId = -1;\r\n        var i, len = data.k.length;\r\n        this.v = createTypedArray('float32', len);\r\n        this.pv = createTypedArray('float32', len);\r\n        var arr = createTypedArray('float32', len);\r\n        this.vel = createTypedArray('float32', len);\r\n        for (i = 0; i < len; i += 1) {\r\n            this.v[i] = data.k[i] * this.mult;\r\n            this.pv[i] = data.k[i];\r\n        }\r\n        this._isFirstFrame = true;\r\n        this.effectsSequence = [];\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedValueProperty(elem, data, mult, container) {\r\n        this.propType = 'unidimensional';\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.frameId = -1;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1};\r\n        this.k = true;\r\n        this.kf = true;\r\n        this.data = data;\r\n        this.mult = mult || 1;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.v = initFrame;\r\n        this.pv = initFrame;\r\n        this._isFirstFrame = true;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.interpolateValue = interpolateValue;\r\n        this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedMultidimensionalProperty(elem, data, mult, container){\r\n        this.propType = 'multidimensional';\r\n        var i, len = data.k.length;\r\n        var s, e,to,ti;\r\n        for (i = 0; i < len - 1; i += 1) {\r\n            if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n                s = data.k[i].s;\r\n                e = data.k[i + 1].s;\r\n                to = data.k[i].to;\r\n                ti = data.k[i].ti;\r\n                if((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],s[0] + to[0],s[1] + to[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],e[0] + ti[0],e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],s[0] + to[0],s[1] + to[1],s[2] + to[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],e[0] + ti[0],e[1] + ti[1],e[2] + ti[2]))){\r\n                    data.k[i].to = null;\r\n                    data.k[i].ti = null;\r\n                }\r\n                if(s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n                    if(s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n                        data.k[i].to = null;\r\n                        data.k[i].ti = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n        this.data = data;\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.k = true;\r\n        this.kf = true;\r\n        this._isFirstFrame = true;\r\n        this.mult = mult || 1;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.interpolateValue = interpolateValue;\r\n        this.frameId = -1;\r\n        var arrLen = data.k[0].s.length;\r\n        this.v = createTypedArray('float32', arrLen);\r\n        this.pv = createTypedArray('float32', arrLen);\r\n        for (i = 0; i < arrLen; i += 1) {\r\n            this.v[i] = initFrame;\r\n            this.pv[i] = initFrame;\r\n        }\r\n        this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray('float32', arrLen)};\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function getProp(elem,data,type, mult, container) {\r\n        var p;\r\n        if(!data.k.length){\r\n            p = new ValueProperty(elem,data, mult, container);\r\n        }else if(typeof(data.k[0]) === 'number'){\r\n            p = new MultiDimensionalProperty(elem,data, mult, container);\r\n        }else{\r\n            switch(type){\r\n                case 0:\r\n                    p = new KeyframedValueProperty(elem,data,mult, container);\r\n                    break;\r\n                case 1:\r\n                    p = new KeyframedMultidimensionalProperty(elem,data,mult, container);\r\n                    break;\r\n            }\r\n        }\r\n        if(p.effectsSequence.length){\r\n            container.addDynamicProperty(p);\r\n        }\r\n        return p;\r\n    }\r\n\r\n    var ob = {\r\n        getProp: getProp\r\n    };\r\n    return ob;\r\n}());\r\nvar TransformPropertyFactory = (function() {\r\n\r\n    var defaultVector = [0,0]\r\n\r\n    function applyToMatrix(mat) {\r\n        var _mdf = this._mdf;\r\n        this.iterateDynamicProperties();\r\n        this._mdf = this._mdf || _mdf;\r\n        if (this.a) {\r\n            mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n        }\r\n        if (this.s) {\r\n            mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n        }\r\n        if (this.sk) {\r\n            mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n        }\r\n        if (this.r) {\r\n            mat.rotate(-this.r.v);\r\n        } else {\r\n            mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n        }\r\n        if (this.data.p.s) {\r\n            if (this.data.p.z) {\r\n                mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n            } else {\r\n                mat.translate(this.px.v, this.py.v, 0);\r\n            }\r\n        } else {\r\n            mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n        }\r\n    }\r\n    function processKeys(forceRender){\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n        }\r\n        if(this._isDirty) {\r\n            this.precalculateMatrix();\r\n            this._isDirty = false;\r\n        }\r\n\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf || forceRender) {\r\n            this.v.cloneFromProps(this.pre.props);\r\n            if (this.appliedTransformations < 1) {\r\n                this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n            }\r\n            if(this.appliedTransformations < 2) {\r\n                this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n            }\r\n            if (this.sk && this.appliedTransformations < 3) {\r\n                this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n            }\r\n            if (this.r && this.appliedTransformations < 4) {\r\n                this.v.rotate(-this.r.v);\r\n            } else if (!this.r && this.appliedTransformations < 4){\r\n                this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n            }\r\n            if (this.autoOriented) {\r\n                var v1,v2, frameRate = this.elem.globalData.frameRate;\r\n                if(this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n                    if (this.p._caching.lastFrame+this.p.offsetTime <= this.p.keyframes[0].t) {\r\n                        v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n                    } else if(this.p._caching.lastFrame+this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n                        v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n                        v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n                    } else {\r\n                        v1 = this.p.pv;\r\n                        v2 = this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n                    }\r\n                } else if(this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n                    v1 = [];\r\n                    v2 = [];\r\n                    var px = this.px, py = this.py, frameRate;\r\n                    if (px._caching.lastFrame+px.offsetTime <= px.keyframes[0].t) {\r\n                        v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate,0);\r\n                        v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate,0);\r\n                    } else if(px._caching.lastFrame+px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n                        v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate),0);\r\n                        v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate),0);\r\n                        v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate,0);\r\n                        v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate,0);\r\n                    } else {\r\n                        v1 = [px.pv, py.pv];\r\n                        v2[0] = px.getValueAtTime((px._caching.lastFrame+px.offsetTime - 0.01) / frameRate,px.offsetTime);\r\n                        v2[1] = py.getValueAtTime((py._caching.lastFrame+py.offsetTime - 0.01) / frameRate,py.offsetTime);\r\n                    }\r\n                } else {\r\n                    v1 = v2 = defaultVector\r\n                }\r\n                this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n            }\r\n            if(this.data.p && this.data.p.s){\r\n                if(this.data.p.z) {\r\n                    this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n                } else {\r\n                    this.v.translate(this.px.v, this.py.v, 0);\r\n                }\r\n            }else{\r\n                this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);\r\n            }\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function precalculateMatrix() {\r\n        if(!this.a.k) {\r\n            this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n            this.appliedTransformations = 1;\r\n        } else {\r\n            return;\r\n        }\r\n        if(!this.s.effectsSequence.length) {\r\n            this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n            this.appliedTransformations = 2;\r\n        } else {\r\n            return;\r\n        }\r\n        if(this.sk) {\r\n            if(!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n                this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n            this.appliedTransformations = 3;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n        if (this.r) {\r\n            if(!this.r.effectsSequence.length) {\r\n                this.pre.rotate(-this.r.v);\r\n                this.appliedTransformations = 4;\r\n            } else {\r\n                return;\r\n            }\r\n        } else if(!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n            this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n            this.appliedTransformations = 4;\r\n        }\r\n    }\r\n\r\n    function autoOrient(){\r\n        //\r\n        //var prevP = this.getValueAtTime();\r\n    }\r\n\r\n    function addDynamicProperty(prop) {\r\n        this._addDynamicProperty(prop);\r\n        this.elem.addDynamicProperty(prop);\r\n        this._isDirty = true;\r\n    }\r\n\r\n    function TransformProperty(elem,data,container){\r\n        this.elem = elem;\r\n        this.frameId = -1;\r\n        this.propType = 'transform';\r\n        this.data = data;\r\n        this.v = new Matrix();\r\n        //Precalculated matrix with non animated properties\r\n        this.pre = new Matrix();\r\n        this.appliedTransformations = 0;\r\n        this.initDynamicPropertyContainer(container || elem);\r\n        if(data.p && data.p.s){\r\n            this.px = PropertyFactory.getProp(elem,data.p.x,0,0,this);\r\n            this.py = PropertyFactory.getProp(elem,data.p.y,0,0,this);\r\n            if(data.p.z){\r\n                this.pz = PropertyFactory.getProp(elem,data.p.z,0,0,this);\r\n            }\r\n        }else{\r\n            this.p = PropertyFactory.getProp(elem,data.p || {k:[0,0,0]},1,0,this);\r\n        }\r\n        if(data.rx) {\r\n            this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n            this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n            this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n            if(data.or.k[0].ti) {\r\n                var i, len = data.or.k.length;\r\n                for(i=0;i<len;i+=1) {\r\n                    data.or.k[i].to = data.or.k[i].ti = null;\r\n                }\r\n            }\r\n            this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n            //sh Indicates it needs to be capped between -180 and 180\r\n            this.or.sh = true;\r\n        } else {\r\n            this.r = PropertyFactory.getProp(elem, data.r || {k: 0}, 0, degToRads, this);\r\n        }\r\n        if(data.sk){\r\n            this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n            this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n        }\r\n        this.a = PropertyFactory.getProp(elem,data.a || {k:[0,0,0]},1,0,this);\r\n        this.s = PropertyFactory.getProp(elem,data.s || {k:[100,100,100]},1,0.01,this);\r\n        // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n        if(data.o){\r\n            this.o = PropertyFactory.getProp(elem,data.o,0,0.01,elem);\r\n        } else {\r\n            this.o = {_mdf:false,v:1};\r\n        }\r\n        this._isDirty = true;\r\n        if(!this.dynamicProperties.length){\r\n            this.getValue(true);\r\n        }\r\n    }\r\n\r\n    TransformProperty.prototype = {\r\n        applyToMatrix: applyToMatrix,\r\n        getValue: processKeys,\r\n        precalculateMatrix: precalculateMatrix,\r\n        autoOrient: autoOrient\r\n    }\r\n\r\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n    function getTransformProperty(elem,data,container){\r\n        return new TransformProperty(elem,data,container);\r\n    }\r\n\r\n    return {\r\n        getTransformProperty: getTransformProperty\r\n    };\r\n\r\n}());\r\nfunction ShapePath(){\r\n\tthis.c = false;\r\n\tthis._length = 0;\r\n\tthis._maxLength = 8;\r\n\tthis.v = createSizedArray(this._maxLength);\r\n\tthis.o = createSizedArray(this._maxLength);\r\n\tthis.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function(closed, len) {\r\n\tthis.c = closed;\r\n\tthis.setLength(len);\r\n\tvar i = 0;\r\n\twhile(i < len){\r\n\t\tthis.v[i] = point_pool.newElement();\r\n\t\tthis.o[i] = point_pool.newElement();\r\n\t\tthis.i[i] = point_pool.newElement();\r\n\t\ti += 1;\r\n\t}\r\n};\r\n\r\nShapePath.prototype.setLength = function(len) {\r\n\twhile(this._maxLength < len) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tthis._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function() {\r\n\tthis.v = this.v.concat(createSizedArray(this._maxLength));\r\n\tthis.i = this.i.concat(createSizedArray(this._maxLength));\r\n\tthis.o = this.o.concat(createSizedArray(this._maxLength));\r\n\tthis._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function(x, y, type, pos, replace) {\r\n\tvar arr;\r\n\tthis._length = Math.max(this._length, pos + 1);\r\n\tif(this._length >= this._maxLength) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tswitch(type){\r\n\t\tcase 'v':\r\n\t\t\tarr = this.v;\r\n\t\t\tbreak;\r\n\t\tcase 'i':\r\n\t\t\tarr = this.i;\r\n\t\t\tbreak;\r\n\t\tcase 'o':\r\n\t\t\tarr = this.o;\r\n\t\t\tbreak;\r\n\t}\r\n\tif(!arr[pos] || (arr[pos] && !replace)){\r\n\t\tarr[pos] = point_pool.newElement();\r\n\t}\r\n\tarr[pos][0] = x;\r\n\tarr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function(vX,vY,oX,oY,iX,iY,pos, replace) {\r\n\tthis.setXYAt(vX,vY,'v',pos, replace);\r\n\tthis.setXYAt(oX,oY,'o',pos, replace);\r\n\tthis.setXYAt(iX,iY,'i',pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function() {\r\n\tvar newPath = new ShapePath();\r\n\tnewPath.setPathData(this.c, this._length);\r\n\tvar vertices = this.v, outPoints = this.o, inPoints = this.i;\r\n\tvar init = 0;\r\n\tif (this.c) {\r\n\t\tnewPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n        init = 1;\r\n    }\r\n    var cnt = this._length - 1;\r\n    var len = this._length;\r\n\r\n    var i;\r\n    for (i = init; i < len; i += 1) {\r\n    \tnewPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n        cnt -= 1;\r\n    }\r\n    return newPath;\r\n};\r\nvar ShapePropertyFactory = (function(){\r\n\r\n    var initFrame = -999999;\r\n\r\n    function interpolateShape(frameNum, previousValue, caching) {\r\n        var iterationIndex = caching.lastIndex;\r\n        var keyPropS,keyPropE,isHold, j, k, jLen, kLen, perc, vertexValue;\r\n        var kf = this.keyframes;\r\n        if(frameNum < kf[0].t-this.offsetTime){\r\n            keyPropS = kf[0].s[0];\r\n            isHold = true;\r\n            iterationIndex = 0;\r\n        }else if(frameNum >= kf[kf.length - 1].t-this.offsetTime){\r\n            keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n            /*if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            }*/\r\n            isHold = true;\r\n        }else{\r\n            var i = iterationIndex;\r\n            var len = kf.length- 1,flag = true,keyData,nextKeyData;\r\n            while(flag){\r\n                keyData = kf[i];\r\n                nextKeyData = kf[i+1];\r\n                if((nextKeyData.t - this.offsetTime) > frameNum){\r\n                    break;\r\n                }\r\n                if(i < len - 1){\r\n                    i += 1;\r\n                }else{\r\n                    flag = false;\r\n                }\r\n            }\r\n            isHold = keyData.h === 1;\r\n            iterationIndex = i;\r\n            if(!isHold){\r\n                if(frameNum >= nextKeyData.t-this.offsetTime){\r\n                    perc = 1;\r\n                }else if(frameNum < keyData.t-this.offsetTime){\r\n                    perc = 0;\r\n                }else{\r\n                    var fnc;\r\n                    if(keyData.__fnct){\r\n                        fnc = keyData.__fnct;\r\n                    }else{\r\n                        fnc = BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y).get;\r\n                        keyData.__fnct = fnc;\r\n                    }\r\n                    perc = fnc((frameNum-(keyData.t-this.offsetTime))/((nextKeyData.t-this.offsetTime)-(keyData.t-this.offsetTime)));\r\n                }\r\n                keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n            }\r\n            keyPropS = keyData.s[0];\r\n        }\r\n        jLen = previousValue._length;\r\n        kLen = keyPropS.i[0].length;\r\n        caching.lastIndex = iterationIndex;\r\n\r\n        for(j=0;j<jLen;j+=1){\r\n            for(k=0;k<kLen;k+=1){\r\n                vertexValue = isHold ? keyPropS.i[j][k] :  keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;\r\n                previousValue.i[j][k] = vertexValue;\r\n                vertexValue = isHold ? keyPropS.o[j][k] :  keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;\r\n                previousValue.o[j][k] = vertexValue;\r\n                vertexValue = isHold ? keyPropS.v[j][k] :  keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;\r\n                previousValue.v[j][k] = vertexValue;\r\n            }\r\n        }\r\n    }\r\n\r\n    function interpolateShapeCurrentTime(){\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n        var lastFrame = this._caching.lastFrame;\r\n        if(!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))){\r\n            ////\r\n            this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n            this.interpolateShape(frameNum, this.pv, this._caching);\r\n            ////\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        return this.pv;\r\n    }\r\n\r\n    function resetShape(){\r\n        this.paths = this.localShapeCollection;\r\n    }\r\n\r\n    function shapesEqual(shape1, shape2) {\r\n        if(shape1._length !== shape2._length || shape1.c !== shape2.c){\r\n            return false;\r\n        }\r\n        var i, len = shape1._length;\r\n        for(i = 0; i < len; i += 1) {\r\n            if(shape1.v[i][0] !== shape2.v[i][0] \r\n            || shape1.v[i][1] !== shape2.v[i][1] \r\n            || shape1.o[i][0] !== shape2.o[i][0] \r\n            || shape1.o[i][1] !== shape2.o[i][1] \r\n            || shape1.i[i][0] !== shape2.i[i][0] \r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function setVValue(newPath) {\r\n        if(!shapesEqual(this.v, newPath)) {\r\n            this.v = shape_pool.clone(newPath);\r\n            this.localShapeCollection.releaseShapes();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this._mdf = true;\r\n            this.paths = this.localShapeCollection;\r\n        }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n        } else if (!this.effectsSequence.length) {\r\n            this._mdf = false;\r\n            return;\r\n        }\r\n        if (this.lock) {\r\n            this.setVValue(this.pv);\r\n            return;\r\n        }\r\n        this.lock = true;\r\n        this._mdf = false;\r\n        var finalValue = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k;\r\n        var i, len = this.effectsSequence.length;\r\n        for(i = 0; i < len; i += 1) {\r\n            finalValue = this.effectsSequence[i](finalValue);\r\n        }\r\n        this.setVValue(finalValue);\r\n        this.lock = false;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    };\r\n\r\n    function ShapeProperty(elem, data, type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.container = elem;\r\n        this.elem = elem;\r\n        this.data = data;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this._mdf = false;\r\n        var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n        this.v = shape_pool.clone(pathData);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.reset = resetShape;\r\n        this.effectsSequence = [];\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n        this.effectsSequence.push(effectFunction);\r\n        this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    ShapeProperty.prototype.getValue = processEffectsSequence;\r\n    ShapeProperty.prototype.setVValue = setVValue;\r\n    ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    function KeyframedShapeProperty(elem,data,type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.elem = elem;\r\n        this.container = elem;\r\n        this.offsetTime = elem.data.st;\r\n        this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n        this.k = true;\r\n        this.kf = true;\r\n        var i, len = this.keyframes[0].s[0].i.length;\r\n        var jLen = this.keyframes[0].s[0].i[0].length;\r\n        this.v = shape_pool.newElement();\r\n        this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.lastFrame = initFrame;\r\n        this.reset = resetShape;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0};\r\n        this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n    }\r\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    var EllShapeProperty = (function(){\r\n\r\n        var cPoint = roundCorner;\r\n\r\n        function EllShapeProperty(elem,data) {\r\n            /*this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            };*/\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 4);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.paths = this.localShapeCollection;\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.d = data.d;\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this.initDynamicPropertyContainer(elem);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertEllToPath();\r\n            }\r\n        };\r\n\r\n        EllShapeProperty.prototype = {\r\n            reset: resetShape,\r\n            getValue: function (){\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n\r\n                if(this._mdf){\r\n                    this.convertEllToPath();\r\n                }\r\n            },\r\n            convertEllToPath: function() {\r\n                var p0 = this.p.v[0], p1 = this.p.v[1], s0 = this.s.v[0]/2, s1 = this.s.v[1]/2;\r\n                var _cw = this.d !== 3;\r\n                var _v = this.v;\r\n                _v.v[0][0] = p0;\r\n                _v.v[0][1] = p1 - s1;\r\n                _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.v[1][1] = p1;\r\n                _v.v[2][0] = p0;\r\n                _v.v[2][1] = p1 + s1;\r\n                _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.v[3][1] = p1;\r\n                _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.i[0][1] = p1 - s1;\r\n                _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.i[1][1] = p1 - s1 * cPoint;\r\n                _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.i[2][1] = p1 + s1;\r\n                _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.i[3][1] = p1 + s1 * cPoint;\r\n                _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.o[0][1] = p1 - s1;\r\n                _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.o[1][1] = p1 + s1 * cPoint;\r\n                _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.o[2][1] = p1 + s1;\r\n                _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.o[3][1] = p1 - s1 * cPoint;\r\n            }\r\n        }\r\n\r\n        extendPrototype([DynamicPropertyContainer], EllShapeProperty);\r\n\r\n        return EllShapeProperty;\r\n    }());\r\n\r\n    var StarShapeProperty = (function() {\r\n\r\n        function StarShapeProperty(elem,data) {\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 0);\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.data = data;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.initDynamicPropertyContainer(elem);\r\n            if(data.sy === 1){\r\n                this.ir = PropertyFactory.getProp(elem,data.ir,0,0,this);\r\n                this.is = PropertyFactory.getProp(elem,data.is,0,0.01,this);\r\n                this.convertToPath = this.convertStarToPath;\r\n            } else {\r\n                this.convertToPath = this.convertPolygonToPath;\r\n            }\r\n            this.pt = PropertyFactory.getProp(elem,data.pt,0,0,this);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,degToRads,this);\r\n            this.or = PropertyFactory.getProp(elem,data.or,0,0,this);\r\n            this.os = PropertyFactory.getProp(elem,data.os,0,0.01,this);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertToPath();\r\n            }\r\n        };\r\n\r\n        StarShapeProperty.prototype = {\r\n            reset: resetShape,\r\n            getValue: function() {\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n                if(this._mdf){\r\n                    this.convertToPath();\r\n                }\r\n            },\r\n            convertStarToPath: function() {\r\n                var numPts = Math.floor(this.pt.v)*2;\r\n                var angle = Math.PI*2/numPts;\r\n                /*this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts;*/\r\n                var longFlag = true;\r\n                var longRad = this.or.v;\r\n                var shortRad = this.ir.v;\r\n                var longRound = this.os.v;\r\n                var shortRound = this.is.v;\r\n                var longPerimSegment = 2*Math.PI*longRad/(numPts*2);\r\n                var shortPerimSegment = 2*Math.PI*shortRad/(numPts*2);\r\n                var i, rad,roundness,perimSegment, currentAng = -Math.PI/ 2;\r\n                currentAng += this.r.v;\r\n                var dir = this.data.d === 3 ? -1 : 1;\r\n                this.v._length = 0;\r\n                for(i=0;i<numPts;i+=1){\r\n                    rad = longFlag ? longRad : shortRad;\r\n                    roundness = longFlag ? longRound : shortRound;\r\n                    perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n                    var x = rad * Math.cos(currentAng);\r\n                    var y = rad * Math.sin(currentAng);\r\n                    var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                    var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                    x +=  + this.p.v[0];\r\n                    y +=  + this.p.v[1];\r\n                    this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n\r\n                    /*this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts;*/\r\n                    longFlag = !longFlag;\r\n                    currentAng += angle*dir;\r\n                }\r\n            },\r\n            convertPolygonToPath: function() {\r\n                var numPts = Math.floor(this.pt.v);\r\n                var angle = Math.PI*2/numPts;\r\n                var rad = this.or.v;\r\n                var roundness = this.os.v;\r\n                var perimSegment = 2*Math.PI*rad/(numPts*4);\r\n                var i, currentAng = -Math.PI/ 2;\r\n                var dir = this.data.d === 3 ? -1 : 1;\r\n                currentAng += this.r.v;\r\n                this.v._length = 0;\r\n                for(i=0;i<numPts;i+=1){\r\n                    var x = rad * Math.cos(currentAng);\r\n                    var y = rad * Math.sin(currentAng);\r\n                    var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                    var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                    x +=  + this.p.v[0];\r\n                    y +=  + this.p.v[1];\r\n                    this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n                    currentAng += angle*dir;\r\n                }\r\n                this.paths.length = 0;\r\n                this.paths[0] = this.v;\r\n            }\r\n\r\n        }\r\n        extendPrototype([DynamicPropertyContainer], StarShapeProperty);\r\n\r\n        return StarShapeProperty;\r\n    }());\r\n\r\n    var RectShapeProperty = (function() {\r\n\r\n         function RectShapeProperty(elem,data) {\r\n            this.v = shape_pool.newElement();\r\n            this.v.c = true;\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.initDynamicPropertyContainer(elem);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,0,this);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertRectToPath();\r\n            }\r\n        };\r\n\r\n        RectShapeProperty.prototype = {\r\n            convertRectToPath: function (){\r\n                var p0 = this.p.v[0], p1 = this.p.v[1], v0 = this.s.v[0]/2, v1 = this.s.v[1]/2;\r\n                var round = bm_min(v0,v1,this.r.v);\r\n                var cPoint = round*(1-roundCorner);\r\n                this.v._length = 0;\r\n\r\n                if(this.d === 2 || this.d === 1) {\r\n                    this.v.setTripleAt(p0+v0, p1-v1+round,p0+v0, p1-v1+round,p0+v0,p1-v1+cPoint,0, true);\r\n                    this.v.setTripleAt(p0+v0, p1+v1-round,p0+v0, p1+v1-cPoint,p0+v0, p1+v1-round,1, true);\r\n                    if(round!== 0){\r\n                        this.v.setTripleAt(p0+v0-round, p1+v1,p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,2, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,p0-v0+round,p1+v1,3, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,4, true);\r\n                        this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,p0-v0,p1-v1+round,5, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,6, true);\r\n                        this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,p0+v0-round,p1-v1,7, true);\r\n                    } else {\r\n                        this.v.setTripleAt(p0-v0,p1+v1,p0-v0+cPoint,p1+v1,p0-v0,p1+v1,2);\r\n                        this.v.setTripleAt(p0-v0,p1-v1,p0-v0,p1-v1+cPoint,p0-v0,p1-v1,3);\r\n                    }\r\n                }else{\r\n                    this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,p0+v0,p1-v1+round,0, true);\r\n                    if(round!== 0){\r\n                        this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,1, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,p0-v0+round,p1-v1,2, true);\r\n                        this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,3, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,p0-v0,p1+v1-round,4, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,5, true);\r\n                        this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,p0+v0-round,p1+v1,6, true);\r\n                        this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,7, true);\r\n                    } else {\r\n                        this.v.setTripleAt(p0-v0,p1-v1,p0-v0+cPoint,p1-v1,p0-v0,p1-v1,1, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1,p0-v0,p1+v1-cPoint,p0-v0,p1+v1,2, true);\r\n                        this.v.setTripleAt(p0+v0,p1+v1,p0+v0-cPoint,p1+v1,p0+v0,p1+v1,3, true);\r\n\r\n                    }\r\n                }\r\n            },\r\n            getValue: function(frameNum){\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n                if(this._mdf){\r\n                    this.convertRectToPath();\r\n                }\r\n\r\n            },\r\n            reset: resetShape\r\n        }\r\n        extendPrototype([DynamicPropertyContainer], RectShapeProperty);\r\n\r\n        return RectShapeProperty;\r\n    }());\r\n\r\n    function getShapeProp(elem,data,type){\r\n        var prop;\r\n        if(type === 3 || type === 4){\r\n            var dataProp = type === 3 ? data.pt : data.ks;\r\n            var keys = dataProp.k;\r\n            if(keys.length){\r\n                prop = new KeyframedShapeProperty(elem, data, type);\r\n            }else{\r\n                prop = new ShapeProperty(elem, data, type);\r\n            }\r\n        }else if(type === 5){\r\n            prop = new RectShapeProperty(elem, data);\r\n        }else if(type === 6){\r\n            prop = new EllShapeProperty(elem, data);\r\n        }else if(type === 7){\r\n            prop = new StarShapeProperty(elem, data);\r\n        }\r\n        if(prop.k){\r\n            elem.addDynamicProperty(prop);\r\n        }\r\n        return prop;\r\n    }\r\n\r\n    function getConstructorFunction() {\r\n        return ShapeProperty;\r\n    }\r\n\r\n    function getKeyframedConstructorFunction() {\r\n        return KeyframedShapeProperty;\r\n    }\r\n\r\n    var ob = {};\r\n    ob.getShapeProp = getShapeProp;\r\n    ob.getConstructorFunction = getConstructorFunction;\r\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n    return ob;\r\n}());\r\nvar ShapeModifiers = (function(){\r\n    var ob = {};\r\n    var modifiers = {};\r\n    ob.registerModifier = registerModifier;\r\n    ob.getModifier = getModifier;\r\n\r\n    function registerModifier(nm,factory){\r\n        if(!modifiers[nm]){\r\n            modifiers[nm] = factory;\r\n        }\r\n    }\r\n\r\n    function getModifier(nm,elem, data){\r\n        return new modifiers[nm](elem, data);\r\n    }\r\n\r\n    return ob;\r\n}());\r\n\r\nfunction ShapeModifier(){}\r\nShapeModifier.prototype.initModifierProperties = function(){};\r\nShapeModifier.prototype.addShapeToModifier = function(){};\r\nShapeModifier.prototype.addShape = function(data){\r\n    if (!this.closed) {\r\n        // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n        data.sh.container.addDynamicProperty(data.sh);\r\n        var shapeData = {shape:data.sh, data: data, localShapeCollection:shapeCollection_pool.newShapeCollection()};\r\n        this.shapes.push(shapeData);\r\n        this.addShapeToModifier(shapeData);\r\n        if (this._isAnimated) {\r\n            data.setAsAnimated();\r\n        }\r\n    }\r\n};\r\nShapeModifier.prototype.init = function(elem,data){\r\n    this.shapes = [];\r\n    this.elem = elem;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem,data);\r\n    this.frameId = initialDefaultFrame;\r\n    this.closed = false;\r\n    this.k = false;\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\nShapeModifier.prototype.processKeys = function(){\r\n    if(this.elem.globalData.frameId === this.frameId){\r\n        return;\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\nfunction TrimModifier(){\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function(elem, data) {\r\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n    this.sValue = 0;\r\n    this.eValue = 0;\r\n    this.getValue = this.processKeys;\r\n    this.m = data.m;\r\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function(shapeData){\r\n    shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function(s, e, shapeLength, addedLength, totalModifierLength) {\r\n    var segments = [];\r\n    if (e <= 1) {\r\n        segments.push({\r\n            s: s,\r\n            e: e\r\n        });\r\n    } else if (s >= 1) {\r\n        segments.push({\r\n            s: s - 1,\r\n            e: e - 1\r\n        });\r\n    } else {\r\n        segments.push({\r\n            s: s,\r\n            e: 1\r\n        });\r\n        segments.push({\r\n            s: 0,\r\n            e: e - 1\r\n        });\r\n    }\r\n    var shapeSegments = [];\r\n    var i, len = segments.length, segmentOb;\r\n    for (i = 0; i < len; i += 1) {\r\n        segmentOb = segments[i];\r\n        if (segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength) {\r\n            \r\n        } else {\r\n            var shapeS, shapeE;\r\n            if (segmentOb.s * totalModifierLength <= addedLength) {\r\n                shapeS = 0;\r\n            } else {\r\n                shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n            }\r\n            if(segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n                shapeE = 1;\r\n            } else {\r\n                shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n            }\r\n            shapeSegments.push([shapeS, shapeE]);\r\n        }\r\n    }\r\n    if (!shapeSegments.length) {\r\n        shapeSegments.push([0, 0]);\r\n    }\r\n    return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function(pathsData) {\r\n    var i, len = pathsData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        segments_length_pool.release(pathsData[i]);\r\n    }\r\n    pathsData.length = 0;\r\n    return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var s, e;\r\n    if (this._mdf || _isFirstFrame) {\r\n        var o = (this.o.v % 360) / 360;\r\n        if (o < 0) {\r\n            o += 1;\r\n        }\r\n        s = (this.s.v > 1 ? 1 : this.s.v < 0 ? 0 : this.s.v) + o;\r\n        e = (this.e.v > 1 ? 1 : this.e.v < 0 ? 0 : this.e.v) + o;\r\n        if (s === e) {\r\n\r\n        }\r\n        if (s > e) {\r\n            var _s = s;\r\n            s = e;\r\n            e = _s;\r\n        }\r\n        s = Math.round(s * 10000) * 0.0001;\r\n        e = Math.round(e * 10000) * 0.0001;\r\n        this.sValue = s;\r\n        this.eValue = e;\r\n    } else {\r\n        s = this.sValue;\r\n        e = this.eValue;\r\n    }\r\n    var shapePaths;\r\n    var i, len = this.shapes.length, j, jLen;\r\n    var pathsData, pathData, totalShapeLength, totalModifierLength = 0;\r\n\r\n    if (e === s) {\r\n        for (i = 0; i < len; i += 1) {\r\n            this.shapes[i].localShapeCollection.releaseShapes();\r\n            this.shapes[i].shape._mdf = true;\r\n            this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n            if (this._mdf) {\r\n                this.shapes[i].pathsData.length = 0;\r\n            }\r\n        }\r\n    } else if (!((e === 1 && s === 0) || (e===0 && s === 1))){\r\n        var segments = [], shapeData, localShapeCollection;\r\n        for (i = 0; i < len; i += 1) {\r\n            shapeData = this.shapes[i];\r\n            // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n            if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n                shapeData.shape.paths = shapeData.localShapeCollection;\r\n            } else {\r\n                shapePaths = shapeData.shape.paths;\r\n                jLen = shapePaths._length;\r\n                totalShapeLength = 0;\r\n                if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n                    totalShapeLength = shapeData.totalShapeLength;\r\n                } else {\r\n                    pathsData = this.releasePathsData(shapeData.pathsData);\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                        pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n                        pathsData.push(pathData);\r\n                        totalShapeLength += pathData.totalLength;\r\n                    }\r\n                    shapeData.totalShapeLength = totalShapeLength;\r\n                    shapeData.pathsData = pathsData;\r\n                }\r\n\r\n                totalModifierLength += totalShapeLength;\r\n                shapeData.shape._mdf = true;\r\n            }\r\n        }\r\n        var shapeS = s, shapeE = e, addedLength = 0, edges;\r\n        for (i = len - 1; i >= 0; i -= 1) {\r\n            shapeData = this.shapes[i];\r\n            if (shapeData.shape._mdf) {\r\n                localShapeCollection = shapeData.localShapeCollection;\r\n                localShapeCollection.releaseShapes();\r\n                //if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n                if (this.m === 2 && len > 1) {\r\n                    edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n                    addedLength += shapeData.totalShapeLength;\r\n                } else {\r\n                    edges = [[shapeS, shapeE]];\r\n                }\r\n                jLen = edges.length;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    shapeS = edges[j][0];\r\n                    shapeE = edges[j][1];\r\n                    segments.length = 0;\r\n                    if (shapeE <= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength * shapeE\r\n                        });\r\n                    } else if (shapeS >= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * (shapeS - 1),\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    } else {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength\r\n                        });\r\n                        segments.push({\r\n                            s:0,\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    }\r\n                    var newShapesData = this.addShapes(shapeData,segments[0]);\r\n                    if (segments[0].s !== segments[0].e) {\r\n                        if (segments.length > 1) {\r\n                            var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n                            if (lastShapeInCollection.c) {\r\n                                var lastShape = newShapesData.pop();\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n                            } else {\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1]);\r\n                            }\r\n                        } \r\n                        this.addPaths(newShapesData, localShapeCollection);\r\n                    }\r\n                    \r\n                }\r\n                shapeData.shape.paths = localShapeCollection;\r\n            }\r\n        }\r\n    } else if (this._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            //Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n            //Don't remove this even if it's losing cached info.\r\n            this.shapes[i].pathsData.length = 0;\r\n            this.shapes[i].shape._mdf = true;\r\n        }\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function(newPaths, localShapeCollection) {\r\n    var i, len = newPaths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        localShapeCollection.addShape(newPaths[i]);\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function(pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function(points, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function(shapeData, shapeSegment, shapePath) {\r\n    var pathsData = shapeData.pathsData;\r\n    var shapePaths = shapeData.shape.paths.shapes;\r\n    var i, len = shapeData.shape.paths._length, j, jLen;\r\n    var addedLength = 0;\r\n    var currentLengthData,segmentCount;\r\n    var lengths;\r\n    var segment;\r\n    var shapes = [];\r\n    var initPos;\r\n    var newShape = true;\r\n    if (!shapePath) {\r\n        shapePath = shape_pool.newElement();\r\n        segmentCount = 0;\r\n        initPos = 0;\r\n    } else {\r\n        segmentCount = shapePath._length;\r\n        initPos = shapePath._length;\r\n    }\r\n    shapes.push(shapePath);\r\n    for (i = 0; i < len; i += 1) {\r\n        lengths = pathsData[i].lengths;\r\n        shapePath.c = shapePaths[i].c;\r\n        jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n        for (j = 1; j < jLen; j +=1) {\r\n            currentLengthData = lengths[j-1];\r\n            if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n                addedLength += currentLengthData.addedLength;\r\n                shapePath.c = false;\r\n            } else if(addedLength > shapeSegment.e) {\r\n                shapePath.c = false;\r\n                break;\r\n            } else {\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength)/currentLengthData.addedLength,(shapeSegment.e - addedLength)/currentLengthData.addedLength, lengths[j-1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n                addedLength += currentLengthData.addedLength;\r\n                segmentCount += 1;\r\n            }\r\n        }\r\n        if (shapePaths[i].c && lengths.length) {\r\n            currentLengthData = lengths[j - 1];\r\n            if (addedLength <= shapeSegment.e) {\r\n                var segmentLength = lengths[j - 1].addedLength;\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n            } else {\r\n                shapePath.c = false;\r\n            }\r\n            addedLength += currentLengthData.addedLength;\r\n            segmentCount += 1;\r\n        }\r\n        if (shapePath._length) {\r\n            shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n            shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1],'o', shapePath._length - 1);\r\n        }\r\n        if (addedLength > shapeSegment.e) {\r\n            break;\r\n        }\r\n        if (i < len - 1) {\r\n            shapePath = shape_pool.newElement();\r\n            newShape = true;\r\n            shapes.push(shapePath);\r\n            segmentCount = 0;\r\n        }\r\n    }\r\n    return shapes;\r\n};\r\n\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\nfunction RoundCornersModifier(){}\r\nextendPrototype([ShapeModifier],RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.rd = PropertyFactory.getProp(elem,data.r,0,null,this);\r\n    this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function(path, round){\r\n    var cloned_path = shape_pool.newElement();\r\n    cloned_path.c = path.c;\r\n    var i, len = path._length;\r\n    var currentV,currentI,currentO,closerV, newV,newO,newI,distance,newPosPerc,index = 0;\r\n    var vX,vY,oX,oY,iX,iY;\r\n    for(i=0;i<len;i+=1){\r\n        currentV = path.v[i];\r\n        currentO = path.o[i];\r\n        currentI = path.i[i];\r\n        if(currentV[0]===currentO[0] && currentV[1]===currentO[1] && currentV[0]===currentI[0] && currentV[1]===currentI[1]){\r\n            if((i===0 || i === len - 1) && !path.c){\r\n                cloned_path.setTripleAt(currentV[0],currentV[1],currentO[0],currentO[1],currentI[0],currentI[1],index);\r\n                /*cloned_path.v[index] = currentV;\r\n                cloned_path.o[index] = currentO;\r\n                cloned_path.i[index] = currentI;*/\r\n                index += 1;\r\n            } else {\r\n                if(i===0){\r\n                    closerV = path.v[len-1];\r\n                } else {\r\n                    closerV = path.v[i-1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = iX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = iY = currentV[1]-(currentV[1]-closerV[1])*newPosPerc;\r\n                oX = vX-(vX-currentV[0])*roundCorner;\r\n                oY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n\r\n                if(i === len - 1){\r\n                    closerV = path.v[0];\r\n                } else {\r\n                    closerV = path.v[i+1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = oX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = oY = currentV[1]+(closerV[1]-currentV[1])*newPosPerc;\r\n                iX = vX-(vX-currentV[0])*roundCorner;\r\n                iY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n            }\r\n        } else {\r\n            cloned_path.setTripleAt(path.v[i][0],path.v[i][1],path.o[i][0],path.o[i][1],path.i[i][0],path.i[i][1],index);\r\n            index += 1;\r\n        }\r\n    }\r\n    return cloned_path;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function(_isFirstFrame){\r\n    var shapePaths;\r\n    var i, len = this.shapes.length;\r\n    var j, jLen;\r\n    var rd = this.rd.v;\r\n\r\n    if(rd !== 0){\r\n        var shapeData, newPaths, localShapeCollection;\r\n        for(i=0;i<len;i+=1){\r\n            shapeData = this.shapes[i];\r\n            newPaths = shapeData.shape.paths;\r\n            localShapeCollection = shapeData.localShapeCollection;\r\n            if(!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)){\r\n                localShapeCollection.releaseShapes();\r\n                shapeData.shape._mdf = true;\r\n                shapePaths = shapeData.shape.paths.shapes;\r\n                jLen = shapeData.shape.paths._length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    localShapeCollection.addShape(this.processPath(shapePaths[j],rd));\r\n                }\r\n            }\r\n            shapeData.shape.paths = shapeData.localShapeCollection;\r\n        }\r\n\r\n    }\r\n    if(!this.dynamicProperties.length){\r\n        this._mdf = false;\r\n    }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd',RoundCornersModifier);\r\nfunction PuckerAndBloatModifier(){}\r\nextendPrototype([ShapeModifier],PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.amount = PropertyFactory.getProp(elem,data.a,0,null,this);\r\n    this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function(path, amount){\r\n    var percent = amount / 100;\r\n    var centerPoint = [0, 0];\r\n    var pathLength = path._length, i = 0;\r\n    for (i = 0; i < pathLength; i += 1) {\r\n        centerPoint[0] += path.v[i][0];\r\n        centerPoint[1] += path.v[i][1];\r\n    }\r\n    centerPoint[0] /= pathLength;\r\n    centerPoint[1] /= pathLength;\r\n    var cloned_path = shape_pool.newElement();\r\n    cloned_path.c = path.c;\r\n    var vX, vY, oX, oY, iX, iY;\r\n    for(i = 0; i < pathLength; i += 1) {\r\n        vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n        vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n        oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n        oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n        iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n        iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n        cloned_path.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n    }\r\n    return cloned_path;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function(_isFirstFrame){\r\n    var shapePaths;\r\n    var i, len = this.shapes.length;\r\n    var j, jLen;\r\n    var amount = this.amount.v;\r\n\r\n    if(amount !== 0){\r\n        var shapeData, newPaths, localShapeCollection;\r\n        for(i=0;i<len;i+=1){\r\n            shapeData = this.shapes[i];\r\n            newPaths = shapeData.shape.paths;\r\n            localShapeCollection = shapeData.localShapeCollection;\r\n            if(!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)){\r\n                localShapeCollection.releaseShapes();\r\n                shapeData.shape._mdf = true;\r\n                shapePaths = shapeData.shape.paths.shapes;\r\n                jLen = shapeData.shape.paths._length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n                }\r\n            }\r\n            shapeData.shape.paths = shapeData.localShapeCollection;\r\n        }\r\n    }\r\n    if(!this.dynamicProperties.length){\r\n        this._mdf = false;\r\n    }\r\n};\r\nShapeModifiers.registerModifier('pb',PuckerAndBloatModifier);\r\nfunction RepeaterModifier(){}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.c = PropertyFactory.getProp(elem,data.c,0,null,this);\r\n    this.o = PropertyFactory.getProp(elem,data.o,0,null,this);\r\n    this.tr = TransformPropertyFactory.getTransformProperty(elem,data.tr,this);\r\n    this.so = PropertyFactory.getProp(elem,data.tr.so,0,0.01,this);\r\n    this.eo = PropertyFactory.getProp(elem,data.tr.eo,0,0.01,this);\r\n    this.data = data;\r\n    if(!this.dynamicProperties.length){\r\n        this.getValue(true);\r\n    }\r\n    this._isAnimated = !!this.dynamicProperties.length;\r\n    this.pMatrix = new Matrix();\r\n    this.rMatrix = new Matrix();\r\n    this.sMatrix = new Matrix();\r\n    this.tMatrix = new Matrix();\r\n    this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function(pMatrix, rMatrix, sMatrix, transform, perc, inv){\r\n    var dir = inv ? -1 : 1;\r\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    rMatrix.rotate(-transform.r.v * dir * perc);\r\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.scale(inv ? 1/scaleX : scaleX, inv ? 1/scaleY : scaleY);\r\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function(elem, arr, pos, elemsData) {\r\n    this.elem = elem;\r\n    this.arr = arr;\r\n    this.pos = pos;\r\n    this.elemsData = elemsData;\r\n    this._currentCopies = 0;\r\n    this._elements = [];\r\n    this._groups = [];\r\n    this.frameId = -1;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem,arr[pos]);\r\n    var cont = 0;\r\n    while(pos>0){\r\n        pos -= 1;\r\n        //this._elements.unshift(arr.splice(pos,1)[0]);\r\n        this._elements.unshift(arr[pos]);\r\n        cont += 1;\r\n    }\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function(elements){\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        elements[i]._processed = false;\r\n        if(elements[i].ty === 'gr'){\r\n            this.resetElements(elements[i].it);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function(elements){\r\n    var i, len = elements.length;\r\n    var newElements = JSON.parse(JSON.stringify(elements));\r\n    this.resetElements(newElements);\r\n    return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function(elements, renderFlag) {\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        elements[i]._render = renderFlag;\r\n        if(elements[i].ty === 'gr') {\r\n            this.changeGroupRender(elements[i].it, renderFlag);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var items, itemsTransform, i, dir, cont;\r\n    if(this._mdf || _isFirstFrame){\r\n        var copies = Math.ceil(this.c.v);\r\n        if(this._groups.length < copies){\r\n            while(this._groups.length < copies){\r\n                var group = {\r\n                    it:this.cloneElements(this._elements),\r\n                    ty:'gr'\r\n                };\r\n                group.it.push({\"a\":{\"a\":0,\"ix\":1,\"k\":[0,0]},\"nm\":\"Transform\",\"o\":{\"a\":0,\"ix\":7,\"k\":100},\"p\":{\"a\":0,\"ix\":2,\"k\":[0,0]},\"r\":{\"a\":1,\"ix\":6,\"k\":[{s:0,e:0,t:0},{s:0,e:0,t:1}]},\"s\":{\"a\":0,\"ix\":3,\"k\":[100,100]},\"sa\":{\"a\":0,\"ix\":5,\"k\":0},\"sk\":{\"a\":0,\"ix\":4,\"k\":0},\"ty\":\"tr\"});\r\n                \r\n                this.arr.splice(0,0,group);\r\n                this._groups.splice(0,0,group);\r\n                this._currentCopies += 1;\r\n            }\r\n            this.elem.reloadShapes();\r\n        }\r\n        cont = 0;\r\n        var renderFlag;\r\n        for(i = 0; i  <= this._groups.length - 1; i += 1){\r\n            renderFlag = cont < copies;\r\n            this._groups[i]._render = renderFlag;\r\n            this.changeGroupRender(this._groups[i].it, renderFlag);\r\n            cont += 1;\r\n        }\r\n        \r\n        this._currentCopies = copies;\r\n        ////\r\n\r\n        var offset = this.o.v;\r\n        var offsetModulo = offset%1;\r\n        var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n        var k;\r\n        var tMat = this.tr.v.props;\r\n        var pProps = this.pMatrix.props;\r\n        var rProps = this.rMatrix.props;\r\n        var sProps = this.sMatrix.props;\r\n        this.pMatrix.reset();\r\n        this.rMatrix.reset();\r\n        this.sMatrix.reset();\r\n        this.tMatrix.reset();\r\n        this.matrix.reset();\r\n        var iteration = 0;\r\n\r\n        if(offset > 0) {\r\n            while(iteration<roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                iteration += 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n                iteration += offsetModulo;\r\n            }\r\n        } else if(offset < 0) {\r\n            while(iteration>roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n                iteration -= 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, - offsetModulo, true);\r\n                iteration -= offsetModulo;\r\n            }\r\n        }\r\n        i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n        dir = this.data.m === 1 ? 1 : -1;\r\n        cont = this._currentCopies;\r\n        var j, jLen;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            jLen = itemsTransform.length;\r\n            items[items.length - 1].transform.mProps._mdf = true;\r\n            items[items.length - 1].transform.op._mdf = true;\r\n            items[items.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n            if(iteration !== 0){\r\n                if((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)){\r\n                    this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                }\r\n                this.matrix.transform(rProps[0],rProps[1],rProps[2],rProps[3],rProps[4],rProps[5],rProps[6],rProps[7],rProps[8],rProps[9],rProps[10],rProps[11],rProps[12],rProps[13],rProps[14],rProps[15]);\r\n                this.matrix.transform(sProps[0],sProps[1],sProps[2],sProps[3],sProps[4],sProps[5],sProps[6],sProps[7],sProps[8],sProps[9],sProps[10],sProps[11],sProps[12],sProps[13],sProps[14],sProps[15]);\r\n                this.matrix.transform(pProps[0],pProps[1],pProps[2],pProps[3],pProps[4],pProps[5],pProps[6],pProps[7],pProps[8],pProps[9],pProps[10],pProps[11],pProps[12],pProps[13],pProps[14],pProps[15]);\r\n                \r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n                this.matrix.reset();\r\n            } else {\r\n                this.matrix.reset();\r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n            }\r\n            iteration += 1;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    } else {\r\n        cont = this._currentCopies;\r\n        i = 0;\r\n        dir = 1;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            items[items.length - 1].transform.mProps._mdf = false;\r\n            items[items.length - 1].transform.op._mdf = false;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function(){};\r\n\r\nShapeModifiers.registerModifier('rp',RepeaterModifier);\r\nfunction ShapeCollection(){\r\n\tthis._length = 0;\r\n\tthis._maxLength = 4;\r\n\tthis.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function(shapeData){\r\n\tif(this._length === this._maxLength){\r\n\t\tthis.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n\t\tthis._maxLength *= 2;\r\n\t}\r\n\tthis.shapes[this._length] = shapeData;\r\n\tthis._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function(){\r\n\tvar i;\r\n\tfor(i = 0; i < this._length; i += 1) {\r\n\t\tshape_pool.release(this.shapes[i]);\r\n\t}\r\n\tthis._length = 0;\r\n};\r\nfunction DashProperty(elem, data, renderer, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.dataProps = createSizedArray(data.length);\r\n    this.renderer = renderer;\r\n    this.k = false;\r\n    this.dashStr = '';\r\n    this.dashArray = createTypedArray('float32',  data.length ? data.length - 1 : 0);\r\n    this.dashoffset = createTypedArray('float32',  1);\r\n    this.initDynamicPropertyContainer(container);\r\n    var i, len = data.length || 0, prop;\r\n    for(i = 0; i < len; i += 1) {\r\n        prop = PropertyFactory.getProp(elem,data[i].v,0, 0, this);\r\n        this.k = prop.k || this.k;\r\n        this.dataProps[i] = {n:data[i].n,p:prop};\r\n    }\r\n    if(!this.k){\r\n        this.getValue(true);\r\n    }\r\n    this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function(forceRender) {\r\n    if(this.elem.globalData.frameId === this.frameId && !forceRender){\r\n        return;\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || forceRender;\r\n    if (this._mdf) {\r\n        var i = 0, len = this.dataProps.length;\r\n        if(this.renderer === 'svg') {\r\n            this.dashStr = '';\r\n        }\r\n        for(i=0;i<len;i+=1){\r\n            if(this.dataProps[i].n != 'o'){\r\n                if(this.renderer === 'svg') {\r\n                    this.dashStr += ' ' + this.dataProps[i].p.v;\r\n                }else{\r\n                    this.dashArray[i] = this.dataProps[i].p.v;\r\n                }\r\n            }else{\r\n                this.dashoffset[0] = this.dataProps[i].p.v;\r\n            }\r\n        }\r\n    }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\nfunction GradientProperty(elem,data,container){\r\n    this.data = data;\r\n    this.c = createTypedArray('uint8c', data.p*4);\r\n    var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p*4) : data.k.k.length - data.p*4;\r\n    this.o = createTypedArray('float32', cLength);\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    this._collapsable = this.checkCollapsable();\r\n    this._hasOpacity = cLength;\r\n    this.initDynamicPropertyContainer(container);\r\n    this.prop = PropertyFactory.getProp(elem,data.k,1,null,this);\r\n    this.k = this.prop.k;\r\n    this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function(values, points) {\r\n    var i = 0, len = this.o.length/2, diff;\r\n    while(i < len) {\r\n        diff = Math.abs(values[i*4] - values[points*4 + i*2]);\r\n        if(diff > 0.01){\r\n            return false;\r\n        }\r\n        i += 1;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function() {\r\n    if (this.o.length/2 !== this.c.length/4) {\r\n        return false;\r\n    }\r\n    if (this.data.k.k[0].s) {\r\n        var i = 0, len = this.data.k.k.length;\r\n        while (i < len) {\r\n            if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n                return false;\r\n            }\r\n            i += 1;\r\n        }\r\n    } else if(!this.comparePoints(this.data.k.k, this.data.p)) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function(forceRender){\r\n    this.prop.getValue();\r\n    this._mdf = false;\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    if(this.prop._mdf || forceRender){\r\n        var i, len = this.data.p*4;\r\n        var mult, val;\r\n        for(i=0;i<len;i+=1){\r\n            mult = i%4 === 0 ? 100 : 255;\r\n            val = Math.round(this.prop.v[i]*mult);\r\n            if(this.c[i] !== val){\r\n                this.c[i] = val;\r\n                this._cmdf = !forceRender;\r\n            }\r\n        }\r\n        if(this.o.length){\r\n            len = this.prop.v.length;\r\n            for(i=this.data.p*4;i<len;i+=1){\r\n                mult = i%2 === 0 ? 100 : 1;\r\n                val = i%2 === 0 ?  Math.round(this.prop.v[i]*100):this.prop.v[i];\r\n                if(this.o[i-this.data.p*4] !== val){\r\n                    this.o[i-this.data.p*4] = val;\r\n                    this._omdf = !forceRender;\r\n                }\r\n            }\r\n        }\r\n        this._mdf = !forceRender;\r\n    }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\nvar buildShapeString = function(pathNodes, length, closed, mat) {\r\n\tif(length === 0) {\r\n            return '';\r\n        }\r\n        var _o = pathNodes.o;\r\n        var _i = pathNodes.i;\r\n        var _v = pathNodes.v;\r\n        var i, shapeString = \" M\" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n        for(i = 1; i < length; i += 1) {\r\n            shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[i][0], _i[i][1]) + \" \" + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n        }\r\n        if (closed && length) {\r\n            shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[0][0], _i[0][1]) + \" \" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n            shapeString += 'z';\r\n        }\r\n        return shapeString;\r\n}\r\nvar audioControllerFactory = (function() {\r\n\r\n\tfunction AudioController(audioFactory) {\r\n\t\tthis.audios = [];\r\n\t\tthis.audioFactory = audioFactory;\r\n\t\tthis._volume = 1;\r\n\t\tthis._isMuted = false;\r\n\t}\r\n\r\n\tAudioController.prototype = {\r\n\t\taddAudio: function(audio) {\r\n\t\t\tthis.audios.push(audio);\r\n\t\t},\r\n\t\tpause: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].pause()\r\n\t\t\t}\r\n\t\t},\r\n\t\tresume: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].resume()\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetRate: function(rateValue) {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].setRate(rateValue)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreateAudio: function(assetPath) {\r\n\t\t\tif (this.audioFactory) {\r\n\t\t\t\treturn this.audioFactory(assetPath);\r\n\t\t\t} else if (Howl) {\r\n\t\t\t\treturn new Howl({\r\n\t\t\t\t\tsrc: [assetPath]\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tisPlaying: false,\r\n\t\t\t\t\tplay: function(){this.isPlaying = true},\r\n\t\t\t\t\tseek: function(){this.isPlaying = false},\r\n\t\t\t\t\tplaying: function(){},\r\n\t\t\t\t\trate: function(){},\r\n\t\t\t\t\tsetVolume: function(){},\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetAudioFactory: function(audioFactory) {\r\n\t\t\tthis.audioFactory = audioFactory;\r\n\t\t},\r\n\t\tsetVolume: function(value) {\r\n\t\t\tthis._volume = value;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tmute: function() {\r\n\t\t\tthis._isMuted = true;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tunmute: function() {\r\n\t\t\tthis._isMuted = false;\r\n\t\t\tthis._updateVolume();\r\n\t\t},\r\n\t\tgetVolume: function(value) {\r\n\t\t\treturn this._volume;\r\n\t\t},\r\n\t\t_updateVolume: function() {\r\n\t\t\tvar i, len = this.audios.length;\r\n\t\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t\tthis.audios[i].volume(this._volume * (this._isMuted ? 0 : 1))\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn function() {\r\n\t\treturn new AudioController()\r\n\t}\r\n\r\n}())\r\nvar ImagePreloader = (function(){\r\n\r\n    var proxyImage = (function(){\r\n        var canvas = createTag('canvas');\r\n        canvas.width = 1;\r\n        canvas.height = 1;\r\n        var ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = 'rgba(0,0,0,0)';\r\n        ctx.fillRect(0, 0, 1, 1);\r\n        return canvas;\r\n    }())\r\n\r\n    function imageLoaded(){\r\n        this.loadedAssets += 1;\r\n        if(this.loadedAssets === this.totalImages){\r\n            if(this.imagesLoadedCb) {\r\n                this.imagesLoadedCb(null);\r\n            }\r\n        }\r\n    }\r\n\r\n    function getAssetsPath(assetData, assetsPath, original_path) {\r\n        var path = '';\r\n        if (assetData.e) {\r\n            path = assetData.p;\r\n        } else if(assetsPath) {\r\n            var imagePath = assetData.p;\r\n            if (imagePath.indexOf('images/') !== -1) {\r\n                imagePath = imagePath.split('/')[1];\r\n            }\r\n            path = assetsPath + imagePath;\r\n        } else {\r\n            path = original_path;\r\n            path += assetData.u ? assetData.u : '';\r\n            path += assetData.p;\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function testImageLoaded(img) {\r\n        var _count = 0;\r\n        var intervalId = setInterval(function() {\r\n            var box = img.getBBox();\r\n            if (box.width || _count > 500) {\r\n                this._imageLoaded();\r\n                clearInterval(intervalId);\r\n            }\r\n            _count += 1;\r\n        }.bind(this), 50)\r\n    }\r\n\r\n    function createImageData(assetData) {\r\n        var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n        var img = createNS('image');\r\n        if (isSafari) {\r\n            this.testImageLoaded(img)\r\n        } else {\r\n            img.addEventListener('load', this._imageLoaded, false);\r\n        }\r\n        img.addEventListener('error', function() {\r\n            ob.img = proxyImage;\r\n            this._imageLoaded();\r\n        }.bind(this), false);\r\n        img.setAttributeNS('http://www.w3.org/1999/xlink','href', path);\r\n        this._elementHelper.append(img);\r\n        var ob = {\r\n            img: img,\r\n            assetData: assetData\r\n        }\r\n        return ob;\r\n    }\r\n\r\n    function createImgData(assetData) {\r\n        var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n        var img = createTag('img');\r\n        img.crossOrigin = 'anonymous';\r\n        img.addEventListener('load', this._imageLoaded, false);\r\n        img.addEventListener('error', function() {\r\n            ob.img = proxyImage;\r\n            this._imageLoaded();\r\n        }.bind(this), false);\r\n        img.src = path;\r\n        var ob = {\r\n            img: img,\r\n            assetData: assetData\r\n        }\r\n        return ob;\r\n    }\r\n\r\n    function loadAssets(assets, cb){\r\n        this.imagesLoadedCb = cb;\r\n        var i, len = assets.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            if(!assets[i].layers){\r\n                this.totalImages += 1;\r\n                this.images.push(this._createImageData(assets[i]));\r\n            }\r\n        }\r\n    }\r\n\r\n    function setPath(path){\r\n        this.path = path || '';\r\n    }\r\n\r\n    function setAssetsPath(path){\r\n        this.assetsPath = path || '';\r\n    }\r\n\r\n    function getImage(assetData) {\r\n        var i = 0, len = this.images.length;\r\n        while (i < len) {\r\n            if (this.images[i].assetData === assetData) {\r\n                return this.images[i].img;\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function destroy() {\r\n        this.imagesLoadedCb = null;\r\n        this.images.length = 0;\r\n    }\r\n\r\n    function loaded() {\r\n        return this.totalImages === this.loadedAssets;\r\n    }\r\n\r\n    function setCacheType(type, elementHelper) {\r\n        if (type === 'svg') {\r\n            this._elementHelper = elementHelper;\r\n            this._createImageData = this.createImageData.bind(this);\r\n        } else {\r\n            this._createImageData = this.createImgData.bind(this);\r\n        }\r\n    }\r\n\r\n    function ImagePreloader(type){\r\n        this._imageLoaded = imageLoaded.bind(this);\r\n        this.testImageLoaded = testImageLoaded.bind(this);\r\n        this.assetsPath = '';\r\n        this.path = '';\r\n        this.totalImages = 0;\r\n        this.loadedAssets = 0;\r\n        this.imagesLoadedCb = null;\r\n        this.images = [];\r\n    };\r\n\r\n    ImagePreloader.prototype = {\r\n        loadAssets: loadAssets,\r\n        setAssetsPath: setAssetsPath,\r\n        setPath: setPath,\r\n        loaded: loaded,\r\n        destroy: destroy,\r\n        getImage: getImage,\r\n        createImgData: createImgData,\r\n        createImageData: createImageData,\r\n        imageLoaded: imageLoaded,\r\n        setCacheType: setCacheType,\r\n    }\r\n\r\n    return ImagePreloader;\r\n}());\r\nvar featureSupport = (function(){\r\n\tvar ob = {\r\n\t\tmaskType: true\r\n\t};\r\n\tif (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n\t   ob.maskType = false;\r\n\t}\r\n\treturn ob;\r\n}());\r\nvar filtersFactory = (function(){\r\n\tvar ob = {};\r\n\tob.createFilter = createFilter;\r\n\tob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n\tfunction createFilter(filId){\r\n        \tvar fil = createNS('filter');\r\n        \tfil.setAttribute('id',filId);\r\n                fil.setAttribute('filterUnits','objectBoundingBox');\r\n                fil.setAttribute('x','0%');\r\n                fil.setAttribute('y','0%');\r\n                fil.setAttribute('width','100%');\r\n                fil.setAttribute('height','100%');\r\n                return fil;\r\n\t}\r\n\r\n\tfunction createAlphaToLuminanceFilter(){\r\n                var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type','matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n                feColorMatrix.setAttribute('values','0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n                return feColorMatrix;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nvar assetLoader = (function(){\r\n\r\n\tfunction formatResponse(xhr) {\r\n\t\tif(xhr.response && typeof xhr.response === 'object') {\r\n\t\t\treturn xhr.response;\r\n\t\t} else if(xhr.response && typeof xhr.response === 'string') {\r\n\t\t\treturn JSON.parse(xhr.response);\r\n\t\t} else if(xhr.responseText) {\r\n\t\t\treturn JSON.parse(xhr.responseText);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction loadAsset(path, callback, errorCallback) {\r\n\t\tvar response;\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.open('GET', path, true);\r\n\t\t// set responseType after calling open or IE will break.\r\n\t\ttry {\r\n\t\t    // This crashes on Android WebView prior to KitKat\r\n\t\t    xhr.responseType = \"json\";\r\n\t\t} catch (err) {}\r\n\t    xhr.send();\r\n\t    xhr.onreadystatechange = function () {\r\n\t        if (xhr.readyState == 4) {\r\n\t            if(xhr.status == 200){\r\n\t            \tresponse = formatResponse(xhr);\r\n\t            \tcallback(response);\r\n\t            }else{\r\n\t                try{\r\n\t            \t\tresponse = formatResponse(xhr);\r\n\t            \t\tcallback(response);\r\n\t                }catch(err){\r\n\t                \tif(errorCallback) {\r\n\t                \t\terrorCallback(err);\r\n\t                \t}\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t}\r\n\treturn {\r\n\t\tload: loadAsset\r\n\t}\r\n}())\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem){\r\n    this._isFirstFrame = true;\r\n\tthis._hasMaskedPath = false;\r\n\tthis._frameId = -1;\r\n\tthis._textData = textData;\r\n\tthis._renderType = renderType;\r\n    this._elem = elem;\r\n\tthis._animatorsData = createSizedArray(this._textData.a.length);\r\n\tthis._pathData = {};\r\n\tthis._moreOptions = {\r\n\t\talignment: {}\r\n\t};\r\n\tthis.renderedLetters = [];\r\n    this.lettersChangedFlag = false;\r\n    this.initDynamicPropertyContainer(elem);\r\n\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function(){\r\n    var i, len = this._textData.a.length, animatorProps;\r\n    var getProp = PropertyFactory.getProp;\r\n    for(i=0;i<len;i+=1){\r\n        animatorProps = this._textData.a[i];\r\n        this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n    }\r\n    if(this._textData.p && 'm' in this._textData.p){\r\n        this._pathData = {\r\n            f: getProp(this._elem,this._textData.p.f,0,0,this),\r\n            l: getProp(this._elem,this._textData.p.l,0,0,this),\r\n            r: this._textData.p.r,\r\n            m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\r\n        };\r\n        this._hasMaskedPath = true;\r\n    } else {\r\n        this._hasMaskedPath = false;\r\n    }\r\n    this._moreOptions.alignment = getProp(this._elem,this._textData.m.a,1,0,this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function(documentData, lettersChangedFlag){\r\n    this.lettersChangedFlag = lettersChangedFlag;\r\n    if(!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n        return;\r\n    }\r\n    this._isFirstFrame = false;\r\n    var alignment = this._moreOptions.alignment.v;\r\n    var animators = this._animatorsData;\r\n    var textData = this._textData;\r\n    var matrixHelper = this.mHelper;\r\n    var renderType = this._renderType;\r\n    var renderedLettersCount = this.renderedLetters.length;\r\n    var data = this.data;\r\n    var xPos,yPos;\r\n    var i, len;\r\n    var letters = documentData.l, pathInfo, currentLength, currentPoint, segmentLength, flag, pointInd, segmentInd, prevPoint, points, segments, partialLength, totalLength, perc, tanAngle, mask;\r\n    if(this._hasMaskedPath) {\r\n        mask = this._pathData.m;\r\n        if(!this._pathData.n || this._pathData._mdf){\r\n            var paths = mask.v;\r\n            if(this._pathData.r){\r\n                paths = paths.reverse();\r\n            }\r\n            // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n            pathInfo = {\r\n                tLength: 0,\r\n                segments: []\r\n            };\r\n            len = paths._length - 1;\r\n            var bezierData;\r\n            totalLength = 0;\r\n            for (i = 0; i < len; i += 1) {\r\n                bezierData = bez.buildBezierData(paths.v[i]\r\n                    , paths.v[i + 1]\r\n                    , [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]]\r\n                    , [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n                pathInfo.tLength += bezierData.segmentLength;\r\n                pathInfo.segments.push(bezierData);\r\n                totalLength += bezierData.segmentLength;\r\n            }\r\n            i = len;\r\n            if (mask.v.c) {\r\n                bezierData = bez.buildBezierData(paths.v[i]\r\n                    , paths.v[0]\r\n                    , [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]]\r\n                    , [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n                pathInfo.tLength += bezierData.segmentLength;\r\n                pathInfo.segments.push(bezierData);\r\n                totalLength += bezierData.segmentLength;\r\n            }\r\n            this._pathData.pi = pathInfo;\r\n        }\r\n        pathInfo = this._pathData.pi;\r\n\r\n        currentLength = this._pathData.f.v;\r\n        segmentInd = 0;\r\n        pointInd = 1;\r\n        segmentLength = 0;\r\n        flag = true;\r\n        segments = pathInfo.segments;\r\n        if (currentLength < 0 && mask.v.c) {\r\n            if (pathInfo.tLength < Math.abs(currentLength)) {\r\n                currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n            }\r\n            segmentInd = segments.length - 1;\r\n            points = segments[segmentInd].points;\r\n            pointInd = points.length - 1;\r\n            while (currentLength < 0) {\r\n                currentLength += points[pointInd].partialLength;\r\n                pointInd -= 1;\r\n                if (pointInd < 0) {\r\n                    segmentInd -= 1;\r\n                    points = segments[segmentInd].points;\r\n                    pointInd = points.length - 1;\r\n                }\r\n            }\r\n\r\n        }\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n    }\r\n\r\n\r\n    len = letters.length;\r\n    xPos = 0;\r\n    yPos = 0;\r\n    var yOff = documentData.finalSize * 1.2 * 0.714;\r\n    var firstLine = true;\r\n    var animatorProps, animatorSelector;\r\n    var j, jLen;\r\n    var letterValue;\r\n\r\n    jLen = animators.length;\r\n    var lastLetter;\r\n\r\n    var mult, ind = -1, offf, xPathPos, yPathPos;\r\n    var initPathPos = currentLength,initSegmentInd = segmentInd, initPointInd = pointInd, currentLine = -1;\r\n    var elemOpacity;\r\n    var sc,sw,fc,k;\r\n    var lineLength = 0;\r\n    var letterSw, letterSc, letterFc, letterM = '', letterP = this.defaultPropsArray, letterO;\r\n\r\n    //\r\n    if(documentData.j === 2 || documentData.j === 1) {\r\n        var animatorJustifyOffset = 0;\r\n        var animatorFirstCharOffset = 0;\r\n        var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n        var lastIndex = 0;\r\n        var isNewLine = true;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n            if (letters[i].n) {\r\n                if(animatorJustifyOffset) {\r\n                    animatorJustifyOffset += animatorFirstCharOffset;\r\n                }\r\n                while (lastIndex < i) {\r\n                    letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n                    lastIndex += 1;\r\n                }\r\n                animatorJustifyOffset = 0;\r\n                isNewLine = true;\r\n            } else {\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    animatorProps = animators[j].a;\r\n                    if (animatorProps.t.propType) {\r\n                        if (isNewLine && documentData.j === 2) {\r\n                            animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n                        }\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n                        if (mult.length) {\r\n                            animatorJustifyOffset += animatorProps.t.v*mult[0] * justifyOffsetMult;\r\n                        } else {\r\n                            animatorJustifyOffset += animatorProps.t.v*mult * justifyOffsetMult;\r\n                        }\r\n                    }\r\n                }\r\n                isNewLine = false;\r\n            }\r\n        }\r\n        if(animatorJustifyOffset) {\r\n            animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while(lastIndex < i) {\r\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n            lastIndex += 1;\r\n        }\r\n    }\r\n    //\r\n\r\n    for( i = 0; i < len; i += 1) {\r\n\r\n        matrixHelper.reset();\r\n        elemOpacity = 1;\r\n        if(letters[i].n) {\r\n            xPos = 0;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            currentLength = initPathPos ;\r\n            firstLine = false;\r\n            lineLength = 0;\r\n            if(this._hasMaskedPath) {\r\n                segmentInd = initSegmentInd;\r\n                pointInd = initPointInd;\r\n                points = segments[segmentInd].points;\r\n                prevPoint = points[pointInd - 1];\r\n                currentPoint = points[pointInd];\r\n                partialLength = currentPoint.partialLength;\r\n                segmentLength = 0;\r\n            }\r\n            letterO = letterSw = letterFc = letterM = '';\r\n            letterP = this.defaultPropsArray;\r\n        }else{\r\n            if(this._hasMaskedPath) {\r\n                if(currentLine !== letters[i].line){\r\n                    switch(documentData.j){\r\n                        case 1:\r\n                            currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n                            break;\r\n                        case 2:\r\n                            currentLength += (totalLength - documentData.lineWidths[letters[i].line])/2;\r\n                            break;\r\n                    }\r\n                    currentLine = letters[i].line;\r\n                }\r\n                if (ind !== letters[i].ind) {\r\n                    if (letters[ind]) {\r\n                        currentLength += letters[ind].extra;\r\n                    }\r\n                    currentLength += letters[i].an / 2;\r\n                    ind = letters[i].ind;\r\n                }\r\n                currentLength += alignment[0] * letters[i].an / 200;\r\n                var animatorOffset = 0;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    animatorProps = animators[j].a;\r\n                    if (animatorProps.p.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.p.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.p.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                    if (animatorProps.a.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.a.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.a.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                }\r\n                flag = true;\r\n                while (flag) {\r\n                    if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n                        perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n                        xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n                        yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n                        matrixHelper.translate(-alignment[0]*letters[i].an/200, -(alignment[1] * yOff / 100));\r\n                        flag = false;\r\n                    } else if (points) {\r\n                        segmentLength += currentPoint.partialLength;\r\n                        pointInd += 1;\r\n                        if (pointInd >= points.length) {\r\n                            pointInd = 0;\r\n                            segmentInd += 1;\r\n                            if (!segments[segmentInd]) {\r\n                                if (mask.v.c) {\r\n                                    pointInd = 0;\r\n                                    segmentInd = 0;\r\n                                    points = segments[segmentInd].points;\r\n                                } else {\r\n                                    segmentLength -= currentPoint.partialLength;\r\n                                    points = null;\r\n                                }\r\n                            } else {\r\n                                points = segments[segmentInd].points;\r\n                            }\r\n                        }\r\n                        if (points) {\r\n                            prevPoint = currentPoint;\r\n                            currentPoint = points[pointInd];\r\n                            partialLength = currentPoint.partialLength;\r\n                        }\r\n                    }\r\n                }\r\n                offf = letters[i].an / 2 - letters[i].add;\r\n                matrixHelper.translate(-offf, 0, 0);\r\n            } else {\r\n                offf = letters[i].an/2 - letters[i].add;\r\n                matrixHelper.translate(-offf,0,0);\r\n\r\n                // Grouping alignment\r\n                matrixHelper.translate(-alignment[0]*letters[i].an/200, -alignment[1]*yOff/100, 0);\r\n            }\r\n\r\n            lineLength += letters[i].l/2;\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.t.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    //This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n                    if(xPos !== 0 || documentData.j !== 0) {\r\n                        if(this._hasMaskedPath) {\r\n                            if(mult.length) {\r\n                                currentLength += animatorProps.t.v*mult[0];\r\n                            } else {\r\n                                currentLength += animatorProps.t.v*mult;\r\n                            }\r\n                        }else{\r\n                            if(mult.length) {\r\n                                xPos += animatorProps.t.v*mult[0];\r\n                            } else {\r\n                                xPos += animatorProps.t.v*mult;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            lineLength += letters[i].l/2;\r\n            if(documentData.strokeWidthAnim) {\r\n                sw = documentData.sw || 0;\r\n            }\r\n            if(documentData.strokeColorAnim) {\r\n                if(documentData.sc){\r\n                    sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n                }else{\r\n                    sc = [0,0,0];\r\n                }\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc) {\r\n                fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.a.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n\r\n                    if(mult.length){\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult[0], -animatorProps.a.v[1]*mult[1], animatorProps.a.v[2]*mult[2]);\r\n                    } else {\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult, -animatorProps.a.v[1]*mult, animatorProps.a.v[2]*mult);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.s.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(mult.length){\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult[0]),1+((animatorProps.s.v[1]-1)*mult[1]),1);\r\n                    } else {\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult),1+((animatorProps.s.v[1]-1)*mult),1);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1) {\r\n                animatorProps = animators[j].a;\r\n                animatorSelector = animators[j].s;\r\n                mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                if (animatorProps.sk.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n                    } else {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.r.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n                    } else {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.ry.propType) {\r\n\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult[1]);\r\n                    }else{\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.rx.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult[0]);\r\n                    } else {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.o.propType) {\r\n                    if(mult.length) {\r\n                        elemOpacity += ((animatorProps.o.v)*mult[0] - elemOpacity)*mult[0];\r\n                    } else {\r\n                        elemOpacity += ((animatorProps.o.v)*mult - elemOpacity)*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n                    if(mult.length) {\r\n                        sw += animatorProps.sw.v*mult[0];\r\n                    } else {\r\n                        sw += animatorProps.sw.v*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n                    for(k=0;k<3;k+=1){\r\n                        if(mult.length) {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult[0];\r\n                        } else {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult;\r\n                        }\r\n                    }\r\n                }\r\n                if (documentData.fillColorAnim && documentData.fc) {\r\n                    if(animatorProps.fc.propType){\r\n                        for(k=0;k<3;k+=1){\r\n                            if(mult.length) {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult[0];\r\n                            } else {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult;\r\n                            }\r\n                        }\r\n                    }\r\n                    if(animatorProps.fh.propType){\r\n                        if(mult.length) {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult[0]);\r\n                        } else {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fs.propType){\r\n                        if(mult.length) {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult[0]);\r\n                        } else {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fb.propType){\r\n                        if(mult.length) {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult[0]);\r\n                        } else {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n\r\n                if (animatorProps.p.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(this._hasMaskedPath) {\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n                        } else {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        }\r\n                    }else{\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n                        } else {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(documentData.strokeWidthAnim){\r\n                letterSw = sw < 0 ? 0 : sw;\r\n            }\r\n            if(documentData.strokeColorAnim){\r\n                letterSc = 'rgb('+Math.round(sc[0]*255)+','+Math.round(sc[1]*255)+','+Math.round(sc[2]*255)+')';\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc){\r\n                letterFc = 'rgb('+Math.round(fc[0]*255)+','+Math.round(fc[1]*255)+','+Math.round(fc[2]*255)+')';\r\n            }\r\n\r\n            if(this._hasMaskedPath) {\r\n                matrixHelper.translate(0,-documentData.ls);\r\n\r\n                matrixHelper.translate(0, alignment[1]*yOff/100 + yPos,0);\r\n                if (textData.p.p) {\r\n                    tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n                    var rot = Math.atan(tanAngle) * 180 / Math.PI;\r\n                    if (currentPoint.point[0] < prevPoint.point[0]) {\r\n                        rot += 180;\r\n                    }\r\n                    matrixHelper.rotate(-rot * Math.PI / 180);\r\n                }\r\n                matrixHelper.translate(xPathPos, yPathPos, 0);\r\n                currentLength -= alignment[0]*letters[i].an/200;\r\n                if(letters[i+1] && ind !== letters[i+1].ind){\r\n                    currentLength += letters[i].an / 2;\r\n                    currentLength += documentData.tr/1000*documentData.finalSize;\r\n                }\r\n            }else{\r\n\r\n                matrixHelper.translate(xPos,yPos,0);\r\n\r\n                if(documentData.ps){\r\n                    //matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n                    matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n                }\r\n                switch(documentData.j){\r\n                    case 1:\r\n                        matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]),0,0);\r\n                        break;\r\n                    case 2:\r\n                        matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line])/2,0,0);\r\n                        break;\r\n                }\r\n                matrixHelper.translate(0,-documentData.ls);\r\n                matrixHelper.translate(offf,0,0);\r\n                matrixHelper.translate(alignment[0]*letters[i].an/200,alignment[1]*yOff/100,0);\r\n                xPos += letters[i].l + documentData.tr/1000*documentData.finalSize;\r\n            }\r\n            if(renderType === 'html'){\r\n                letterM = matrixHelper.toCSS();\r\n            }else if(renderType === 'svg'){\r\n                letterM = matrixHelper.to2dCSS();\r\n            }else{\r\n                letterP = [matrixHelper.props[0],matrixHelper.props[1],matrixHelper.props[2],matrixHelper.props[3],matrixHelper.props[4],matrixHelper.props[5],matrixHelper.props[6],matrixHelper.props[7],matrixHelper.props[8],matrixHelper.props[9],matrixHelper.props[10],matrixHelper.props[11],matrixHelper.props[12],matrixHelper.props[13],matrixHelper.props[14],matrixHelper.props[15]];\r\n            }\r\n            letterO = elemOpacity;\r\n        }\r\n\r\n        if(renderedLettersCount <= i) {\r\n            letterValue = new LetterProps(letterO,letterSw,letterSc,letterFc,letterM,letterP);\r\n            this.renderedLetters.push(letterValue);\r\n            renderedLettersCount += 1;\r\n            this.lettersChangedFlag = true;\r\n        } else {\r\n            letterValue = this.renderedLetters[i];\r\n            this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n        }\r\n    }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function(){\r\n\tif(this._elem.globalData.frameId === this._frameId){\r\n        return;\r\n    }\r\n    this._frameId = this._elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n\tvar defaultData = {propType:false};\r\n\tvar getProp = PropertyFactory.getProp;\r\n\tvar textAnimator_animatables = animatorProps.a;\r\n\tthis.a = {\r\n\t\tr: textAnimator_animatables.r ? getProp(elem, textAnimator_animatables.r, 0, degToRads, container) : defaultData,\r\n\t\trx: textAnimator_animatables.rx ? getProp(elem, textAnimator_animatables.rx, 0, degToRads, container) : defaultData,\r\n\t\try: textAnimator_animatables.ry ? getProp(elem, textAnimator_animatables.ry, 0, degToRads, container) : defaultData,\r\n\t\tsk: textAnimator_animatables.sk ? getProp(elem, textAnimator_animatables.sk, 0, degToRads, container) : defaultData,\r\n\t\tsa: textAnimator_animatables.sa ? getProp(elem, textAnimator_animatables.sa, 0, degToRads, container) : defaultData,\r\n\t\ts: textAnimator_animatables.s ? getProp(elem, textAnimator_animatables.s, 1, 0.01, container) : defaultData,\r\n\t\ta: textAnimator_animatables.a ? getProp(elem, textAnimator_animatables.a, 1, 0, container) : defaultData,\r\n\t\to: textAnimator_animatables.o ? getProp(elem, textAnimator_animatables.o, 0, 0.01, container) : defaultData,\r\n\t\tp: textAnimator_animatables.p ? getProp(elem,textAnimator_animatables.p, 1, 0, container) : defaultData,\r\n\t\tsw: textAnimator_animatables.sw ? getProp(elem, textAnimator_animatables.sw, 0, 0, container) : defaultData,\r\n\t\tsc: textAnimator_animatables.sc ? getProp(elem, textAnimator_animatables.sc, 1, 0, container) : defaultData,\r\n\t\tfc: textAnimator_animatables.fc ? getProp(elem, textAnimator_animatables.fc, 1, 0, container) : defaultData,\r\n\t\tfh: textAnimator_animatables.fh ? getProp(elem, textAnimator_animatables.fh, 0, 0, container) : defaultData,\r\n\t\tfs: textAnimator_animatables.fs ? getProp(elem, textAnimator_animatables.fs, 0, 0.01, container) : defaultData,\r\n\t\tfb: textAnimator_animatables.fb ? getProp(elem, textAnimator_animatables.fb, 0, 0.01, container) : defaultData,\r\n\t\tt: textAnimator_animatables.t ? getProp(elem, textAnimator_animatables.t, 0, 0, container) : defaultData\r\n\t};\r\n\r\n\tthis.s = TextSelectorProp.getTextSelectorProp(elem,animatorProps.s, container);\r\n    this.s.t = animatorProps.s.t;\r\n}\r\nfunction LetterProps(o, sw, sc, fc, m, p){\r\n    this.o = o;\r\n    this.sw = sw;\r\n    this.sc = sc;\r\n    this.fc = fc;\r\n    this.m = m;\r\n    this.p = p;\r\n    this._mdf = {\r\n    \to: true,\r\n    \tsw: !!sw,\r\n    \tsc: !!sc,\r\n    \tfc: !!fc,\r\n    \tm: true,\r\n    \tp: true\r\n    };\r\n}\r\n\r\nLetterProps.prototype.update = function(o, sw, sc, fc, m, p) {\r\n\tthis._mdf.o = false;\r\n\tthis._mdf.sw = false;\r\n\tthis._mdf.sc = false;\r\n\tthis._mdf.fc = false;\r\n\tthis._mdf.m = false;\r\n\tthis._mdf.p = false;\r\n\tvar updated = false;\r\n\r\n\tif(this.o !== o) {\r\n\t\tthis.o = o;\r\n\t\tthis._mdf.o = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sw !== sw) {\r\n\t\tthis.sw = sw;\r\n\t\tthis._mdf.sw = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sc !== sc) {\r\n\t\tthis.sc = sc;\r\n\t\tthis._mdf.sc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.fc !== fc) {\r\n\t\tthis.fc = fc;\r\n\t\tthis._mdf.fc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.m !== m) {\r\n\t\tthis.m = m;\r\n\t\tthis._mdf.m = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n\t\tthis.p = p;\r\n\t\tthis._mdf.p = true;\r\n\t\tupdated = true;\r\n\t}\r\n\treturn updated;\r\n};\r\nfunction TextProperty(elem, data){\r\n\tthis._frameId = initialDefaultFrame;\r\n\tthis.pv = '';\r\n\tthis.v = '';\r\n\tthis.kf = false;\r\n\tthis._isFirstFrame = true;\r\n\tthis._mdf = false;\r\n    this.data = data;\r\n\tthis.elem = elem;\r\n    this.comp = this.elem.comp;\r\n\tthis.keysIndex = 0;\r\n    this.canResize = false;\r\n    this.minimumFontSize = 1;\r\n    this.effectsSequence = [];\r\n\tthis.currentData = {\r\n\t\tascent: 0,\r\n        boxWidth: this.defaultBoxWidth,\r\n        f: '',\r\n        fStyle: '',\r\n        fWeight: '',\r\n        fc: '',\r\n        j: '',\r\n        justifyOffset: '',\r\n        l: [],\r\n        lh: 0,\r\n        lineWidths: [],\r\n        ls: '',\r\n        of: '',\r\n        s: '',\r\n        sc: '',\r\n        sw: 0,\r\n        t: 0,\r\n        tr: 0,\r\n        sz:0,\r\n        ps:null,\r\n        fillColorAnim: false,\r\n        strokeColorAnim: false,\r\n        strokeWidthAnim: false,\r\n        yOffset: 0,\r\n        finalSize:0,\r\n        finalText:[],\r\n        finalLineHeight: 0,\r\n        __complete: false\r\n\r\n\t};\r\n    this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n    if(!this.searchProperty()) {\r\n        this.completeTextData(this.currentData);\r\n    }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0,0];\r\n\r\nTextProperty.prototype.copyData = function(obj, data) {\r\n    for(var s in data) {\r\n        if(data.hasOwnProperty(s)) {\r\n            obj[s] = data[s];\r\n        }\r\n    }\r\n    return obj;\r\n}\r\n\r\nTextProperty.prototype.setCurrentData = function(data){\r\n    if(!data.__complete) {\r\n        this.completeTextData(data);\r\n    }\r\n    this.currentData = data;\r\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n    this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function() {\r\n    return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function() {\r\n    this.kf = this.data.d.k.length > 1;\r\n    if(this.kf) {\r\n        this.addEffect(this.getKeyframeValue.bind(this));\r\n    }\r\n    return this.kf;\r\n}\r\n\r\nTextProperty.prototype.addEffect = function(effectFunction) {\r\n\tthis.effectsSequence.push(effectFunction);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function(_finalValue) {\r\n    if((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n        return;\r\n    }\r\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n    var currentValue = this.currentData;\r\n    var currentIndex = this.keysIndex;\r\n    if(this.lock) {\r\n        this.setCurrentData(this.currentData);\r\n        return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var multipliedValue;\r\n    var i, len = this.effectsSequence.length;\r\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n    for(i = 0; i < len; i += 1) {\r\n        //Checking if index changed to prevent creating a new object every time the expression updates.\r\n        if(currentIndex !== this.keysIndex) {\r\n            finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n        } else {\r\n            finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n        }\r\n    }\r\n    if(currentValue !== finalValue) {\r\n        this.setCurrentData(finalValue);\r\n    }\r\n    this.pv = this.v = this.currentData;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n}\r\n\r\nTextProperty.prototype.getKeyframeValue = function() {\r\n    var textKeys = this.data.d.k, textDocumentData;\r\n    var frameNum = this.elem.comp.renderedFrame;\r\n    var i = 0, len = textKeys.length;\r\n    while(i <= len - 1) {\r\n        textDocumentData = textKeys[i].s;\r\n        if(i === len - 1 || textKeys[i+1].t > frameNum){\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n    if(this.keysIndex !== i) {\r\n        this.keysIndex = i;\r\n    }\r\n    return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function(text) {\r\n    var combinedCharacters = FontManager.getCombinedCharacterCodes();\r\n    var charactersArray = [];\r\n    var i = 0, len = text.length;\r\n    var charCode;\r\n    while (i < len) {\r\n        charCode = text.charCodeAt(i);\r\n        if (combinedCharacters.indexOf(charCode) !== -1) {\r\n            charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n        } else {\r\n            if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n                charCode = text.charCodeAt(i + 1);\r\n                if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\r\n                    charactersArray.push(text.substr(i, 2));\r\n                    ++i;\r\n                } else {\r\n                    charactersArray.push(text.charAt(i));\r\n                }\r\n            } else {\r\n                charactersArray.push(text.charAt(i));\r\n            }\r\n        }\r\n        i += 1;\r\n    }\r\n    return charactersArray;\r\n}\r\n\r\nTextProperty.prototype.completeTextData = function(documentData) {\r\n    documentData.__complete = true;\r\n    var fontManager = this.elem.globalData.fontManager;\r\n    var data = this.data;\r\n    var letters = [];\r\n    var i, len;\r\n    var newLineFlag, index = 0, val;\r\n    var anchorGrouping = data.m.g;\r\n    var currentSize = 0, currentPos = 0, currentLine = 0, lineWidths = [];\r\n    var lineWidth = 0;\r\n    var maxLineWidth = 0;\r\n    var j, jLen;\r\n    var fontData = fontManager.getFontByName(documentData.f);\r\n    var charData, cLength = 0;\r\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n    var fWeight = 'normal', fStyle = 'normal';\r\n    len = styles.length;\r\n    var styleName;\r\n    for(i=0;i<len;i+=1){\r\n        styleName = styles[i].toLowerCase();\r\n        switch(styleName) {\r\n            case 'italic':\r\n            fStyle = 'italic';\r\n            break;\r\n            case 'bold':\r\n            fWeight = '700';\r\n            break;\r\n            case 'black':\r\n            fWeight = '900';\r\n            break;\r\n            case 'medium':\r\n            fWeight = '500';\r\n            break;\r\n            case 'regular':\r\n            case 'normal':\r\n            fWeight = '400';\r\n            break;\r\n            case 'light':\r\n            case 'thin':\r\n            fWeight = '200';\r\n            break;\r\n        }\r\n    }\r\n    documentData.fWeight = fontData.fWeight || fWeight;\r\n    documentData.fStyle = fStyle;\r\n    documentData.finalSize = documentData.s;\r\n    documentData.finalText = this.buildFinalText(documentData.t);\r\n    len = documentData.finalText.length;\r\n    documentData.finalLineHeight = documentData.lh;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    var charCode;\r\n    if(documentData.sz){\r\n        var flag = true;\r\n        var boxWidth = documentData.sz[0];\r\n        var boxHeight = documentData.sz[1];\r\n        var currentHeight, finalText;\r\n        while(flag) {\r\n            finalText = this.buildFinalText(documentData.t);\r\n            currentHeight = 0;\r\n            lineWidth = 0;\r\n            len = finalText.length;\r\n            trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n            var lastSpaceIndex = -1;\r\n            for(i=0;i<len;i+=1){\r\n                charCode = finalText[i].charCodeAt(0);\r\n                newLineFlag = false;\r\n                if(finalText[i] === ' '){\r\n                    lastSpaceIndex = i;\r\n                }else if(charCode === 13 || charCode === 3){\r\n                    lineWidth = 0;\r\n                    newLineFlag = true;\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                }\r\n                if(fontManager.chars){\r\n                    charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n                    cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n                }else{\r\n                    //tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n                    cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n                }\r\n                if(lineWidth + cLength > boxWidth && finalText[i] !== ' '){\r\n                    if(lastSpaceIndex === -1){\r\n                        len += 1;\r\n                    } else {\r\n                        i = lastSpaceIndex;\r\n                    }\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                    finalText.splice(i, lastSpaceIndex === i ? 1 : 0,\"\\r\");\r\n                    //finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n                    lastSpaceIndex = -1;\r\n                    lineWidth = 0;\r\n                }else {\r\n                    lineWidth += cLength;\r\n                    lineWidth += trackingOffset;\r\n                }\r\n            }\r\n            currentHeight += fontData.ascent*documentData.finalSize/100;\r\n            if(this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n                documentData.finalSize -= 1;\r\n                documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\r\n            } else {\r\n                documentData.finalText = finalText;\r\n                len = documentData.finalText.length;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n    }\r\n    lineWidth = - trackingOffset;\r\n    cLength = 0;\r\n    var uncollapsedSpaces = 0;\r\n    var currentChar;\r\n    for (i = 0;i < len ;i += 1) {\r\n        newLineFlag = false;\r\n        currentChar = documentData.finalText[i];\r\n        charCode = currentChar.charCodeAt(0);\r\n        if (charCode === 13 || charCode === 3) {\r\n            uncollapsedSpaces = 0;\r\n            lineWidths.push(lineWidth);\r\n            maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n            lineWidth = - 2 * trackingOffset;\r\n            val = '';\r\n            newLineFlag = true;\r\n            currentLine += 1;\r\n        }else{\r\n            val = currentChar;\r\n        }\r\n        if(fontManager.chars){\r\n            charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n            cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n        }else{\r\n            //var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n            //tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n            cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n        }\r\n\r\n        //\r\n        if(currentChar === ' '){\r\n            uncollapsedSpaces += cLength + trackingOffset;\r\n        } else {\r\n            lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n            uncollapsedSpaces = 0;\r\n        }\r\n        letters.push({l:cLength,an:cLength,add:currentSize,n:newLineFlag, anIndexes:[], val: val, line: currentLine, animatorJustifyOffset: 0});\r\n        if(anchorGrouping == 2){\r\n            currentSize += cLength;\r\n            if(val === '' || val === ' ' || i === len - 1){\r\n                if(val === '' || val === ' '){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                index += 1;\r\n                currentSize = 0;\r\n            }\r\n        }else if(anchorGrouping == 3){\r\n            currentSize += cLength;\r\n            if(val === '' || i === len - 1){\r\n                if(val === ''){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                currentSize = 0;\r\n                index += 1;\r\n            }\r\n        }else{\r\n            letters[index].ind = index;\r\n            letters[index].extra = 0;\r\n            index += 1;\r\n        }\r\n    }\r\n    documentData.l = letters;\r\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n    lineWidths.push(lineWidth);\r\n    if(documentData.sz){\r\n        documentData.boxWidth = documentData.sz[0];\r\n        documentData.justifyOffset = 0;\r\n    }else{\r\n        documentData.boxWidth = maxLineWidth;\r\n        switch(documentData.j){\r\n            case 1:\r\n                documentData.justifyOffset = - documentData.boxWidth;\r\n                break;\r\n            case 2:\r\n                documentData.justifyOffset = - documentData.boxWidth/2;\r\n                break;\r\n            default:\r\n                documentData.justifyOffset = 0;\r\n        }\r\n    }\r\n    documentData.lineWidths = lineWidths;\r\n\r\n    var animators = data.a, animatorData, letterData;\r\n    jLen = animators.length;\r\n    var based, ind, indexes = [];\r\n    for(j=0;j<jLen;j+=1){\r\n        animatorData = animators[j];\r\n        if(animatorData.a.sc){\r\n            documentData.strokeColorAnim = true;\r\n        }\r\n        if(animatorData.a.sw){\r\n            documentData.strokeWidthAnim = true;\r\n        }\r\n        if(animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb){\r\n            documentData.fillColorAnim = true;\r\n        }\r\n        ind = 0;\r\n        based = animatorData.s.b;\r\n        for(i=0;i<len;i+=1){\r\n            letterData = letters[i];\r\n            letterData.anIndexes[j] = ind;\r\n            if((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))){\r\n                if(animatorData.s.rn === 1){\r\n                    indexes.push(ind);\r\n                }\r\n                ind += 1;\r\n            }\r\n        }\r\n        data.a[j].s.totalChars = ind;\r\n        var currentInd = -1, newInd;\r\n        if(animatorData.s.rn === 1){\r\n            for(i = 0; i < len; i += 1){\r\n                letterData = letters[i];\r\n                if(currentInd != letterData.anIndexes[j]){\r\n                    currentInd = letterData.anIndexes[j];\r\n                    newInd = indexes.splice(Math.floor(Math.random()*indexes.length),1)[0];\r\n                }\r\n                letterData.anIndexes[j] = newInd;\r\n            }\r\n        }\r\n    }\r\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize*1.2;\r\n    documentData.ls = documentData.ls || 0;\r\n    documentData.ascent = fontData.ascent*documentData.finalSize/100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function(newData, index) {\r\n\tindex = index === undefined ? this.keysIndex : index;\r\n    var dData = this.copyData({}, this.data.d.k[index].s);\r\n    dData = this.copyData(dData, newData);\r\n    this.data.d.k[index].s = dData;\r\n    this.recalculate(index);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function(index) {\r\n    var dData = this.data.d.k[index].s;\r\n    dData.__complete = false;\r\n    this.keysIndex = 0;\r\n    this._isFirstFrame = true;\r\n    this.getValue(dData);\r\n}\r\n\r\nTextProperty.prototype.canResizeFont = function(_canResize) {\r\n    this.canResize = _canResize;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function(_fontValue) {\r\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nvar TextSelectorProp = (function(){\r\n    var max = Math.max;\r\n    var min = Math.min;\r\n    var floor = Math.floor;\r\n\r\n    function TextSelectorProp(elem,data){\r\n        this._currentTextLength = -1;\r\n        this.k = false;\r\n        this.data = data;\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.finalS = 0;\r\n        this.finalE = 0;\r\n        this.initDynamicPropertyContainer(elem);\r\n        this.s = PropertyFactory.getProp(elem,data.s || {k:0},0,0,this);\r\n        if('e' in data){\r\n            this.e = PropertyFactory.getProp(elem,data.e,0,0,this);\r\n        }else{\r\n            this.e = {v:100};\r\n        }\r\n        this.o = PropertyFactory.getProp(elem,data.o || {k:0},0,0,this);\r\n        this.xe = PropertyFactory.getProp(elem,data.xe || {k:0},0,0,this);\r\n        this.ne = PropertyFactory.getProp(elem,data.ne || {k:0},0,0,this);\r\n        this.a = PropertyFactory.getProp(elem,data.a,0,0.01,this);\r\n        if(!this.dynamicProperties.length){\r\n            this.getValue();\r\n        }\r\n    }\r\n\r\n    TextSelectorProp.prototype = {\r\n        getMult: function(ind) {\r\n            if(this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n                this.getValue();\r\n            }\r\n            //var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n            var x1 = 0;\r\n            var y1 = 0;\r\n            var x2 = 1;\r\n            var y2 = 1;\r\n            if(this.ne.v > 0) {\r\n                x1 = this.ne.v / 100.0;\r\n            }\r\n            else {\r\n                y1 = -this.ne.v / 100.0;\r\n            }\r\n            if(this.xe.v > 0) {\r\n                x2 = 1.0 - this.xe.v / 100.0;\r\n            }\r\n            else {\r\n                y2 = 1.0 + this.xe.v / 100.0;\r\n            }\r\n            var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n            var mult = 0;\r\n            var s = this.finalS;\r\n            var e = this.finalE;\r\n            var type = this.data.sh;\r\n            if (type === 2){\r\n                if (e === s) {\r\n                    mult = ind >= e ? 1 : 0;\r\n                } else {\r\n                    mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n                }\r\n                mult = easer(mult);\r\n            } else if(type === 3) {\r\n                if (e === s) {\r\n                    mult = ind >= e ? 0 : 1;\r\n                }else{\r\n                    mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s),1));\r\n                }\r\n\r\n                mult = easer(mult);\r\n            } else if (type === 4) {\r\n                if (e === s) {\r\n                    mult = 0;\r\n                } else {\r\n                    mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n                    if (mult < 0.5) {\r\n                        mult *= 2;\r\n                    } else {\r\n                        mult = 1 - 2 * (mult - 0.5);\r\n                    }\r\n                }\r\n                mult = easer(mult);\r\n            } else if (type === 5) {\r\n                if (e === s){\r\n                    mult = 0;\r\n                } else {\r\n                    var tot = e - s;\r\n                    /*ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind;*/\r\n                    ind = min(max(0, ind + 0.5 - s), e - s);\r\n                    var x = -tot/2+ind;\r\n                    var a = tot/2;\r\n                    mult = Math.sqrt(1 - (x * x) / (a * a));\r\n                }\r\n                mult = easer(mult);\r\n            } else if (type === 6) {\r\n                if (e === s){\r\n                    mult = 0;\r\n                } else {\r\n                    ind = min(max(0, ind + 0.5 - s), e - s);\r\n                    mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2;\r\n                }\r\n                mult = easer(mult);\r\n            } else {\r\n                if (ind >= floor(s)) {\r\n                    if (ind - s < 0) {\r\n                        mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n                    } else {\r\n                        mult = max(0, min(e - ind, 1));\r\n                    }\r\n                }\r\n                mult = easer(mult);\r\n            }\r\n            return mult*this.a.v;\r\n        },\r\n        getValue: function(newCharsFlag) {\r\n            this.iterateDynamicProperties();\r\n            this._mdf = newCharsFlag || this._mdf;\r\n            this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n            if(newCharsFlag && this.data.r === 2) {\r\n                this.e.v = this._currentTextLength;\r\n            }\r\n            var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n            var o = this.o.v/divisor;\r\n            var s = this.s.v/divisor + o;\r\n            var e = (this.e.v/divisor) + o;\r\n            if(s>e){\r\n                var _s = s;\r\n                s = e;\r\n                e = _s;\r\n            }\r\n            this.finalS = s;\r\n            this.finalE = e;\r\n        }\r\n    }\r\n    extendPrototype([DynamicPropertyContainer], TextSelectorProp);\r\n\r\n    function getTextSelectorProp(elem, data,arr) {\r\n        return new TextSelectorProp(elem, data, arr);\r\n    }\r\n\r\n    return {\r\n        getTextSelectorProp: getTextSelectorProp\r\n    };\r\n}());\r\n\r\n    \r\nvar pool_factory = (function() {\r\n\treturn function(initialLength, _create, _release, _clone) {\r\n\r\n\t\tvar _length = 0;\r\n\t\tvar _maxLength = initialLength;\r\n\t\tvar pool = createSizedArray(_maxLength);\r\n\r\n\t\tvar ob = {\r\n\t\t\tnewElement: newElement,\r\n\t\t\trelease: release\r\n\t\t};\r\n\r\n\t\tfunction newElement(){\r\n\t\t\tvar element;\r\n\t\t\tif(_length){\r\n\t\t\t\t_length -= 1;\r\n\t\t\t\telement = pool[_length];\r\n\t\t\t} else {\r\n\t\t\t\telement = _create();\r\n\t\t\t}\r\n\t\t\treturn element;\r\n\t\t}\r\n\r\n\t\tfunction release(element) {\r\n\t\t\tif(_length === _maxLength) {\r\n\t\t\t\tpool = pooling.double(pool);\r\n\t\t\t\t_maxLength = _maxLength*2;\r\n\t\t\t}\r\n\t\t\tif (_release) {\r\n\t\t\t\t_release(element);\r\n\t\t\t}\r\n\t\t\tpool[_length] = element;\r\n\t\t\t_length += 1;\r\n\t\t}\r\n\r\n\t\tfunction clone() {\r\n\t\t\tvar clonedElement = newElement();\r\n\t\t\treturn _clone(clonedElement);\r\n\t\t}\r\n\r\n\t\treturn ob;\r\n\t};\r\n}());\r\n\r\nvar pooling = (function(){\r\n\r\n\tfunction double(arr){\r\n\t\treturn arr.concat(createSizedArray(arr.length));\r\n\t}\r\n\r\n\treturn {\r\n\t\tdouble: double\r\n\t};\r\n}());\r\nvar point_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn createTypedArray('float32', 2);\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nvar shape_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn new ShapePath();\r\n\t}\r\n\r\n\tfunction release(shapePath) {\r\n\t\tvar len = shapePath._length, i;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tpoint_pool.release(shapePath.v[i]);\r\n\t\t\tpoint_pool.release(shapePath.i[i]);\r\n\t\t\tpoint_pool.release(shapePath.o[i]);\r\n\t\t\tshapePath.v[i] = null;\r\n\t\t\tshapePath.i[i] = null;\r\n\t\t\tshapePath.o[i] = null;\r\n\t\t}\r\n\t\tshapePath._length = 0;\r\n\t\tshapePath.c = false;\r\n\t}\r\n\r\n\tfunction clone(shape) {\r\n\t\tvar cloned = factory.newElement();\r\n\t\tvar i, len = shape._length === undefined ? shape.v.length : shape._length;\r\n\t\tcloned.setLength(len);\r\n\t\tcloned.c = shape.c;\r\n\t\tvar pt;\r\n\t\t\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tcloned.setTripleAt(shape.v[i][0],shape.v[i][1],shape.o[i][0],shape.o[i][1],shape.i[i][0],shape.i[i][1], i);\r\n\t\t}\r\n\t\treturn cloned;\r\n\t}\r\n\r\n\tvar factory = pool_factory(4, create, release);\r\n\tfactory.clone = clone;\r\n\r\n\treturn factory;\r\n}());\r\nvar shapeCollection_pool = (function(){\r\n\tvar ob = {\r\n\t\tnewShapeCollection: newShapeCollection,\r\n\t\trelease: release\r\n\t};\r\n\r\n\tvar _length = 0;\r\n\tvar _maxLength = 4;\r\n\tvar pool = createSizedArray(_maxLength);\r\n\r\n\tfunction newShapeCollection(){\r\n\t\tvar shapeCollection;\r\n\t\tif(_length){\r\n\t\t\t_length -= 1;\r\n\t\t\tshapeCollection = pool[_length];\r\n\t\t} else {\r\n\t\t\tshapeCollection = new ShapeCollection();\r\n\t\t}\r\n\t\treturn shapeCollection;\r\n\t}\r\n\r\n\tfunction release(shapeCollection) {\r\n\t\tvar i, len = shapeCollection._length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tshape_pool.release(shapeCollection.shapes[i]);\r\n\t\t}\r\n\t\tshapeCollection._length = 0;\r\n\r\n\t\tif(_length === _maxLength) {\r\n\t\t\tpool = pooling.double(pool);\r\n\t\t\t_maxLength = _maxLength*2;\r\n\t\t}\r\n\t\tpool[_length] = shapeCollection;\r\n\t\t_length += 1;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nvar segments_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n\t\t\tlengths: [],\r\n\t\t\ttotalLength: 0\r\n\t\t};\r\n\t}\r\n\r\n\tfunction release(element) {\r\n\t\tvar i, len = element.lengths.length;\r\n\t\tfor(i=0;i<len;i+=1) {\r\n\t\t\tbezier_length_pool.release(element.lengths[i]);\r\n\t\t}\r\n\t\telement.lengths.length = 0;\r\n\t}\r\n\r\n\treturn pool_factory(8, create, release);\r\n}());\r\nvar bezier_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n            addedLength: 0,\r\n            percents: createTypedArray('float32', defaultCurveSegments),\r\n            lengths: createTypedArray('float32', defaultCurveSegments),\r\n        };\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nfunction BaseRenderer(){}\r\nBaseRenderer.prototype.checkLayers = function(num){\r\n    var i, len = this.layers.length, data;\r\n    this.completeLayers = true;\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if (!this.elements[i]) {\r\n            data = this.layers[i];\r\n            if(data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st))\r\n            {\r\n                this.buildItem(i);\r\n            }\r\n        }\r\n        this.completeLayers = this.elements[i] ? this.completeLayers:false;\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function(layer){\r\n    switch(layer.ty){\r\n        case 2:\r\n            return this.createImage(layer);\r\n        case 0:\r\n            return this.createComp(layer);\r\n        case 1:\r\n            return this.createSolid(layer);\r\n        case 3:\r\n            return this.createNull(layer);\r\n        case 4:\r\n            return this.createShape(layer);\r\n        case 5:\r\n            return this.createText(layer);\r\n        case 6:\r\n            return this.createAudio(layer);\r\n        case 13:\r\n            return this.createCamera(layer);\r\n    }\r\n    return this.createNull(layer);\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function(){\r\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function(data){\r\n    return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function(){\r\n    var i, len = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.buildItem(i);\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function(newLayers){\r\n    this.completeLayers = false;\r\n    var i, len = newLayers.length;\r\n    var j, jLen = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        j = 0;\r\n        while(j<jLen){\r\n            if(this.layers[j].id == newLayers[i].id){\r\n                this.layers[j] = newLayers[i];\r\n                break;\r\n            }\r\n            j += 1;\r\n        }\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function(pInterface){\r\n    this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function(){\r\n    if(!this.globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function(element, parentName, hierarchy) {\r\n    var elements = this.elements;\r\n    var layers = this.layers;\r\n    var i=0, len = layers.length;\r\n    while (i < len) {\r\n        if (layers[i].ind == parentName) {\r\n            if (!elements[i] || elements[i] === true) {\r\n                this.buildItem(i);\r\n                this.addPendingElement(element);\r\n            } else {\r\n                hierarchy.push(elements[i]);\r\n                elements[i].setAsParent();\r\n                if(layers[i].parent !== undefined) {\r\n                    this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n                } else {\r\n                    element.setHierarchy(hierarchy);\r\n                }\r\n            }\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function(element){\r\n    this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function(assets){\r\n    var i, len = assets.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(assets[i].xt){\r\n            var comp = this.createComp(assets[i]);\r\n            comp.initExpressions();\r\n            this.globalData.projectInterface.registerComposition(comp);\r\n        }\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function(animData, fontsContainer) {\r\n    this.globalData.fontManager = new FontManager();\r\n    this.globalData.fontManager.addChars(animData.chars);\r\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n    this.globalData.audioController = this.animationItem.audioController;\r\n    this.globalData.frameId = 0;\r\n    this.globalData.frameRate = animData.fr;\r\n    this.globalData.nm = animData.nm;\r\n    this.globalData.compSize = {\r\n        w: animData.w,\r\n        h: animData.h\r\n    }\r\n}\r\nfunction SVGRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.svgElement = createNS('svg');\r\n    var ariaLabel = '';\r\n    if (config && config.title) {\r\n        var titleElement = createNS('title');\r\n        var titleId = createElementID();\r\n        titleElement.setAttribute('id', titleId);\r\n        titleElement.textContent = config.title;\r\n        this.svgElement.appendChild(titleElement);\r\n        ariaLabel += titleId;\r\n    }\r\n    if (config && config.description) {\r\n        var descElement = createNS('desc');\r\n        var descId = createElementID();\r\n        descElement.setAttribute('id', descId);\r\n        descElement.textContent = config.description;\r\n        this.svgElement.appendChild(descElement);\r\n        ariaLabel += ' ' + descId;\r\n    }\r\n    if (ariaLabel) {\r\n        this.svgElement.setAttribute('aria-labelledby', ariaLabel)\r\n    }\r\n    var defs = createNS( 'defs');\r\n    this.svgElement.appendChild(defs);\r\n    var maskElement = createNS('g');\r\n    this.svgElement.appendChild(maskElement);\r\n    this.layerElement = maskElement;\r\n    this.renderConfig = {\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        hideOnTransparent: (config && config.hideOnTransparent === false) ? false : true,\r\n        viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n        viewBoxSize: (config && config.viewBoxSize) || false,\r\n        className: (config && config.className) || '',\r\n        id: (config && config.id) || '',\r\n        focusable: config && config.focusable,\r\n        filterSize: {\r\n            width: config && config.filterSize && config.filterSize.width || '100%',\r\n            height: config && config.filterSize && config.filterSize.height || '100%',\r\n            x: config && config.filterSize && config.filterSize.x || '0%',\r\n            y: config && config.filterSize && config.filterSize.y || '0%',\r\n        }\r\n    };\r\n\r\n    this.globalData = {\r\n        _mdf: false,\r\n        frameNum: -1,\r\n        defs: defs,\r\n        renderConfig: this.renderConfig\r\n    };\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.destroyed = false;\r\n    this.rendererType = 'svg';\r\n\r\n}\r\n\r\nextendPrototype([BaseRenderer],SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n    return new NullElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n    return new SVGShapeElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n    return new SVGTextElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n    return new IImageElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n    return new SVGCompElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n    return new ISolidElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function(animData){\r\n    this.svgElement.setAttribute('xmlns','http://www.w3.org/2000/svg');\r\n    if(this.renderConfig.viewBoxSize) {\r\n        this.svgElement.setAttribute('viewBox',this.renderConfig.viewBoxSize);\r\n    } else {\r\n        this.svgElement.setAttribute('viewBox','0 0 '+animData.w+' '+animData.h);\r\n    }\r\n\r\n    if(!this.renderConfig.viewBoxOnly) {\r\n        this.svgElement.setAttribute('width',animData.w);\r\n        this.svgElement.setAttribute('height',animData.h);\r\n        this.svgElement.style.width = '100%';\r\n        this.svgElement.style.height = '100%';\r\n        this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n    }\r\n    if (this.renderConfig.className) {\r\n        this.svgElement.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    if (this.renderConfig.id) {\r\n        this.svgElement.setAttribute('id', this.renderConfig.id);\r\n    }\r\n    if (this.renderConfig.focusable !== undefined) {\r\n        this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n    }\r\n    this.svgElement.setAttribute('preserveAspectRatio',this.renderConfig.preserveAspectRatio);\r\n    //this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n    //this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n    this.animationItem.wrapper.appendChild(this.svgElement);\r\n    //Mask animation\r\n    var defs = this.globalData.defs;\r\n\r\n    this.setupGlobalData(animData, defs);\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.data = animData;\r\n\r\n    var maskElement = createNS( 'clipPath');\r\n    var rect = createNS('rect');\r\n    rect.setAttribute('width',animData.w);\r\n    rect.setAttribute('height',animData.h);\r\n    rect.setAttribute('x',0);\r\n    rect.setAttribute('y',0);\r\n    var maskId = createElementID();\r\n    maskElement.setAttribute('id', maskId);\r\n    maskElement.appendChild(rect);\r\n    this.layerElement.setAttribute(\"clip-path\", \"url(\" + locationHref + \"#\"+maskId+\")\");\r\n\r\n    defs.appendChild(maskElement);\r\n    this.layers = animData.layers;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n    if (this.animationItem.wrapper) {\r\n        this.animationItem.wrapper.innerText = '';\r\n    }\r\n    this.layerElement = null;\r\n    this.globalData.defs = null;\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem  = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    elements[pos] = true;\r\n    var element = this.createItem(this.layers[pos]);\r\n\r\n    elements[pos] = element;\r\n    if(expressionsPlugin){\r\n        if(this.layers[pos].ty === 0){\r\n            this.globalData.projectInterface.registerComposition(element);\r\n        }\r\n        element.initExpressions();\r\n    }\r\n    this.appendElementInPos(element,pos);\r\n    if(this.layers[pos].tt){\r\n        if(!this.elements[pos - 1] || this.elements[pos - 1] === true){\r\n            this.buildItem(pos - 1);\r\n            this.addPendingElement(element);\r\n        } else {\r\n            element.setMatte(elements[pos - 1].layerId);\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n        if(element.data.tt){\r\n            var i = 0, len = this.elements.length;\r\n            while(i<len){\r\n                if(this.elements[i] === element){\r\n                    element.setMatte(this.elements[i - 1].layerId);\r\n                    break;\r\n                }\r\n                i += 1;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function(num){\r\n    if(this.renderedFrame === num || this.destroyed){\r\n        return;\r\n    }\r\n    if(num === null){\r\n        num = this.renderedFrame;\r\n    }else{\r\n        this.renderedFrame = num;\r\n    }\r\n    // console.log('-------');\r\n    // console.log('FRAME ',num);\r\n    this.globalData.frameNum = num;\r\n    this.globalData.frameId += 1;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n    this.globalData._mdf = false;\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function(element, pos){\r\n    var newElement = element.getBaseElement();\r\n    if(!newElement){\r\n        return;\r\n    }\r\n    var i = 0;\r\n    var nextElement;\r\n    while(i<pos){\r\n        if(this.elements[i] && this.elements[i]!== true && this.elements[i].getBaseElement()){\r\n            nextElement = this.elements[i].getBaseElement();\r\n        }\r\n        i += 1;\r\n    }\r\n    if(nextElement){\r\n        this.layerElement.insertBefore(newElement, nextElement);\r\n    } else {\r\n        this.layerElement.appendChild(newElement);\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function(){\r\n    this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function(){\r\n    this.layerElement.style.display = 'block';\r\n};\r\n\r\nfunction CanvasRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.renderConfig = {\r\n        clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n        context: (config && config.context) || null,\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        className: (config && config.className) || '',\r\n        id: (config && config.id) || '',\r\n    };\r\n    this.renderConfig.dpr = (config && config.dpr) || 1;\r\n    if (this.animationItem.wrapper) {\r\n        this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n    }\r\n    this.renderedFrame = -1;\r\n    this.globalData = {\r\n        frameNum: -1,\r\n        _mdf: false,\r\n        renderConfig: this.renderConfig,\r\n        currentGlobalAlpha: -1\r\n    };\r\n    this.contextData = new CVContextData();\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.transformMat = new Matrix();\r\n    this.completeLayers = false;\r\n    this.rendererType = 'canvas';\r\n}\r\nextendPrototype([BaseRenderer],CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n    return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n    return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n    return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n    return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n    return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function(props){\r\n    if(props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0){\r\n        return;\r\n    }\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.transform(props[0],props[1],props[4],props[5],props[12],props[13]);\r\n        return;\r\n    }\r\n    this.transformMat.cloneFromProps(props);\r\n    var cProps = this.contextData.cTr.props;\r\n    this.transformMat.transform(cProps[0],cProps[1],cProps[2],cProps[3],cProps[4],cProps[5],cProps[6],cProps[7],cProps[8],cProps[9],cProps[10],cProps[11],cProps[12],cProps[13],cProps[14],cProps[15]);\r\n    //this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n    var trProps = this.contextData.cTr.props;\r\n    this.canvasContext.setTransform(trProps[0],trProps[1],trProps[4],trProps[5],trProps[12],trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function(op){\r\n    /*if(op === 1){\r\n        return;\r\n    }*/\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n        this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n        return;\r\n    }\r\n    this.contextData.cO *= op < 0 ? 0 : op;\r\n    if(this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n        this.canvasContext.globalAlpha = this.contextData.cO;\r\n        this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function(){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.save();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.save();\r\n    }\r\n    var props = this.contextData.cTr.props;\r\n    if(this.contextData._length <= this.contextData.cArrPos) {\r\n        this.contextData.duplicate();\r\n    }\r\n    var i, arr = this.contextData.saved[this.contextData.cArrPos];\r\n    for (i = 0; i < 16; i += 1) {\r\n        arr[i] = props[i];\r\n    }\r\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n    this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.restore();\r\n        this.globalData.blendMode = 'source-over';\r\n    }\r\n    this.contextData.cArrPos -= 1;\r\n    var popped = this.contextData.saved[this.contextData.cArrPos];\r\n    var i,arr = this.contextData.cTr.props;\r\n    for(i=0;i<16;i+=1){\r\n        arr[i] = popped[i];\r\n    }\r\n    this.canvasContext.setTransform(popped[0],popped[1],popped[4],popped[5],popped[12],popped[13]);\r\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n    this.contextData.cO = popped;\r\n    if(this.globalData.currentGlobalAlpha !== popped) {\r\n        this.canvasContext.globalAlpha = popped;\r\n        this.globalData.currentGlobalAlpha = popped;\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function(animData){\r\n    if(this.animationItem.wrapper){\r\n        this.animationItem.container = createTag('canvas');\r\n        this.animationItem.container.style.width = '100%';\r\n        this.animationItem.container.style.height = '100%';\r\n        //this.animationItem.container.style.transform = 'translate3d(0,0,0)';\r\n        //this.animationItem.container.style.webkitTransform = 'translate3d(0,0,0)';\r\n        this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style['-webkit-transform'] = \"0px 0px 0px\";\r\n        this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n        this.canvasContext = this.animationItem.container.getContext('2d');\r\n        if(this.renderConfig.className) {\r\n            this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n        }\r\n        if(this.renderConfig.id) {\r\n            this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n        }\r\n    }else{\r\n        this.canvasContext = this.renderConfig.context;\r\n    }\r\n    this.data = animData;\r\n    this.layers = animData.layers;\r\n    this.transformCanvas = {\r\n        w: animData.w,\r\n        h:animData.h,\r\n        sx:0,\r\n        sy:0,\r\n        tx:0,\r\n        ty:0\r\n    };\r\n    this.setupGlobalData(animData, document.body);\r\n    this.globalData.canvasContext = this.canvasContext;\r\n    this.globalData.renderer = this;\r\n    this.globalData.isDashed = false;\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.globalData.transformCanvas = this.transformCanvas;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n\r\n    this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n    this.reset();\r\n    var elementWidth,elementHeight;\r\n    if(this.animationItem.wrapper && this.animationItem.container){\r\n        elementWidth = this.animationItem.wrapper.offsetWidth;\r\n        elementHeight = this.animationItem.wrapper.offsetHeight;\r\n        this.animationItem.container.setAttribute('width',elementWidth * this.renderConfig.dpr );\r\n        this.animationItem.container.setAttribute('height',elementHeight * this.renderConfig.dpr);\r\n    }else{\r\n        elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n        elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n    }\r\n    var elementRel,animationRel;\r\n    if(this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1){\r\n        var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n        var fillType = par[1] || 'meet';\r\n        var pos = par[0] || 'xMidYMid';\r\n        var xPos = pos.substr(0,4);\r\n        var yPos = pos.substr(4);\r\n        elementRel = elementWidth/elementHeight;\r\n        animationRel = this.transformCanvas.w/this.transformCanvas.h;\r\n        if(animationRel>elementRel && fillType === 'meet' || animationRel<elementRel && fillType === 'slice'){\r\n            this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        }else{\r\n            this.transformCanvas.sx = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n        }\r\n\r\n        if(xPos === 'xMid' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))/2*this.renderConfig.dpr;\r\n        } else if(xPos === 'xMax' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.tx = 0;\r\n        }\r\n        if(yPos === 'YMid' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))/2)*this.renderConfig.dpr;\r\n        } else if(yPos === 'YMax' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w)))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.ty = 0;\r\n        }\r\n\r\n    }else if(this.renderConfig.preserveAspectRatio == 'none'){\r\n        this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        this.transformCanvas.sy = elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }else{\r\n        this.transformCanvas.sx = this.renderConfig.dpr;\r\n        this.transformCanvas.sy = this.renderConfig.dpr;\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }\r\n    this.transformCanvas.props = [this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];\r\n    /*var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    }*/\r\n    this.ctxTransform(this.transformCanvas.props);\r\n    this.canvasContext.beginPath();\r\n    this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h);\r\n    this.canvasContext.closePath();\r\n    this.canvasContext.clip();\r\n\r\n    this.renderFrame(this.renderedFrame, true);\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n    if(this.renderConfig.clearCanvas && this.animationItem.wrapper) {\r\n        this.animationItem.wrapper.innerText = '';\r\n    }\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = len - 1; i >= 0; i-=1) {\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.globalData.canvasContext = null;\r\n    this.animationItem.container = null;\r\n    this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function(num, forceRender){\r\n    if((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1){\r\n        return;\r\n    }\r\n    this.renderedFrame = num;\r\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n    this.globalData.frameId += 1;\r\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n\r\n     // console.log('--------');\r\n     // console.log('NEW: ',num);\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n\r\n    for (i = 0; i < len; i++) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        if(this.renderConfig.clearCanvas === true){\r\n            this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n        }else{\r\n            this.save();\r\n        }\r\n        for (i = len - 1; i >= 0; i-=1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n        if(this.renderConfig.clearCanvas !== true){\r\n            this.restore();\r\n        }\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    var element = this.createItem(this.layers[pos], this,this.globalData);\r\n    elements[pos] = element;\r\n    element.initExpressions();\r\n    /*if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    }*/\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function(){\r\n    this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function(){\r\n    this.animationItem.container.style.display = 'block';\r\n};\r\n\r\nfunction HybridRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.renderConfig = {\r\n        className: (config && config.className) || '',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        hideOnTransparent: (config && config.hideOnTransparent === false) ? false : true,\r\n        filterSize: {\r\n            width: config && config.filterSize && config.filterSize.width || '400%',\r\n            height: config && config.filterSize && config.filterSize.height || '400%',\r\n            x: config && config.filterSize && config.filterSize.x || '-100%',\r\n            y: config && config.filterSize && config.filterSize.y || '-100%',\r\n        }\r\n    };\r\n    this.globalData = {\r\n        _mdf: false,\r\n        frameNum: -1,\r\n        renderConfig: this.renderConfig\r\n    };\r\n    this.pendingElements = [];\r\n    this.elements = [];\r\n    this.threeDElements = [];\r\n    this.destroyed = false;\r\n    this.camera = null;\r\n    this.supports3d = true;\r\n    this.rendererType = 'html';\r\n\r\n}\r\n\r\nextendPrototype([BaseRenderer],HybridRenderer);\r\n\r\nHybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\nHybridRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.appendElementInPos = function(element, pos){\r\n    var newDOMElement = element.getBaseElement();\r\n    if(!newDOMElement){\r\n        return;\r\n    }\r\n    var layer = this.layers[pos];\r\n    if(!layer.ddd || !this.supports3d){\r\n        if(this.threeDElements) {\r\n            this.addTo3dContainer(newDOMElement,pos);\r\n        } else {\r\n            var i = 0;\r\n            var nextDOMElement, nextLayer, tmpDOMElement;\r\n            while(i<pos){\r\n                if(this.elements[i] && this.elements[i]!== true && this.elements[i].getBaseElement){\r\n                    nextLayer = this.elements[i];\r\n                    tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n                    nextDOMElement = tmpDOMElement || nextDOMElement;\r\n                }\r\n                i += 1;\r\n            }\r\n            if(nextDOMElement){\r\n                if(!layer.ddd || !this.supports3d){\r\n                    this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n                }\r\n            } else {\r\n                if(!layer.ddd || !this.supports3d){\r\n                    this.layerElement.appendChild(newDOMElement);\r\n                }\r\n            }\r\n        }\r\n        \r\n    } else {\r\n        this.addTo3dContainer(newDOMElement,pos);\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.createShape = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGShapeElement(data, this.globalData, this);\r\n    }\r\n    return new HShapeElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createText = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGTextElement(data, this.globalData, this);\r\n    }\r\n    return new HTextElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createCamera = function (data) {\r\n    this.camera = new HCameraElement(data, this.globalData, this);\r\n    return this.camera;\r\n};\r\n\r\nHybridRenderer.prototype.createImage = function (data) {\r\n    if(!this.supports3d){\r\n        return new IImageElement(data, this.globalData, this);\r\n    }\r\n    return new HImageElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createComp = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGCompElement(data, this.globalData, this);\r\n    }\r\n    return new HCompElement(data, this.globalData, this);\r\n\r\n};\r\n\r\nHybridRenderer.prototype.createSolid = function (data) {\r\n    if(!this.supports3d){\r\n        return new ISolidElement(data, this.globalData, this);\r\n    }\r\n    return new HSolidElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nHybridRenderer.prototype.getThreeDContainerByPos = function(pos){\r\n    var i = 0, len = this.threeDElements.length;\r\n    while(i<len) {\r\n        if(this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n            return this.threeDElements[i].perspectiveElem;\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.createThreeDContainer = function(pos, type){\r\n    var perspectiveElem = createTag('div');\r\n    styleDiv(perspectiveElem);\r\n    var container = createTag('div');\r\n    styleDiv(container);\r\n    if(type === '3d') {\r\n        perspectiveElem.style.width = this.globalData.compSize.w+'px';\r\n        perspectiveElem.style.height = this.globalData.compSize.h+'px';\r\n        perspectiveElem.style.transformOrigin = perspectiveElem.style.mozTransformOrigin = perspectiveElem.style.webkitTransformOrigin = \"50% 50%\";\r\n        container.style.transform = container.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n    }\r\n    \r\n    perspectiveElem.appendChild(container);\r\n    //this.resizerElem.appendChild(perspectiveElem);\r\n    var threeDContainerData = {\r\n        container:container,\r\n        perspectiveElem:perspectiveElem,\r\n        startPos: pos,\r\n        endPos: pos,\r\n        type: type\r\n    };\r\n    this.threeDElements.push(threeDContainerData);\r\n    return threeDContainerData;\r\n};\r\n\r\nHybridRenderer.prototype.build3dContainers = function(){\r\n    var i, len = this.layers.length;\r\n    var lastThreeDContainerData;\r\n    var currentContainer = '';\r\n    for(i=0;i<len;i+=1){\r\n        if(this.layers[i].ddd && this.layers[i].ty !== 3){\r\n            if(currentContainer !== '3d'){\r\n                currentContainer = '3d';\r\n                lastThreeDContainerData = this.createThreeDContainer(i,'3d');\r\n            }\r\n            lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos,i);\r\n        } else {\r\n            if(currentContainer !== '2d'){\r\n                currentContainer = '2d';\r\n                lastThreeDContainerData = this.createThreeDContainer(i,'2d');\r\n            }\r\n            lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos,i);\r\n        }\r\n    }\r\n    len = this.threeDElements.length;\r\n    for(i = len - 1; i >= 0; i --) {\r\n        this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.addTo3dContainer = function(elem,pos){\r\n    var i = 0, len = this.threeDElements.length;\r\n    while(i<len){\r\n        if(pos <= this.threeDElements[i].endPos){\r\n            var j = this.threeDElements[i].startPos;\r\n            var nextElement;\r\n            while(j<pos){\r\n                if(this.elements[j] && this.elements[j].getBaseElement){\r\n                    nextElement = this.elements[j].getBaseElement();\r\n                }\r\n                j += 1;\r\n            }\r\n            if(nextElement){\r\n                this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n            } else {\r\n                this.threeDElements[i].container.appendChild(elem);\r\n            }\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.configAnimation = function(animData){\r\n    var resizerElem = createTag('div');\r\n    var wrapper = this.animationItem.wrapper;\r\n    resizerElem.style.width = animData.w+'px';\r\n    resizerElem.style.height = animData.h+'px';\r\n    this.resizerElem = resizerElem;\r\n    styleDiv(resizerElem);\r\n    resizerElem.style.transformStyle = resizerElem.style.webkitTransformStyle = resizerElem.style.mozTransformStyle = \"flat\";\r\n    if(this.renderConfig.className) {\r\n      resizerElem.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    wrapper.appendChild(resizerElem);\r\n\r\n    resizerElem.style.overflow = 'hidden';\r\n    var svg = createNS('svg');\r\n    svg.setAttribute('width','1');\r\n    svg.setAttribute('height','1');\r\n    styleDiv(svg);\r\n    this.resizerElem.appendChild(svg);\r\n    var defs = createNS('defs');\r\n    svg.appendChild(defs);\r\n    this.data = animData;\r\n    //Mask animation\r\n    this.setupGlobalData(animData, svg);\r\n    this.globalData.defs = defs;\r\n    this.layers = animData.layers;\r\n    this.layerElement = this.resizerElem;\r\n    this.build3dContainers();\r\n    this.updateContainerSize();\r\n};\r\n\r\nHybridRenderer.prototype.destroy = function () {\r\n    if (this.animationItem.wrapper) {\r\n        this.animationItem.wrapper.innerText = '';\r\n    }\r\n    this.animationItem.container = null;\r\n    this.globalData.defs = null;\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = 0; i < len; i++) {\r\n        this.elements[i].destroy();\r\n    }\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n};\r\n\r\nHybridRenderer.prototype.updateContainerSize = function () {\r\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    var elementRel = elementWidth/elementHeight;\r\n    var animationRel = this.globalData.compSize.w/this.globalData.compSize.h;\r\n    var sx,sy,tx,ty;\r\n    if(animationRel>elementRel){\r\n        sx = elementWidth/(this.globalData.compSize.w);\r\n        sy = elementWidth/(this.globalData.compSize.w);\r\n        tx = 0;\r\n        ty = ((elementHeight-this.globalData.compSize.h*(elementWidth/this.globalData.compSize.w))/2);\r\n    }else{\r\n        sx = elementHeight/(this.globalData.compSize.h);\r\n        sy = elementHeight/(this.globalData.compSize.h);\r\n        tx = (elementWidth-this.globalData.compSize.w*(elementHeight/this.globalData.compSize.h))/2;\r\n        ty = 0;\r\n    }\r\n    this.resizerElem.style.transform = this.resizerElem.style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,'+sy+',0,0,0,0,1,0,'+tx+','+ty+',0,1)';\r\n};\r\n\r\nHybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\nHybridRenderer.prototype.hide = function(){\r\n    this.resizerElem.style.display = 'none';\r\n};\r\n\r\nHybridRenderer.prototype.show = function(){\r\n    this.resizerElem.style.display = 'block';\r\n};\r\n\r\nHybridRenderer.prototype.initItems = function(){\r\n    this.buildAllItems();\r\n    if(this.camera){\r\n        this.camera.setup();\r\n    } else {\r\n        var cWidth = this.globalData.compSize.w;\r\n        var cHeight = this.globalData.compSize.h;\r\n        var i, len = this.threeDElements.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.threeDElements[i].perspectiveElem.style.perspective = this.threeDElements[i].perspectiveElem.style.webkitPerspective = Math.sqrt(Math.pow(cWidth,2) + Math.pow(cHeight,2)) + 'px';\r\n        }\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.searchExtraCompositions = function(assets){\r\n    var i, len = assets.length;\r\n    var floatingContainer = createTag('div');\r\n    for(i=0;i<len;i+=1){\r\n        if(assets[i].xt){\r\n            var comp = this.createComp(assets[i],floatingContainer,this.globalData.comp,null);\r\n            comp.initExpressions();\r\n            this.globalData.projectInterface.registerComposition(comp);\r\n        }\r\n    }\r\n};\r\n\r\nfunction MaskElement(data,element,globalData) {\r\n    this.data = data;\r\n    this.element = element;\r\n    this.globalData = globalData;\r\n    this.storedData = [];\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.maskElement = null;\r\n    var defs = this.globalData.defs;\r\n    var i, len = this.masksProperties ? this.masksProperties.length : 0;\r\n    this.viewData = createSizedArray(len);\r\n    this.solidPath = '';\r\n\r\n\r\n    var path, properties = this.masksProperties;\r\n    var count = 0;\r\n    var currentMasks = [];\r\n    var j, jLen;\r\n    var layerId = createElementID();\r\n    var rect, expansor, feMorph,x;\r\n    var maskType = 'clipPath', maskRef = 'clip-path';\r\n    for (i = 0; i < len; i++) {\r\n        if((properties[i].mode !== 'a' && properties[i].mode !== 'n')|| properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x){\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n        }\r\n\r\n        if((properties[i].mode == 's' || properties[i].mode == 'i') && count === 0){\r\n            rect = createNS( 'rect');\r\n            rect.setAttribute('fill', '#ffffff');\r\n            rect.setAttribute('width', this.element.comp.data.w || 0);\r\n            rect.setAttribute('height', this.element.comp.data.h || 0);\r\n            currentMasks.push(rect);\r\n        } else {\r\n            rect = null;\r\n        }\r\n\r\n        path = createNS( 'path');\r\n        if(properties[i].mode == 'n') {\r\n            // TODO move this to a factory or to a constructor\r\n            this.viewData[i] = {\r\n                op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),\r\n                prop: ShapePropertyFactory.getShapeProp(this.element,properties[i],3),\r\n                elem: path,\r\n                lastPath: ''\r\n            };\r\n            defs.appendChild(path);\r\n            continue;\r\n        }\r\n        count += 1;\r\n\r\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        path.setAttribute('clip-rule','nonzero');\r\n        var filterID;\r\n\r\n        if (properties[i].x.k !== 0) {\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n            x = PropertyFactory.getProp(this.element,properties[i].x,0,null,this.element);\r\n            filterID = createElementID();\r\n            expansor = createNS('filter');\r\n            expansor.setAttribute('id',filterID);\r\n            feMorph = createNS('feMorphology');\r\n            feMorph.setAttribute('operator','erode');\r\n            feMorph.setAttribute('in','SourceGraphic');\r\n            feMorph.setAttribute('radius','0');\r\n            expansor.appendChild(feMorph);\r\n            defs.appendChild(expansor);\r\n            path.setAttribute('stroke', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        } else {\r\n            feMorph = null;\r\n            x = null;\r\n        }\r\n\r\n        // TODO move this to a factory or to a constructor\r\n        this.storedData[i] = {\r\n             elem: path,\r\n             x: x,\r\n             expan: feMorph,\r\n            lastPath: '',\r\n            lastOperator:'',\r\n            filterId:filterID,\r\n            lastRadius:0\r\n        };\r\n        if(properties[i].mode == 'i'){\r\n            jLen = currentMasks.length;\r\n            var g = createNS('g');\r\n            for(j=0;j<jLen;j+=1){\r\n                g.appendChild(currentMasks[j]);\r\n            }\r\n            var mask = createNS('mask');\r\n            mask.setAttribute('mask-type','alpha');\r\n            mask.setAttribute('id',layerId+'_'+count);\r\n            mask.appendChild(path);\r\n            defs.appendChild(mask);\r\n            g.setAttribute('mask','url(' + locationHref + '#'+layerId+'_'+count+')');\r\n\r\n            currentMasks.length = 0;\r\n            currentMasks.push(g);\r\n        }else{\r\n            currentMasks.push(path);\r\n        }\r\n        if(properties[i].inv && !this.solidPath){\r\n            this.solidPath = this.createLayerSolidPath();\r\n        }\r\n        // TODO move this to a factory or to a constructor\r\n        this.viewData[i] = {\r\n            elem: path,\r\n            lastPath: '',\r\n            op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),\r\n            prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3),\r\n            invRect: rect\r\n        };\r\n        if(!this.viewData[i].prop.k){\r\n            this.drawPath(properties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n    }\r\n\r\n    this.maskElement = createNS( maskType);\r\n\r\n    len = currentMasks.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.maskElement.appendChild(currentMasks[i]);\r\n    }\r\n\r\n    if(count > 0){\r\n        this.maskElement.setAttribute('id', layerId);\r\n        this.element.maskedElement.setAttribute(maskRef, \"url(\" + locationHref + \"#\" + layerId + \")\");\r\n        defs.appendChild(this.maskElement);\r\n    }\r\n    if (this.viewData.length) {\r\n        this.element.addRenderableComponent(this);\r\n    }\r\n\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function(pos){\r\n    return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n    var finalMat = this.element.finalTransform.mat;\r\n    var i, len = this.masksProperties.length;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.viewData[i].prop._mdf || isFirstFrame){\r\n            this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n        if(this.viewData[i].op._mdf || isFirstFrame){\r\n            this.viewData[i].elem.setAttribute('fill-opacity',this.viewData[i].op.v);\r\n        }\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if(this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)){\r\n                this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS())\r\n            }\r\n            if(this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)){\r\n                var feMorph = this.storedData[i].expan;\r\n                if(this.storedData[i].x.v < 0){\r\n                    if(this.storedData[i].lastOperator !== 'erode'){\r\n                        this.storedData[i].lastOperator = 'erode';\r\n                        this.storedData[i].elem.setAttribute('filter','url(' + locationHref + '#'+this.storedData[i].filterId+')');\r\n                    }\r\n                    feMorph.setAttribute('radius',-this.storedData[i].x.v);\r\n                }else{\r\n                    if(this.storedData[i].lastOperator !== 'dilate'){\r\n                        this.storedData[i].lastOperator = 'dilate';\r\n                        this.storedData[i].elem.setAttribute('filter',null);\r\n                    }\r\n                    this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v*2);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n    return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function(){\r\n    var path = 'M0,0 ';\r\n    path += ' h' + this.globalData.compSize.w ;\r\n    path += ' v' + this.globalData.compSize.h ;\r\n    path += ' h-' + this.globalData.compSize.w ;\r\n    path += ' v-' + this.globalData.compSize.h + ' ';\r\n    return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function(pathData,pathNodes,viewData){\r\n    var pathString = \" M\"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    var i, len;\r\n    len = pathNodes._length;\r\n    for(i=1;i<len;i+=1){\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    }\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    if(pathNodes.c && len > 1){\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    }\r\n    //pathNodes.__renderedString = pathString;\r\n\r\n    if(viewData.lastPath !== pathString){\r\n        var pathShapeValue = '';\r\n        if(viewData.elem){\r\n            if(pathNodes.c){\r\n                pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n            }\r\n            viewData.elem.setAttribute('d',pathShapeValue);\r\n        }\r\n        viewData.lastPath = pathString;\r\n    }\r\n};\r\n\r\nMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n    this.globalData = null;\r\n    this.maskElement = null;\r\n    this.data = null;\r\n    this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file \r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement(){}\r\n\r\nHierarchyElement.prototype = {\r\n\t/**\r\n     * @function \r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n\tinitHierarchy: function() {\r\n\t\t//element's parent list\r\n\t    this.hierarchy = [];\r\n\t    //if element is parent of another layer _isParent will be true\r\n\t    this._isParent = false;\r\n\t    this.checkParenting();\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */ \r\n\tsetHierarchy: function(hierarchy){\r\n\t    this.hierarchy = hierarchy;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer as parent.\r\n     *\r\n     */ \r\n\tsetAsParent: function() {\r\n\t    this._isParent = true;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Searches layer's parenting chain\r\n     *\r\n     */ \r\n\tcheckParenting: function(){\r\n\t    if (this.data.parent !== undefined){\r\n\t        this.comp.buildElementParenting(this, this.data.parent, []);\r\n\t    }\r\n\t}\r\n};\r\n/**\r\n * @file \r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement(){}\r\n\r\nFrameElement.prototype = {\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n    initFrame: function(){\r\n        //set to true when inpoint is rendered\r\n        this._isFirstFrame = false;\r\n        //list of animated properties\r\n        this.dynamicProperties = [];\r\n        // If layer has been modified in current tick this will be true\r\n        this._mdf = false;\r\n    },\r\n    /**\r\n     * @function \r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     * \r\n     */\r\n    prepareProperties: function(num, isVisible) {\r\n        var i, len = this.dynamicProperties.length;\r\n        for (i = 0;i < len; i += 1) {\r\n            if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n                this.dynamicProperties[i].getValue();\r\n                if (this.dynamicProperties[i]._mdf) {\r\n                    this.globalData._mdf = true;\r\n                    this._mdf = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    addDynamicProperty: function(prop) {\r\n        if(this.dynamicProperties.indexOf(prop) === -1) {\r\n            this.dynamicProperties.push(prop);\r\n        }\r\n    }\r\n};\r\nfunction TransformElement(){}\r\n\r\nTransformElement.prototype = {\r\n    initTransform: function() {\r\n        this.finalTransform = {\r\n            mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {o:0},\r\n            _matMdf: false,\r\n            _opMdf: false,\r\n            mat: new Matrix()\r\n        };\r\n        if (this.data.ao) {\r\n            this.finalTransform.mProp.autoOriented = true;\r\n        }\r\n\r\n        //TODO: check TYPE 11: Guided elements\r\n        if (this.data.ty !== 11) {\r\n            //this.createElements();\r\n        }\r\n    },\r\n    renderTransform: function() {\r\n\r\n        this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n        this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n        if (this.hierarchy) {\r\n            var mat;\r\n            var finalMat = this.finalTransform.mat;\r\n            var i = 0, len = this.hierarchy.length;\r\n            //Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n            if (!this.finalTransform._matMdf) {\r\n                while (i < len) {\r\n                    if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n                        this.finalTransform._matMdf = true;\r\n                        break;\r\n                    }\r\n                    i += 1;\r\n                }\r\n            }\r\n            \r\n            if (this.finalTransform._matMdf) {\r\n                mat = this.finalTransform.mProp.v.props;\r\n                finalMat.cloneFromProps(mat);\r\n                for (i = 0; i < len; i += 1) {\r\n                    mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n                    finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    globalToLocal: function(pt) {\r\n        var transforms = [];\r\n        transforms.push(this.finalTransform);\r\n        var flag = true;\r\n        var comp = this.comp;\r\n        while (flag) {\r\n            if (comp.finalTransform) {\r\n                if (comp.data.hasMask) {\r\n                    transforms.splice(0, 0, comp.finalTransform);\r\n                }\r\n                comp = comp.comp;\r\n            } else {\r\n                flag = false;\r\n            }\r\n        }\r\n        var i, len = transforms.length,ptNew;\r\n        for (i = 0; i < len; i += 1) {\r\n            ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n            //ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n            pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n        }\r\n        return pt;\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nfunction RenderableElement(){\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n    initRenderable: function() {\r\n        //layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n        this.isInRange = false;\r\n        //layer's display state\r\n        this.hidden = false;\r\n        // If layer's transparency equals 0, it can be hidden\r\n        this.isTransparent = false;\r\n        //list of animated components\r\n        this.renderableComponents = [];\r\n    },\r\n    addRenderableComponent: function(component) {\r\n        if(this.renderableComponents.indexOf(component) === -1) {\r\n            this.renderableComponents.push(component);\r\n        }\r\n    },\r\n    removeRenderableComponent: function(component) {\r\n        if(this.renderableComponents.indexOf(component) !== -1) {\r\n            this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n        }\r\n    },\r\n    prepareRenderableFrame: function(num) {\r\n        this.checkLayerLimits(num);\r\n    },\r\n    checkTransparency: function(){\r\n        if(this.finalTransform.mProp.o.v <= 0) {\r\n            if(!this.isTransparent && this.globalData.renderConfig.hideOnTransparent){\r\n                this.isTransparent = true;\r\n                this.hide();\r\n            }\r\n        } else if(this.isTransparent) {\r\n            this.isTransparent = false;\r\n            this.show();\r\n        }\r\n    },\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * \r\n     */\r\n    checkLayerLimits: function(num) {\r\n        if(this.data.ip - this.data.st <= num && this.data.op - this.data.st > num)\r\n        {\r\n            if(this.isInRange !== true){\r\n                this.globalData._mdf = true;\r\n                this._mdf = true;\r\n                this.isInRange = true;\r\n                this.show();\r\n            }\r\n        } else {\r\n            if(this.isInRange !== false){\r\n                this.globalData._mdf = true;\r\n                this.isInRange = false;\r\n                this.hide();\r\n            }\r\n        }\r\n    },\r\n    renderRenderable: function() {\r\n        var i, len = this.renderableComponents.length;\r\n        for(i = 0; i < len; i += 1) {\r\n            this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n        }\r\n        /*this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame);*/\r\n    },\r\n    sourceRectAtTime: function(){\r\n        return {\r\n            top:0,\r\n            left:0,\r\n            width:100,\r\n            height:100\r\n        };\r\n    },\r\n    getLayerSize: function(){\r\n        if(this.data.ty === 5){\r\n            return {w:this.data.textData.width,h:this.data.textData.height};\r\n        }else{\r\n            return {w:this.data.width,h:this.data.height};\r\n        }\r\n    }\r\n};\r\nfunction RenderableDOMElement() {}\r\n\r\n(function(){\r\n    var _prototype = {\r\n        initElement: function(data,globalData,comp) {\r\n            this.initFrame();\r\n            this.initBaseData(data, globalData, comp);\r\n            this.initTransform(data, globalData, comp);\r\n            this.initHierarchy();\r\n            this.initRenderable();\r\n            this.initRendererElement();\r\n            this.createContainerElements();\r\n            this.createRenderableComponents();\r\n            this.createContent();\r\n            this.hide();\r\n        },\r\n        hide: function(){\r\n            if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n                var elem = this.baseElement || this.layerElement;\r\n                elem.style.display = 'none';\r\n                this.hidden = true;\r\n            }\r\n        },\r\n        show: function(){\r\n            if (this.isInRange && !this.isTransparent){\r\n                if (!this.data.hd) {\r\n                    var elem = this.baseElement || this.layerElement;\r\n                    elem.style.display = 'block';\r\n                }\r\n                this.hidden = false;\r\n                this._isFirstFrame = true;\r\n            }\r\n        },\r\n        renderFrame: function() {\r\n            //If it is exported as hidden (data.hd === true) no need to render\r\n            //If it is not visible no need to render\r\n            if (this.data.hd || this.hidden) {\r\n                return;\r\n            }\r\n            this.renderTransform();\r\n            this.renderRenderable();\r\n            this.renderElement();\r\n            this.renderInnerContent();\r\n            if (this._isFirstFrame) {\r\n                this._isFirstFrame = false;\r\n            }\r\n        },\r\n        renderInnerContent: function() {},\r\n        prepareFrame: function(num) {\r\n            this._mdf = false;\r\n            this.prepareRenderableFrame(num);\r\n            this.prepareProperties(num, this.isInRange);\r\n            this.checkTransparency();\r\n        },\r\n        destroy: function(){\r\n            this.innerElem =  null;\r\n            this.destroyBaseElement();\r\n        }\r\n    };\r\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\nfunction ProcessedElement(element, position) {\r\n\tthis.elem = element;\r\n\tthis.pos = position;\r\n}\r\nfunction SVGStyleData(data, level) {\r\n\tthis.data = data;\r\n\tthis.type = data.ty;\r\n\tthis.d = '';\r\n\tthis.lvl = level;\r\n\tthis._mdf = false;\r\n\tthis.closed = data.hd === true;\r\n\tthis.pElem = createNS('path');\r\n\tthis.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function() {\r\n\tthis.d = '';\r\n\tthis._mdf = false;\r\n};\r\nfunction SVGShapeData(transformers, level, shape) {\r\n    this.caches = [];\r\n    this.styles = [];\r\n    this.transformers = transformers;\r\n    this.lStr = '';\r\n    this.sh = shape;\r\n    this.lvl = level;\r\n    //TODO find if there are some cases where _isAnimated can be false. \r\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n    this._isAnimated = !!shape.k;\r\n    // TODO: commenting this for now since all shapes are animated\r\n    var i = 0, len = transformers.length;\r\n    while(i < len) {\r\n    \tif(transformers[i].mProps.dynamicProperties.length) {\r\n    \t\tthis._isAnimated = true;\r\n    \t\tbreak;\r\n    \t}\r\n    \ti += 1;\r\n    }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function() {\r\n    this._isAnimated = true;\r\n}\r\nfunction SVGTransformData(mProps, op, container) {\r\n\tthis.transform = {\r\n\t\tmProps: mProps,\r\n\t\top: op,\r\n\t\tcontainer: container\r\n\t};\r\n\tthis.elements = [];\r\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n}\r\nfunction SVGStrokeStyleData(elem, data, styleOb){\r\n\tthis.initDynamicPropertyContainer(elem);\r\n\tthis.getValue = this.iterateDynamicProperties;\r\n\tthis.o = PropertyFactory.getProp(elem,data.o,0,0.01,this);\r\n\tthis.w = PropertyFactory.getProp(elem,data.w,0,null,this);\r\n\tthis.d = new DashProperty(elem,data.d||{},'svg',this);\r\n\tthis.c = PropertyFactory.getProp(elem,data.c,1,255,this);\r\n\tthis.style = styleOb;\r\n    this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\nfunction SVGFillStyleData(elem, data, styleOb){\r\n\tthis.initDynamicPropertyContainer(elem);\r\n\tthis.getValue = this.iterateDynamicProperties;\r\n\tthis.o = PropertyFactory.getProp(elem,data.o,0,0.01,this);\r\n\tthis.c = PropertyFactory.getProp(elem,data.c,1,255,this);\r\n\tthis.style = styleOb;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\nfunction SVGGradientFillStyleData(elem, data, styleOb){\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.initGradientData(elem, data, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function(elem, data, styleOb){\r\n    this.o = PropertyFactory.getProp(elem,data.o,0,0.01,this);\r\n    this.s = PropertyFactory.getProp(elem,data.s,1,null,this);\r\n    this.e = PropertyFactory.getProp(elem,data.e,1,null,this);\r\n    this.h = PropertyFactory.getProp(elem,data.h||{k:0},0,0.01,this);\r\n    this.a = PropertyFactory.getProp(elem,data.a||{k:0},0,degToRads,this);\r\n    this.g = new GradientProperty(elem,data.g,this);\r\n    this.style = styleOb;\r\n    this.stops = [];\r\n    this.setGradientData(styleOb.pElem, data);\r\n    this.setGradientOpacity(data, styleOb);\r\n    this._isAnimated = !!this._isAnimated;\r\n\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function(pathElement,data){\r\n\r\n    var gradientId = createElementID();\r\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    gfill.setAttribute('id',gradientId);\r\n    gfill.setAttribute('spreadMethod','pad');\r\n    gfill.setAttribute('gradientUnits','userSpaceOnUse');\r\n    var stops = [];\r\n    var stop, j, jLen;\r\n    jLen = data.g.p*4;\r\n    for(j=0;j<jLen;j+=4){\r\n        stop = createNS('stop');\r\n        gfill.appendChild(stop);\r\n        stops.push(stop);\r\n    }\r\n    pathElement.setAttribute( data.ty === 'gf' ? 'fill':'stroke','url(' + locationHref + '#'+gradientId+')');\r\n    \r\n    this.gf = gfill;\r\n    this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function(data, styleOb){\r\n    if(this.g._hasOpacity && !this.g._collapsable){\r\n        var stop, j, jLen;\r\n        var mask = createNS(\"mask\");\r\n        var maskElement = createNS( 'path');\r\n        mask.appendChild(maskElement);\r\n        var opacityId = createElementID();\r\n        var maskId = createElementID();\r\n        mask.setAttribute('id',maskId);\r\n        var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n        opFill.setAttribute('id',opacityId);\r\n        opFill.setAttribute('spreadMethod','pad');\r\n        opFill.setAttribute('gradientUnits','userSpaceOnUse');\r\n        jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n        var stops = this.stops;\r\n        for(j=data.g.p*4;j<jLen;j+=2){\r\n            stop = createNS('stop');\r\n            stop.setAttribute('stop-color','rgb(255,255,255)');\r\n            opFill.appendChild(stop);\r\n            stops.push(stop);\r\n        }\r\n        maskElement.setAttribute( data.ty === 'gf' ? 'fill':'stroke','url(' + locationHref + '#'+opacityId+')');\r\n        this.of = opFill;\r\n        this.ms = mask;\r\n        this.ost = stops;\r\n        this.maskId = maskId;\r\n        styleOb.msElem = maskElement;\r\n    }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\nfunction SVGGradientStrokeStyleData(elem, data, styleOb){\r\n\tthis.initDynamicPropertyContainer(elem);\r\n\tthis.getValue = this.iterateDynamicProperties;\r\n\tthis.w = PropertyFactory.getProp(elem,data.w,0,null,this);\r\n\tthis.d = new DashProperty(elem,data.d||{},'svg',this);\r\n    this.initGradientData(elem, data, styleOb);\r\n    this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\nfunction ShapeGroupData() {\r\n\tthis.it = [];\r\n    this.prevViewData = [];\r\n    this.gr = createNS('g');\r\n}\r\nvar SVGElementsRenderer = (function() {\r\n\tvar _identityMatrix = new Matrix();\r\n\tvar _matrixHelper = new Matrix();\r\n\r\n\tvar ob = {\r\n\t\tcreateRenderFunction: createRenderFunction\r\n\t}\r\n\r\n\tfunction createRenderFunction(data) {\r\n\t    var ty = data.ty;\r\n\t    switch(data.ty) {\r\n\t        case 'fl':\r\n\t        return renderFill;\r\n\t        case 'gf':\r\n\t        return renderGradient;\r\n\t        case 'gs':\r\n\t        return renderGradientStroke;\r\n\t        case 'st':\r\n\t        return renderStroke;\r\n\t        case 'sh':\r\n\t        case 'el':\r\n\t        case 'rc':\r\n\t        case 'sr':\r\n\t        return renderPath;\r\n\t        case 'tr':\r\n\t        return renderContentTransform;\r\n\t    }\r\n\t}\r\n\r\n\tfunction renderContentTransform(styleData, itemData, isFirstFrame) {\r\n\t    if(isFirstFrame || itemData.transform.op._mdf){\r\n\t        itemData.transform.container.setAttribute('opacity',itemData.transform.op.v);\r\n\t    }\r\n\t    if(isFirstFrame || itemData.transform.mProps._mdf){\r\n\t        itemData.transform.container.setAttribute('transform',itemData.transform.mProps.v.to2dCSS());\r\n\t    }\r\n\t}\r\n\r\n\tfunction renderPath(styleData, itemData, isFirstFrame) {\r\n\t    var j, jLen,pathStringTransformed,redraw,pathNodes,l, lLen = itemData.styles.length;\r\n\t    var lvl = itemData.lvl;\r\n\t    var paths, mat, props, iterations, k;\r\n\t    for(l=0;l<lLen;l+=1){\r\n\t        redraw = itemData.sh._mdf || isFirstFrame;\r\n\t        if(itemData.styles[l].lvl < lvl){\r\n\t            mat = _matrixHelper.reset();\r\n\t            iterations = lvl - itemData.styles[l].lvl;\r\n\t            k = itemData.transformers.length-1;\r\n\t            while(!redraw && iterations > 0) {\r\n\t                redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n\t                iterations --;\r\n\t                k --;\r\n\t            }\r\n\t            if(redraw) {\r\n\t                iterations = lvl - itemData.styles[l].lvl;\r\n\t                k = itemData.transformers.length-1;\r\n\t                while(iterations > 0) {\r\n\t                    props = itemData.transformers[k].mProps.v.props;\r\n\t                    mat.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n\t                    iterations --;\r\n\t                    k --;\r\n\t                }\r\n\t            }\r\n\t        } else {\r\n\t            mat = _identityMatrix;\r\n\t        }\r\n\t        paths = itemData.sh.paths;\r\n\t        jLen = paths._length;\r\n\t        if(redraw){\r\n\t            pathStringTransformed = '';\r\n\t            for(j=0;j<jLen;j+=1){\r\n\t                pathNodes = paths.shapes[j];\r\n\t                if(pathNodes && pathNodes._length){\r\n\t                    pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n\t                }\r\n\t            }\r\n\t            itemData.caches[l] = pathStringTransformed;\r\n\t        } else {\r\n\t            pathStringTransformed = itemData.caches[l];\r\n\t        }\r\n\t        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n\t        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n\t    }\r\n\t}\r\n\r\n\tfunction renderFill (styleData,itemData, isFirstFrame){\r\n\t    var styleElem = itemData.style;\r\n\r\n\t    if(itemData.c._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('fill','rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')');\r\n\t    }\r\n\t    if(itemData.o._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('fill-opacity',itemData.o.v);\r\n\t    }\r\n\t};\r\n\r\n\tfunction renderGradientStroke (styleData, itemData, isFirstFrame) {\r\n\t    renderGradient(styleData, itemData, isFirstFrame);\r\n\t    renderStroke(styleData, itemData, isFirstFrame);\r\n\t}\r\n\r\n\tfunction renderGradient(styleData, itemData, isFirstFrame) {\r\n\t    var gfill = itemData.gf;\r\n\t    var hasOpacity = itemData.g._hasOpacity;\r\n\t    var pt1 = itemData.s.v, pt2 = itemData.e.v;\r\n\r\n\t    if (itemData.o._mdf || isFirstFrame) {\r\n\t        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n\t        itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n\t    }\r\n\t    if (itemData.s._mdf || isFirstFrame) {\r\n\t        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n\t        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n\t        gfill.setAttribute(attr1, pt1[0]);\r\n\t        gfill.setAttribute(attr2, pt1[1]);\r\n\t        if (hasOpacity && !itemData.g._collapsable) {\r\n\t            itemData.of.setAttribute(attr1, pt1[0]);\r\n\t            itemData.of.setAttribute(attr2, pt1[1]);\r\n\t        }\r\n\t    }\r\n\t    var stops, i, len, stop;\r\n\t    if (itemData.g._cmdf || isFirstFrame) {\r\n\t        stops = itemData.cst;\r\n\t        var cValues = itemData.g.c;\r\n\t        len = stops.length;\r\n\t        for (i = 0; i < len; i += 1){\r\n\t            stop = stops[i];\r\n\t            stop.setAttribute('offset', cValues[i * 4] + '%');\r\n\t            stop.setAttribute('stop-color','rgb('+ cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ','+cValues[i * 4 + 3] + ')');\r\n\t        }\r\n\t    }\r\n\t    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n\t        var oValues = itemData.g.o;\r\n\t        if(itemData.g._collapsable) {\r\n\t            stops = itemData.cst;\r\n\t        } else {\r\n\t            stops = itemData.ost;\r\n\t        }\r\n\t        len = stops.length;\r\n\t        for (i = 0; i < len; i += 1) {\r\n\t            stop = stops[i];\r\n\t            if(!itemData.g._collapsable) {\r\n\t                stop.setAttribute('offset', oValues[i * 2] + '%');\r\n\t            }\r\n\t            stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n\t        }\r\n\t    }\r\n\t    if (styleData.t === 1) {\r\n\t        if (itemData.e._mdf  || isFirstFrame) {\r\n\t            gfill.setAttribute('x2', pt2[0]);\r\n\t            gfill.setAttribute('y2', pt2[1]);\r\n\t            if (hasOpacity && !itemData.g._collapsable) {\r\n\t                itemData.of.setAttribute('x2', pt2[0]);\r\n\t                itemData.of.setAttribute('y2', pt2[1]);\r\n\t            }\r\n\t        }\r\n\t    } else {\r\n\t        var rad;\r\n\t        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n\t            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n\t            gfill.setAttribute('r', rad);\r\n\t            if(hasOpacity && !itemData.g._collapsable){\r\n\t                itemData.of.setAttribute('r', rad);\r\n\t            }\r\n\t        }\r\n\t        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n\t            if (!rad) {\r\n\t                rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n\t            }\r\n\t            var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n\t            var percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99: itemData.h.v;\r\n\t            var dist = rad * percent;\r\n\t            var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n\t            var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n\t            gfill.setAttribute('fx', x);\r\n\t            gfill.setAttribute('fy', y);\r\n\t            if (hasOpacity && !itemData.g._collapsable) {\r\n\t                itemData.of.setAttribute('fx', x);\r\n\t                itemData.of.setAttribute('fy', y);\r\n\t            }\r\n\t        }\r\n\t        //gfill.setAttribute('fy','200');\r\n\t    }\r\n\t};\r\n\r\n\tfunction renderStroke(styleData, itemData, isFirstFrame) {\r\n\t    var styleElem = itemData.style;\r\n\t    var d = itemData.d;\r\n\t    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n\t        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n\t        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n\t    }\r\n\t    if(itemData.c && (itemData.c._mdf || isFirstFrame)){\r\n\t        styleElem.pElem.setAttribute('stroke','rgb(' + bm_floor(itemData.c.v[0]) + ',' + bm_floor(itemData.c.v[1]) + ',' + bm_floor(itemData.c.v[2]) + ')');\r\n\t    }\r\n\t    if(itemData.o._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n\t    }\r\n\t    if(itemData.w._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n\t        if(styleElem.msElem){\r\n\t            styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n\t        }\r\n\t    }\r\n\t};\r\n\r\n\treturn ob;\r\n}())\r\nfunction ShapeTransformManager() {\r\n\tthis.sequences = {};\r\n\tthis.sequenceList = [];\r\n    this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n\taddTransformSequence: function(transforms) {\r\n\t\tvar i, len = transforms.length;\r\n\t\tvar key = '_';\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tkey += transforms[i].transform.key + '_';\r\n\t\t}\r\n\t\tvar sequence = this.sequences[key];\r\n\t\tif(!sequence) {\r\n\t\t\tsequence = {\r\n\t\t\t\ttransforms: [].concat(transforms),\r\n\t\t\t\tfinalTransform: new Matrix(),\r\n\t\t\t\t_mdf: false\r\n\t\t\t};\r\n\t\t\tthis.sequences[key] = sequence;\r\n\t\t\tthis.sequenceList.push(sequence);\r\n\t\t}\r\n\t\treturn sequence;\r\n\t},\r\n\tprocessSequence: function(sequence, isFirstFrame) {\r\n\t\tvar i = 0, len = sequence.transforms.length, _mdf = isFirstFrame;\r\n\t\twhile (i < len && !isFirstFrame) {\r\n\t\t\tif (sequence.transforms[i].transform.mProps._mdf) {\r\n\t\t\t\t_mdf = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ti += 1\r\n\t\t}\r\n\t\tif (_mdf) {\r\n\t\t\tvar props;\r\n\t\t\tsequence.finalTransform.reset();\r\n\t\t\tfor (i = len - 1; i >= 0; i -= 1) {\r\n\t\t        props = sequence.transforms[i].transform.mProps.v.props;\r\n\t\t        sequence.finalTransform.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsequence._mdf = _mdf;\r\n\t\t\r\n\t},\r\n\tprocessSequences: function(isFirstFrame) {\r\n\t\tvar i, len = this.sequenceList.length;\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tthis.processSequence(this.sequenceList[i], isFirstFrame);\r\n\t\t}\r\n\r\n\t},\r\n\tgetNewKey: function() {\r\n\t\treturn '_' + this.transform_key_count++;\r\n\t}\r\n}\r\nfunction CVShapeData(element, data, styles, transformsManager) {\r\n    this.styledShapes = [];\r\n    this.tr = [0,0,0,0,0,0];\r\n    var ty = 4;\r\n    if(data.ty == 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty == 'el'){\r\n        ty = 6;\r\n    }else if(data.ty == 'sr'){\r\n        ty = 7;\r\n    }\r\n    this.sh = ShapePropertyFactory.getShapeProp(element,data,ty,element);\r\n    var i , len = styles.length,styledShape;\r\n    for (i = 0; i < len; i += 1) {\r\n        if (!styles[i].closed) {\r\n            styledShape = {\r\n                transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n                trNodes: []\r\n            }\r\n            this.styledShapes.push(styledShape);\r\n            styles[i].elements.push(styledShape);\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\nfunction BaseElement(){\r\n}\r\n\r\nBaseElement.prototype = {\r\n    checkMasks: function(){\r\n        if(!this.data.hasMask){\r\n            return false;\r\n        }\r\n        var i = 0, len = this.data.masksProperties.length;\r\n        while(i<len) {\r\n            if((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n                return true;\r\n            }\r\n            i += 1;\r\n        }\r\n        return false;\r\n    },\r\n    initExpressions: function(){\r\n        this.layerInterface = LayerExpressionInterface(this);\r\n        if(this.data.hasMask && this.maskManager) {\r\n            this.layerInterface.registerMaskInterface(this.maskManager);\r\n        }\r\n        var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);\r\n        this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n        if(this.data.ty === 0 || this.data.xt){\r\n            this.compInterface = CompExpressionInterface(this);\r\n        } else if(this.data.ty === 4){\r\n            this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface);\r\n            this.layerInterface.content = this.layerInterface.shapeInterface;\r\n        } else if(this.data.ty === 5){\r\n            this.layerInterface.textInterface = TextExpressionInterface(this);\r\n            this.layerInterface.text = this.layerInterface.textInterface;\r\n        }\r\n    },\r\n    setBlendMode: function(){\r\n        var blendModeValue = getBlendMode(this.data.bm);\r\n        var elem = this.baseElement || this.layerElement;\r\n\r\n        elem.style['mix-blend-mode'] = blendModeValue;\r\n    },\r\n    initBaseData: function(data, globalData, comp){\r\n        this.globalData = globalData;\r\n        this.comp = comp;\r\n        this.data = data;\r\n        this.layerId = createElementID();\r\n        \r\n        //Stretch factor for old animations missing this property.\r\n        if(!this.data.sr){\r\n            this.data.sr = 1;\r\n        }\r\n        // effects manager\r\n        this.effectsManager = new EffectsManager(this.data,this,this.dynamicProperties);\r\n        \r\n    },\r\n    getType: function(){\r\n        return this.type;\r\n    }\r\n    ,sourceRectAtTime: function(){}\r\n}\r\nfunction NullElement(data,globalData,comp){\r\n    this.initFrame();\r\n\tthis.initBaseData(data, globalData, comp);\r\n    this.initFrame();\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function(num) {\r\n    this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function() {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function() {\r\n\treturn null;\r\n};\r\n\r\nNullElement.prototype.destroy = function() {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function() {\r\n};\r\n\r\nNullElement.prototype.hide = function() {\r\n};\r\n\r\nextendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement], NullElement);\r\n\r\nfunction SVGBaseElement(){\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n    initRendererElement: function() {\r\n        this.layerElement = createNS('g');\r\n    },\r\n    createContainerElements: function(){\r\n        this.matteElement = createNS('g');\r\n        this.transformedElement = this.layerElement;\r\n        this.maskedElement = this.layerElement;\r\n        this._sizeChanged = false;\r\n        var layerElementParent = null;\r\n        //If this layer acts as a mask for the following layer\r\n        var filId, fil, gg;\r\n        if (this.data.td) {\r\n            if (this.data.td == 3 || this.data.td == 1) {\r\n                var masker = createNS('mask');\r\n                masker.setAttribute('id', this.layerId);\r\n                masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha');\r\n                masker.appendChild(this.layerElement);\r\n                layerElementParent = masker;\r\n                this.globalData.defs.appendChild(masker);\r\n                // This is only for IE and Edge when mask if of type alpha\r\n                if (!featureSupport.maskType && this.data.td == 1) {\r\n                    masker.setAttribute('mask-type', 'luminance');\r\n                    filId = createElementID();\r\n                    fil = filtersFactory.createFilter(filId);\r\n                    this.globalData.defs.appendChild(fil);\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    masker.appendChild(gg);\r\n                    gg.setAttribute('filter','url(' + locationHref + '#' + filId + ')');\r\n                }\r\n            } else if(this.data.td == 2) {\r\n                var maskGroup = createNS('mask');\r\n                maskGroup.setAttribute('id', this.layerId);\r\n                maskGroup.setAttribute('mask-type','alpha');\r\n                var maskGrouper = createNS('g');\r\n                maskGroup.appendChild(maskGrouper);\r\n                filId = createElementID();\r\n                fil = filtersFactory.createFilter(filId);\r\n                ////\r\n\r\n                // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n                /*var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix);*/\r\n                ////\r\n                var feCTr = createNS('feComponentTransfer');\r\n                feCTr.setAttribute('in','SourceGraphic');\r\n                fil.appendChild(feCTr);\r\n                var feFunc = createNS('feFuncA');\r\n                feFunc.setAttribute('type','table');\r\n                feFunc.setAttribute('tableValues','1.0 0.0');\r\n                feCTr.appendChild(feFunc);\r\n                ////\r\n                this.globalData.defs.appendChild(fil);\r\n                var alphaRect = createNS('rect');\r\n                alphaRect.setAttribute('width',  this.comp.data.w);\r\n                alphaRect.setAttribute('height', this.comp.data.h);\r\n                alphaRect.setAttribute('x','0');\r\n                alphaRect.setAttribute('y','0');\r\n                alphaRect.setAttribute('fill','#ffffff');\r\n                alphaRect.setAttribute('opacity','0');\r\n                maskGrouper.setAttribute('filter', 'url(' + locationHref + '#'+filId+')');\r\n                maskGrouper.appendChild(alphaRect);\r\n                maskGrouper.appendChild(this.layerElement);\r\n                layerElementParent = maskGrouper;\r\n                if (!featureSupport.maskType) {\r\n                    maskGroup.setAttribute('mask-type', 'luminance');\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    maskGrouper.appendChild(alphaRect);\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    maskGrouper.appendChild(gg);\r\n                }\r\n                this.globalData.defs.appendChild(maskGroup);\r\n            }\r\n        } else if (this.data.tt) {\r\n            this.matteElement.appendChild(this.layerElement);\r\n            layerElementParent = this.matteElement;\r\n            this.baseElement = this.matteElement;\r\n        } else {\r\n            this.baseElement = this.layerElement;\r\n        }\r\n        if (this.data.ln) {\r\n            this.layerElement.setAttribute('id', this.data.ln);\r\n        }\r\n        if (this.data.cl) {\r\n            this.layerElement.setAttribute('class', this.data.cl);\r\n        }\r\n        //Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n        if (this.data.ty === 0 && !this.data.hd) {\r\n            var cp = createNS( 'clipPath');\r\n            var pt = createNS('path');\r\n            pt.setAttribute('d','M0,0 L' + this.data.w + ',0' + ' L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n            var clipId = createElementID();\r\n            cp.setAttribute('id',clipId);\r\n            cp.appendChild(pt);\r\n            this.globalData.defs.appendChild(cp);\r\n\r\n            if (this.checkMasks()) {\r\n                var cpGroup = createNS('g');\r\n                cpGroup.setAttribute('clip-path','url(' + locationHref + '#'+clipId + ')');\r\n                cpGroup.appendChild(this.layerElement);\r\n                this.transformedElement = cpGroup;\r\n                if (layerElementParent) {\r\n                    layerElementParent.appendChild(this.transformedElement);\r\n                } else {\r\n                    this.baseElement = this.transformedElement;\r\n                }\r\n            } else {\r\n                this.layerElement.setAttribute('clip-path','url(' + locationHref + '#'+clipId+')');\r\n            }\r\n            \r\n        }\r\n        if (this.data.bm !== 0) {\r\n            this.setBlendMode();\r\n        }\r\n\r\n    },\r\n    renderElement: function() {\r\n        if (this.finalTransform._matMdf) {\r\n            this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n        }\r\n        if (this.finalTransform._opMdf) {\r\n            this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n        }\r\n    },\r\n    destroyBaseElement: function() {\r\n        this.layerElement = null;\r\n        this.matteElement = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    getBaseElement: function() {\r\n        if (this.data.hd) {\r\n            return null;\r\n        }\r\n        return this.baseElement;\r\n    },\r\n    createRenderableComponents: function() {\r\n        this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n        this.renderableEffectsManager = new SVGEffects(this);\r\n    },\r\n    setMatte: function(id) {\r\n        if (!this.matteElement) {\r\n            return;\r\n        }\r\n        this.matteElement.setAttribute(\"mask\", \"url(\" + locationHref + \"#\" + id + \")\");\r\n    }\r\n};\r\nfunction IShapeElement(){\r\n}\r\n\r\nIShapeElement.prototype = {\r\n    addShapeToModifiers: function(data) {\r\n        var i, len = this.shapeModifiers.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapeModifiers[i].addShape(data);\r\n        }\r\n    },\r\n    isShapeInAnimatedModifiers: function(data) {\r\n        var i = 0, len = this.shapeModifiers.length;\r\n        while(i < len) {\r\n            if(this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n    renderModifiers: function() {\r\n        if(!this.shapeModifiers.length){\r\n            return;\r\n        }\r\n        var i, len = this.shapes.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapes[i].sh.reset();\r\n        }\r\n\r\n        len = this.shapeModifiers.length;\r\n        for(i=len-1;i>=0;i-=1){\r\n            this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n        }\r\n    },\r\n    lcEnum: {\r\n        '1': 'butt',\r\n        '2': 'round',\r\n        '3': 'square'\r\n    },\r\n    ljEnum: {\r\n        '1': 'miter',\r\n        '2': 'round',\r\n        '3': 'bevel'\r\n    },\r\n    searchProcessedElement: function(elem){\r\n        var elements = this.processedElements;\r\n        var i = 0, len = elements.length;\r\n        while (i < len) {\r\n            if (elements[i].elem === elem) {\r\n                return elements[i].pos;\r\n            }\r\n            i += 1;\r\n        }\r\n        return 0;\r\n    },\r\n    addProcessedElement: function(elem, pos){\r\n        var elements = this.processedElements;\r\n        var i = elements.length;\r\n        while(i) {\r\n            i -= 1;\r\n            if (elements[i].elem === elem) {\r\n                elements[i].pos = pos;\r\n                return;\r\n            }\r\n        }\r\n        elements.push(new ProcessedElement(elem, pos));\r\n    },\r\n    prepareFrame: function(num) {\r\n        this.prepareRenderableFrame(num);\r\n        this.prepareProperties(num, this.isInRange);\r\n    }\r\n};\r\nfunction ITextElement(){\r\n}\r\n\r\nITextElement.prototype.initElement = function(data,globalData,comp){\r\n    this.lettersChangedFlag = true;\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n    this.initRenderable();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    this.createContent();\r\n    this.hide();\r\n    this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function(num) {\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n        this.buildNewText();\r\n        this.textProperty._isFirstFrame = false;\r\n        this.textProperty._mdf = false;\r\n    }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function(matrixHelper, shapes) {\r\n    var j,jLen = shapes.length;\r\n    var k, kLen, pathNodes;\r\n    var shapeStr = '';\r\n    for(j=0;j<jLen;j+=1){\r\n        pathNodes = shapes[j].ks.k;\r\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n    }\r\n    return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function(newData, index) {\r\n    this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function(_canResize) {\r\n    this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function(_fontSize) {\r\n    this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function(documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n    if(documentData.ps){\r\n        matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n    }\r\n    matrixHelper.translate(0,-documentData.ls,0);\r\n    switch(documentData.j){\r\n        case 1:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]),0,0);\r\n            break;\r\n        case 2:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber] )/2,0,0);\r\n            break;\r\n    }\r\n    matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\n\r\nITextElement.prototype.buildColor = function(colorData) {\r\n    return 'rgb(' + Math.round(colorData[0]*255) + ',' + Math.round(colorData[1]*255) + ',' + Math.round(colorData[2]*255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function(){\r\n    \r\n};\r\nfunction ICompElement(){}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function(data,globalData,comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initRenderable();\r\n    this.initHierarchy();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    if(this.data.xt || !globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n    this.hide();\r\n};\r\n\r\n/*ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n};*/\r\n\r\nICompElement.prototype.prepareFrame = function(num){\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(!this.isInRange && !this.data.xt){\r\n        return;\r\n    }\r\n\r\n    if (!this.tm._placeholder) {\r\n        var timeRemapped = this.tm.v;\r\n        if(timeRemapped === this.data.op){\r\n            timeRemapped = this.data.op - 1;\r\n        }\r\n        this.renderedFrame = timeRemapped;\r\n    } else {\r\n        this.renderedFrame = num/this.data.sr;\r\n    }\r\n    var i,len = this.elements.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(this.renderedFrame);\r\n    }\r\n    //This iteration needs to be backwards because of how expressions connect between each other\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n            if(this.elements[i]._mdf) {\r\n                this._mdf = true;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function() {\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i += 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.setElements = function(elems){\r\n    this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function(){\r\n    return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i+=1 ){\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.destroy = function(){\r\n    this.destroyElements();\r\n    this.destroyBaseElement();\r\n};\r\n\r\nfunction IImageElement(data,globalData,comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data,globalData,comp);\r\n    this.sourceRect = {top:0,left:0,width:this.assetData.w,height:this.assetData.h};\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function(){\r\n\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n    this.innerElem = createNS('image');\r\n    this.innerElem.setAttribute('width',this.assetData.w+\"px\");\r\n    this.innerElem.setAttribute('height',this.assetData.h+\"px\");\r\n    this.innerElem.setAttribute('preserveAspectRatio',this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);\r\n    \r\n    this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function() {\r\n\treturn this.sourceRect;\r\n}\r\nfunction ISolidElement(data,globalData,comp){\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function(){\r\n\r\n    var rect = createNS('rect');\r\n    ////rect.style.width = this.data.sw;\r\n    ////rect.style.height = this.data.sh;\r\n    ////rect.style.fill = this.data.sc;\r\n    rect.setAttribute('width',this.data.sw);\r\n    rect.setAttribute('height',this.data.sh);\r\n    rect.setAttribute('fill',this.data.sc);\r\n    this.layerElement.appendChild(rect);\r\n};\r\nfunction AudioElement(data,globalData,comp){\r\n    this.initFrame();\r\n    this.initRenderable();\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n\tthis.initBaseData(data, globalData, comp);\r\n\tthis._isPlaying = false;\r\n\tthis._canPlay = false;\r\n\tvar assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    this.audio = this.globalData.audioController.createAudio(assetPath);\r\n    this._currentTime = 0;\r\n    this.globalData.audioController.addAudio(this);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate,this) : {_placeholder:true};\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function(num) {\r\n    this.prepareRenderableFrame(num, true);\r\n    this.prepareProperties(num, true);\r\n    if (!this.tm._placeholder) {\r\n        var timeRemapped = this.tm.v;\r\n        this._currentTime = timeRemapped;\r\n    } else {\r\n        this._currentTime = num / this.data.sr;\r\n    }\r\n};\r\n\r\nextendPrototype([RenderableElement,BaseElement,FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function() {\r\n\tif (this.isInRange && this._canPlay) {\r\n\t\tif (!this._isPlaying) {\r\n\t\t\tthis.audio.play();\r\n\t\t\tthis.audio.seek(this._currentTime / this.globalData.frameRate);\r\n\t\t\tthis._isPlaying = true;\r\n\t\t} else if (!this.audio.playing()\r\n\t\t\t|| Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n\t\t) {\r\n\t\t\tthis.audio.seek(this._currentTime / this.globalData.frameRate)\r\n\t\t}\r\n\t}\r\n};\r\n\r\nAudioElement.prototype.show = function() {\r\n\t// this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function() {\r\n\tthis.audio.pause();\r\n\tthis._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function() {\r\n\tthis.audio.pause();\r\n\tthis._isPlaying = false;\r\n\tthis._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function() {\r\n\tthis._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function(rateValue) {\r\n\tthis.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function(volumeValue) {\r\n\tthis.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function() {\r\n\treturn null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function() {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function() {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function() {\r\n};\r\n\r\n\r\nfunction SVGCompElement(data,globalData,comp){\r\n    this.layers = data.layers;\r\n    this.supports3d = true;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    //this.layerElement = createNS('g');\r\n    this.initElement(data,globalData,comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\nfunction SVGTextElement(data,globalData,comp){\r\n    this.textSpans = [];\r\n    this.renderType = 'svg';\r\n    this.initElement(data,globalData,comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement], SVGTextElement);\r\n\r\nSVGTextElement.prototype.createContent = function(){\r\n\r\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n        this.textContainer = createNS('text');\r\n    }\r\n};\r\n\r\nSVGTextElement.prototype.buildTextContents = function(textArray) {\r\n    var i = 0, len = textArray.length;\r\n    var textContents = [], currentTextContent = '';\r\n    while (i < len) {\r\n        if(textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n            textContents.push(currentTextContent);\r\n            currentTextContent = '';\r\n        } else {\r\n            currentTextContent += textArray[i];\r\n        }\r\n        i += 1;\r\n    }\r\n    textContents.push(currentTextContent);\r\n    return textContents;\r\n}\r\n\r\nSVGTextElement.prototype.buildNewText = function(){\r\n    var i, len;\r\n\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n    if(documentData.fc) {\r\n        this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n    }else{\r\n        this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n    }\r\n    if(documentData.sc){\r\n        this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n        this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n    }\r\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    if(fontData.fClass){\r\n        this.layerElement.setAttribute('class',fontData.fClass);\r\n    } else {\r\n        this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n        var fWeight = documentData.fWeight, fStyle = documentData.fStyle;\r\n        this.layerElement.setAttribute('font-style', fStyle);\r\n        this.layerElement.setAttribute('font-weight', fWeight);\r\n    }\r\n    this.layerElement.setAttribute('aria-label', documentData.t);\r\n\r\n    var letters = documentData.l || [];\r\n    var usesGlyphs = !!this.globalData.fontManager.chars;\r\n    len = letters.length;\r\n\r\n    var tSpan;\r\n    var matrixHelper = this.mHelper;\r\n    var shapes, shapeStr = '', singleShape = this.data.singleShape;\r\n    var xPos = 0, yPos = 0, firstLine = true;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    if(singleShape && !usesGlyphs && !documentData.sz) {\r\n        var tElement = this.textContainer;\r\n        var justify = 'start';\r\n        switch(documentData.j) {\r\n            case 1:\r\n                justify = 'end';\r\n                break;\r\n            case 2:\r\n                justify = 'middle';\r\n                break;\r\n        }\r\n        tElement.setAttribute('text-anchor',justify);\r\n        tElement.setAttribute('letter-spacing',trackingOffset);\r\n        var textContent = this.buildTextContents(documentData.finalText);\r\n        len = textContent.length;\r\n        yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n        for ( i = 0; i < len; i += 1) {\r\n            tSpan = this.textSpans[i] || createNS('tspan');\r\n            tSpan.textContent = textContent[i];\r\n            tSpan.setAttribute('x', 0);\r\n            tSpan.setAttribute('y', yPos);\r\n            tSpan.style.display = 'inherit';\r\n            tElement.appendChild(tSpan);\r\n            this.textSpans[i] = tSpan;\r\n            yPos += documentData.finalLineHeight;\r\n        }\r\n        \r\n        this.layerElement.appendChild(tElement);\r\n    } else {\r\n        var cachedSpansLength = this.textSpans.length;\r\n        var shapeData, charData;\r\n        for (i = 0; i < len; i += 1) {\r\n            if(!usesGlyphs || !singleShape || i === 0){\r\n                tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs?'path':'text');\r\n                if (cachedSpansLength <= i) {\r\n                    tSpan.setAttribute('stroke-linecap', 'butt');\r\n                    tSpan.setAttribute('stroke-linejoin','round');\r\n                    tSpan.setAttribute('stroke-miterlimit','4');\r\n                    this.textSpans[i] = tSpan;\r\n                    this.layerElement.appendChild(tSpan);\r\n                }\r\n                tSpan.style.display = 'inherit';\r\n            }\r\n            \r\n            matrixHelper.reset();\r\n            matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n            if (singleShape) {\r\n                if(letters[i].n) {\r\n                    xPos = -trackingOffset;\r\n                    yPos += documentData.yOffset;\r\n                    yPos += firstLine ? 1 : 0;\r\n                    firstLine = false;\r\n                }\r\n                this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n                xPos += letters[i].l || 0;\r\n                //xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n                xPos += trackingOffset;\r\n            }\r\n            if(usesGlyphs) {\r\n                charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n                shapeData = charData && charData.data || {};\r\n                shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n                if(!singleShape){\r\n                    tSpan.setAttribute('d',this.createPathShape(matrixHelper,shapes));\r\n                } else {\r\n                    shapeStr += this.createPathShape(matrixHelper,shapes);\r\n                }\r\n            } else {\r\n                if(singleShape) {\r\n                    tSpan.setAttribute(\"transform\", \"translate(\" + matrixHelper.props[12] + \",\" + matrixHelper.props[13] + \")\");\r\n                }\r\n                tSpan.textContent = letters[i].val;\r\n                tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\",\"preserve\");\r\n            }\r\n            //\r\n        }\r\n        if (singleShape && tSpan) {\r\n            tSpan.setAttribute('d',shapeStr);\r\n        }\r\n    }\r\n    while (i < this.textSpans.length){\r\n        this.textSpans[i].style.display = 'none';\r\n        i += 1;\r\n    }\r\n    \r\n    this._sizeChanged = true;\r\n};\r\n\r\nSVGTextElement.prototype.sourceRectAtTime = function(time){\r\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n    this.renderInnerContent();\r\n    if(this._sizeChanged){\r\n        this._sizeChanged = false;\r\n        var textBox = this.layerElement.getBBox();\r\n        this.bbox = {\r\n            top: textBox.y,\r\n            left: textBox.x,\r\n            width: textBox.width,\r\n            height: textBox.height\r\n        };\r\n    }\r\n    return this.bbox;\r\n};\r\n\r\nSVGTextElement.prototype.renderInnerContent = function(){\r\n\r\n    if(!this.data.singleShape){\r\n        this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n        if(this.lettersChangedFlag || this.textAnimator.lettersChangedFlag){\r\n            this._sizeChanged = true;\r\n            var  i,len;\r\n            var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n            var letters = this.textProperty.currentData.l;\r\n\r\n            len = letters.length;\r\n            var renderedLetter, textSpan;\r\n            for(i=0;i<len;i+=1){\r\n                if(letters[i].n){\r\n                    continue;\r\n                }\r\n                renderedLetter = renderedLetters[i];\r\n                textSpan = this.textSpans[i];\r\n                if(renderedLetter._mdf.m) {\r\n                    textSpan.setAttribute('transform',renderedLetter.m);\r\n                }\r\n                if(renderedLetter._mdf.o) {\r\n                    textSpan.setAttribute('opacity',renderedLetter.o);\r\n                }\r\n                if(renderedLetter._mdf.sw){\r\n                    textSpan.setAttribute('stroke-width',renderedLetter.sw);\r\n                }\r\n                if(renderedLetter._mdf.sc){\r\n                    textSpan.setAttribute('stroke',renderedLetter.sc);\r\n                }\r\n                if(renderedLetter._mdf.fc){\r\n                    textSpan.setAttribute('fill',renderedLetter.fc);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nfunction SVGShapeElement(data,globalData,comp){\r\n    //List of drawable elements\r\n    this.shapes = [];\r\n    // Full shape data\r\n    this.shapesData = data.shapes;\r\n    //List of styles that will be applied to shapes\r\n    this.stylesList = [];\r\n    //List of modifiers that will be applied to shapes\r\n    this.shapeModifiers = [];\r\n    //List of items in shape tree\r\n    this.itemsData = [];\r\n    //List of items in previous shape tree\r\n    this.processedElements = [];\r\n    // List of animated components\r\n    this.animatedContents = [];\r\n    this.initElement(data,globalData,comp);\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n    this.prevViewData = [];\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function() {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function(){};\r\n\r\nSVGShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function(){\r\n    var i, len = this.shapes.length, shape;\r\n    var j, jLen = this.stylesList.length;\r\n    var style, count = 0;\r\n    var tempShapes = [];\r\n    var areAnimated = false;\r\n    for(j = 0; j < jLen; j += 1) {\r\n        style = this.stylesList[j];\r\n        areAnimated = false;\r\n        tempShapes.length = 0;\r\n        for(i = 0; i < len; i += 1) {\r\n            shape = this.shapes[i];\r\n            if(shape.styles.indexOf(style) !== -1) {\r\n                tempShapes.push(shape);\r\n                areAnimated = shape._isAnimated || areAnimated;\r\n            }\r\n        }\r\n        if(tempShapes.length > 1 && areAnimated) {\r\n            this.setShapesAsAnimated(tempShapes);\r\n        }\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function(shapes){\r\n    var i, len = shapes.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        shapes[i].setAsAnimated();\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.createStyleElement = function(data, level){\r\n    //TODO: prevent drawing of hidden styles\r\n    var elementData;\r\n    var styleOb = new SVGStyleData(data, level);\r\n\r\n    var pathElement = styleOb.pElem;\r\n    if(data.ty === 'st') {\r\n        elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n    } else if(data.ty === 'fl') {\r\n        elementData = new SVGFillStyleData(this, data, styleOb);\r\n    } else if(data.ty === 'gf' || data.ty === 'gs') {\r\n        var gradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n        elementData = new gradientConstructor(this, data, styleOb);\r\n        this.globalData.defs.appendChild(elementData.gf);\r\n        if (elementData.maskId) {\r\n            this.globalData.defs.appendChild(elementData.ms);\r\n            this.globalData.defs.appendChild(elementData.of);\r\n            pathElement.setAttribute('mask','url(' + locationHref + '#' + elementData.maskId + ')');\r\n        }\r\n    }\r\n    \r\n    if(data.ty === 'st' || data.ty === 'gs') {\r\n        pathElement.setAttribute('stroke-linecap', this.lcEnum[data.lc] || 'round');\r\n        pathElement.setAttribute('stroke-linejoin',this.ljEnum[data.lj] || 'round');\r\n        pathElement.setAttribute('fill-opacity','0');\r\n        if(data.lj === 1) {\r\n            pathElement.setAttribute('stroke-miterlimit',data.ml);\r\n        }\r\n    }\r\n\r\n    if(data.r === 2) {\r\n        pathElement.setAttribute('fill-rule', 'evenodd');\r\n    }\r\n\r\n    if(data.ln){\r\n        pathElement.setAttribute('id',data.ln);\r\n    }\r\n    if(data.cl){\r\n        pathElement.setAttribute('class',data.cl);\r\n    }\r\n    if(data.bm){\r\n        pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n    this.stylesList.push(styleOb);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = new ShapeGroupData();\r\n    if(data.ln){\r\n        elementData.gr.setAttribute('id',data.ln);\r\n    }\r\n    if(data.cl){\r\n        elementData.gr.setAttribute('class',data.cl);\r\n    }\r\n    if(data.bm){\r\n        elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function(data, container) {\r\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this,data,this);\r\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function(data, ownTransformers, level) {\r\n    var ty = 4;\r\n    if(data.ty === 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty === 'el'){\r\n        ty = 6;\r\n    }else if(data.ty === 'sr'){\r\n        ty = 7;\r\n    }\r\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this,data,ty,this);\r\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function(data, element) {\r\n    var i = 0, len = this.animatedContents.length;\r\n    while(i < len) {\r\n        if(this.animatedContents[i].element === element) {\r\n            return;\r\n        }\r\n        i += 1;\r\n    }\r\n    this.animatedContents.push({\r\n        fn: SVGElementsRenderer.createRenderFunction(data),\r\n        element: element,\r\n        data: data\r\n    });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function(elementData){\r\n    var arr = elementData.styles;\r\n    var j, jLen = this.stylesList.length;\r\n    for (j = 0; j < jLen; j += 1) {\r\n        if (!this.stylesList[j].closed) {\r\n            arr.push(this.stylesList[j]);\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function(){\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for( i = 0; i < len; i += 1) {\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n    len = this.dynamicProperties.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function(arr,itemsData,prevViewData,container, level, transformers, render){\r\n    var ownTransformers = [].concat(transformers);\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownStyles = [], ownModifiers = [], styleOb, currentTransform, modifier, processedPos;\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._render = render;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st' || arr[i].ty == 'gf' || arr[i].ty == 'gs'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], level);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].style.pElem);\r\n            }\r\n            ownStyles.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,itemsData[i].gr, level + 1, ownTransformers, render);\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].gr);\r\n            }\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createTransformElement(arr[i], container);\r\n            }\r\n            currentTransform = itemsData[i].transform;\r\n            ownTransformers.push(currentTransform);\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n            }\r\n            this.setElementStyles(itemsData[i]);\r\n\r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'ms' || arr[i].ty == 'pb'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i]);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData);\r\n                this.shapeModifiers.push(modifier);\r\n                render = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    len = ownStyles.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownStyles[i].closed = true;\r\n    }\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function() {\r\n    this.renderModifiers();\r\n    var i, len = this.stylesList.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.stylesList[i].reset();\r\n    }\r\n    this.renderShape();\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n        if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n            if(this.stylesList[i].msElem){\r\n                this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n                //Adding M0 0 fixes same mask bug on all browsers\r\n                this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n            }\r\n            this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function() {\r\n    var i, len = this.animatedContents.length;\r\n    var animatedContent;\r\n    for(i = 0; i < len; i += 1) {\r\n        animatedContent = this.animatedContents[i];\r\n        if((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n            animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n        }\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.destroy = function(){\r\n    this.destroyBaseElement();\r\n    this.shapesData = null;\r\n    this.itemsData = null;\r\n};\r\n\r\nfunction SVGTintFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');\r\n    feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f1');\r\n    filter.appendChild(feColorMatrix);\r\n    feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n    feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f2');\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n    if(filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k){\r\n        var feMerge = createNS('feMerge');\r\n        filter.appendChild(feMerge);\r\n        var feMergeNode;\r\n        feMergeNode = createNS('feMergeNode');\r\n        feMergeNode.setAttribute('in','SourceGraphic');\r\n        feMerge.appendChild(feMergeNode);\r\n        feMergeNode = createNS('feMergeNode');\r\n        feMergeNode.setAttribute('in','f2');\r\n        feMerge.appendChild(feMergeNode);\r\n    }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var colorBlack = this.filterManager.effectElements[0].p.v;\r\n        var colorWhite = this.filterManager.effectElements[1].p.v;\r\n        var opacity = this.filterManager.effectElements[2].p.v/100;\r\n        this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n    }\r\n};\r\nfunction SVGFillFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n    feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var color = this.filterManager.effectElements[2].p.v;\r\n        var opacity = this.filterManager.effectElements[6].p.v;\r\n        this.matrixFilter.setAttribute('values','0 0 0 0 '+color[0]+' 0 0 0 0 '+color[1]+' 0 0 0 0 '+color[2]+' 0 0 0 '+opacity+' 0');\r\n    }\r\n};\r\nfunction SVGGaussianBlurEffect(filter, filterManager){\r\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n    filter.setAttribute('x','-100%');\r\n    filter.setAttribute('y','-100%');\r\n    filter.setAttribute('width','300%');\r\n    filter.setAttribute('height','300%');\r\n\r\n    this.filterManager = filterManager;\r\n    var feGaussianBlur = createNS('feGaussianBlur');\r\n    filter.appendChild(feGaussianBlur);\r\n    this.feGaussianBlur = feGaussianBlur;\r\n}\r\n\r\nSVGGaussianBlurEffect.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        // Empirical value, matching AE's blur appearance.\r\n        var kBlurrinessToSigma = 0.3;\r\n        var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\r\n\r\n        // Dimensions mapping:\r\n        //\r\n        //   1 -> horizontal & vertical\r\n        //   2 -> horizontal only\r\n        //   3 -> vertical only\r\n        //\r\n        var dimensions = this.filterManager.effectElements[1].p.v;\r\n        var sigmaX = (dimensions == 3) ? 0 : sigma;\r\n        var sigmaY = (dimensions == 2) ? 0 : sigma;\r\n\r\n        this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + \" \" + sigmaY);\r\n\r\n        // Repeat edges mapping:\r\n        //\r\n        //   0 -> off -> duplicate\r\n        //   1 -> on  -> wrap\r\n        var edgeMode = (this.filterManager.effectElements[2].p.v == 1) ? 'wrap' : 'duplicate';\r\n        this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n    }\r\n}\r\nfunction SVGStrokeEffect(elem, filterManager){\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.elem = elem;\r\n    this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function(){\r\n\r\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n    var path,groupPath, i, len;\r\n    if(this.filterManager.effectElements[1].p.v === 1){\r\n        len = this.elem.maskManager.masksProperties.length;\r\n        i = 0;\r\n    } else {\r\n        i = this.filterManager.effectElements[0].p.v - 1;\r\n        len = i + 1;\r\n    }\r\n    groupPath = createNS('g'); \r\n    groupPath.setAttribute('fill','none');\r\n    groupPath.setAttribute('stroke-linecap','round');\r\n    groupPath.setAttribute('stroke-dashoffset',1);\r\n    for(i;i<len;i+=1){\r\n        path = createNS('path');\r\n        groupPath.appendChild(path);\r\n        this.paths.push({p:path,m:i});\r\n    }\r\n    if(this.filterManager.effectElements[10].p.v === 3){\r\n        var mask = createNS('mask');\r\n        var id = createElementID();\r\n        mask.setAttribute('id',id);\r\n        mask.setAttribute('mask-type','alpha');\r\n        mask.appendChild(groupPath);\r\n        this.elem.globalData.defs.appendChild(mask);\r\n        var g = createNS('g');\r\n        g.setAttribute('mask','url(' + locationHref + '#'+id+')');\r\n        while (elemChildren[0]) {\r\n            g.appendChild(elemChildren[0]);\r\n        }\r\n        this.elem.layerElement.appendChild(g);\r\n        this.masker = mask;\r\n        groupPath.setAttribute('stroke','#fff');\r\n    } else if(this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2){\r\n        if(this.filterManager.effectElements[10].p.v === 2){\r\n            elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n            while(elemChildren.length){\r\n                this.elem.layerElement.removeChild(elemChildren[0]);\r\n            }\r\n        }\r\n        this.elem.layerElement.appendChild(groupPath);\r\n        this.elem.layerElement.removeAttribute('mask');\r\n        groupPath.setAttribute('stroke','#fff');\r\n    }\r\n    this.initialized = true;\r\n    this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function(forceRender){\r\n    if(!this.initialized){\r\n        this.initialize();\r\n    }\r\n    var i, len = this.paths.length;\r\n    var mask, path;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.paths[i].m === -1) {\r\n            continue;\r\n        }\r\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n        path = this.paths[i].p;\r\n        if(forceRender || this.filterManager._mdf || mask.prop._mdf){\r\n            path.setAttribute('d',mask.lastPath);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf){\r\n            var dasharrayValue;\r\n            if(this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100){\r\n                var s = Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100;\r\n                var e = Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100;\r\n                var l = path.getTotalLength();\r\n                dasharrayValue = '0 0 0 ' + l*s + ' ';\r\n                var lineLength = l*(e-s);\r\n                var segment = 1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100;\r\n                var units = Math.floor(lineLength/segment);\r\n                var j;\r\n                for(j=0;j<units;j+=1){\r\n                    dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100 + ' ';\r\n                }\r\n                dasharrayValue += '0 ' + l*10 + ' 0 0';\r\n            } else {\r\n                dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100;\r\n            }\r\n            path.setAttribute('stroke-dasharray',dasharrayValue);\r\n        }\r\n    }\r\n    if(forceRender || this.filterManager.effectElements[4].p._mdf){\r\n        this.pathMasker.setAttribute('stroke-width',this.filterManager.effectElements[4].p.v*2);\r\n    }\r\n    \r\n    if(forceRender || this.filterManager.effectElements[6].p._mdf){\r\n        this.pathMasker.setAttribute('opacity',this.filterManager.effectElements[6].p.v);\r\n    }\r\n    if(this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2){\r\n        if(forceRender || this.filterManager.effectElements[3].p._mdf){\r\n            var color = this.filterManager.effectElements[3].p.v;\r\n            this.pathMasker.setAttribute('stroke','rgb('+bm_floor(color[0]*255)+','+bm_floor(color[1]*255)+','+bm_floor(color[2]*255)+')');\r\n        }\r\n    }\r\n};\r\nfunction SVGTritoneFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');\r\n    feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f1');\r\n    filter.appendChild(feColorMatrix);\r\n    var feComponentTransfer = createNS('feComponentTransfer');\r\n    feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.matrixFilter = feComponentTransfer;\r\n    var feFuncR = createNS('feFuncR');\r\n    feFuncR.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncR);\r\n    this.feFuncR = feFuncR;\r\n    var feFuncG = createNS('feFuncG');\r\n    feFuncG.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncG);\r\n    this.feFuncG = feFuncG;\r\n    var feFuncB = createNS('feFuncB');\r\n    feFuncB.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncB);\r\n    this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var color1 = this.filterManager.effectElements[0].p.v;\r\n        var color2 = this.filterManager.effectElements[1].p.v;\r\n        var color3 = this.filterManager.effectElements[2].p.v;\r\n        var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n        var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n        var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n        this.feFuncR.setAttribute('tableValues', tableR);\r\n        this.feFuncG.setAttribute('tableValues', tableG);\r\n        this.feFuncB.setAttribute('tableValues', tableB);\r\n        //var opacity = this.filterManager.effectElements[2].p.v/100;\r\n        //this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n    }\r\n};\r\nfunction SVGProLevelsFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var effectElements = this.filterManager.effectElements;\r\n    var feComponentTransfer = createNS('feComponentTransfer');\r\n    var feFuncR, feFuncG, feFuncB;\r\n    \r\n    if(effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1){\r\n        this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    }\r\n    if(effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1){\r\n        this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    }\r\n    if(effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1){\r\n        this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    }\r\n    if(effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1){\r\n        this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n    }\r\n    \r\n    if(this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA){\r\n        feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n        filter.appendChild(feComponentTransfer);\r\n        feComponentTransfer = createNS('feComponentTransfer');\r\n    }\r\n\r\n    if(effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1){\r\n\r\n        feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n        filter.appendChild(feComponentTransfer);\r\n        this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n        this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n        this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function(type, feComponentTransfer) {\r\n    var feFunc = createNS(type);\r\n    feFunc.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFunc);\r\n    return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function(inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n    var cnt = 0;\r\n    var segments = 256;\r\n    var perc;\r\n    var min = Math.min(inputBlack, inputWhite);\r\n    var max = Math.max(inputBlack, inputWhite);\r\n    var table = Array.call(null,{length:segments});\r\n    var colorValue;\r\n    var pos = 0;\r\n    var outputDelta = outputWhite - outputBlack; \r\n    var inputDelta = inputWhite - inputBlack; \r\n    while(cnt <= 256) {\r\n        perc = cnt/256;\r\n        if(perc <= min){\r\n            colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n        } else if(perc >= max){\r\n            colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n        } else {\r\n            colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n        }\r\n        table[pos++] = colorValue;\r\n        cnt += 256/(segments-1);\r\n    }\r\n    return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var val, cnt, perc, bezier;\r\n        var effectElements = this.filterManager.effectElements;\r\n        if(this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)){\r\n            val = this.getTableValue(effectElements[3].p.v,effectElements[4].p.v,effectElements[5].p.v,effectElements[6].p.v,effectElements[7].p.v);\r\n            this.feFuncRComposed.setAttribute('tableValues',val);\r\n            this.feFuncGComposed.setAttribute('tableValues',val);\r\n            this.feFuncBComposed.setAttribute('tableValues',val);\r\n        }\r\n\r\n\r\n        if(this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)){\r\n            val = this.getTableValue(effectElements[10].p.v,effectElements[11].p.v,effectElements[12].p.v,effectElements[13].p.v,effectElements[14].p.v);\r\n            this.feFuncR.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)){\r\n            val = this.getTableValue(effectElements[17].p.v,effectElements[18].p.v,effectElements[19].p.v,effectElements[20].p.v,effectElements[21].p.v);\r\n            this.feFuncG.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)){\r\n            val = this.getTableValue(effectElements[24].p.v,effectElements[25].p.v,effectElements[26].p.v,effectElements[27].p.v,effectElements[28].p.v);\r\n            this.feFuncB.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)){\r\n            val = this.getTableValue(effectElements[31].p.v,effectElements[32].p.v,effectElements[33].p.v,effectElements[34].p.v,effectElements[35].p.v);\r\n            this.feFuncA.setAttribute('tableValues',val);\r\n        }\r\n        \r\n    }\r\n};\r\nfunction SVGDropShadowEffect(filter, filterManager) {\r\n    var filterSize = filterManager.container.globalData.renderConfig.filterSize\r\n    filter.setAttribute('x', filterSize.x);\r\n    filter.setAttribute('y', filterSize.y);\r\n    filter.setAttribute('width', filterSize.width);\r\n    filter.setAttribute('height', filterSize.height);\r\n    this.filterManager = filterManager;\r\n\r\n    var feGaussianBlur = createNS('feGaussianBlur');\r\n    feGaussianBlur.setAttribute('in','SourceAlpha');\r\n    feGaussianBlur.setAttribute('result','drop_shadow_1');\r\n    feGaussianBlur.setAttribute('stdDeviation','0');\r\n    this.feGaussianBlur = feGaussianBlur;\r\n    filter.appendChild(feGaussianBlur);\r\n\r\n    var feOffset = createNS('feOffset');\r\n    feOffset.setAttribute('dx','25');\r\n    feOffset.setAttribute('dy','0');\r\n    feOffset.setAttribute('in','drop_shadow_1');\r\n    feOffset.setAttribute('result','drop_shadow_2');\r\n    this.feOffset = feOffset;\r\n    filter.appendChild(feOffset);\r\n    var feFlood = createNS('feFlood');\r\n    feFlood.setAttribute('flood-color','#00ff00');\r\n    feFlood.setAttribute('flood-opacity','1');\r\n    feFlood.setAttribute('result','drop_shadow_3');\r\n    this.feFlood = feFlood;\r\n    filter.appendChild(feFlood);\r\n\r\n    var feComposite = createNS('feComposite');\r\n    feComposite.setAttribute('in','drop_shadow_3');\r\n    feComposite.setAttribute('in2','drop_shadow_2');\r\n    feComposite.setAttribute('operator','in');\r\n    feComposite.setAttribute('result','drop_shadow_4');\r\n    filter.appendChild(feComposite);\r\n\r\n\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in','SourceGraphic');\r\n    this.feMergeNode = feMergeNode;\r\n    this.feMerge = feMerge;\r\n    this.originalNodeAdded = false;\r\n    feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        if(forceRender || this.filterManager.effectElements[4].p._mdf){\r\n            this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[0].p._mdf){\r\n            var col = this.filterManager.effectElements[0].p.v;\r\n            this.feFlood.setAttribute('flood-color',rgbToHex(Math.round(col[0]*255),Math.round(col[1]*255),Math.round(col[2]*255)));\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[1].p._mdf){\r\n            this.feFlood.setAttribute('flood-opacity',this.filterManager.effectElements[1].p.v/255);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf){\r\n            var distance = this.filterManager.effectElements[3].p.v;\r\n            var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n            var x = distance * Math.cos(angle);\r\n            var y = distance * Math.sin(angle);\r\n            this.feOffset.setAttribute('dx', x);\r\n            this.feOffset.setAttribute('dy', y);\r\n        }\r\n        /*if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        }*/\r\n    }\r\n};\r\nvar _svgMatteSymbols = [];\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem){\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.filterElem = filterElem;\r\n    this.elem = elem;\r\n    elem.matteElement = createNS('g');\r\n    elem.matteElement.appendChild(elem.layerElement);\r\n    elem.matteElement.appendChild(elem.transformedElement);\r\n    elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function(mask) {\r\n    var i = 0, len = _svgMatteSymbols.length;\r\n    while(i < len) {\r\n        if(_svgMatteSymbols[i] === mask) {\r\n            return _svgMatteSymbols[i];\r\n        }\r\n        i += 1;\r\n    }\r\n    return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function(mask, symbolId) {\r\n    var parentNode = mask.layerElement.parentNode;\r\n    if(!parentNode) {\r\n        return;\r\n    }\r\n    var children = parentNode.children;\r\n    var i = 0, len = children.length;\r\n    while (i < len) {\r\n        if (children[i] === mask.layerElement) {\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n    var nextChild;\r\n    if (i <= len - 2) {\r\n        nextChild = children[i + 1];\r\n    }\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    if(nextChild) {\r\n        parentNode.insertBefore(useElem, nextChild);\r\n    } else {\r\n        parentNode.appendChild(useElem);\r\n    }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function(elem, mask) {\r\n    if(!this.findSymbol(mask)) {\r\n        var symbolId = createElementID();\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', mask.layerId);\r\n        masker.setAttribute('mask-type', 'alpha');\r\n        _svgMatteSymbols.push(mask);\r\n        var defs = elem.globalData.defs;\r\n        defs.appendChild(masker);\r\n        var symbol = createNS('symbol');\r\n        symbol.setAttribute('id', symbolId);\r\n        this.replaceInParent(mask, symbolId);\r\n        symbol.appendChild(mask.layerElement);\r\n        defs.appendChild(symbol);\r\n        var useElem = createNS('use');\r\n        useElem.setAttribute('href', '#' + symbolId);\r\n        masker.appendChild(useElem);\r\n        mask.data.hd = false;\r\n        mask.show();\r\n    }\r\n    elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function() {\r\n    var ind = this.filterManager.effectElements[0].p.v;\r\n    var elements = this.elem.comp.elements;\r\n    var i = 0, len = elements.length;\r\n    while (i < len) {\r\n    \tif (elements[i] && elements[i].data.ind === ind) {\r\n    \t\tthis.setElementAsMask(this.elem, elements[i]);\r\n    \t}\r\n    \ti += 1;\r\n    }\r\n    this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function() {\r\n\tif(!this.initialized) {\r\n\t\tthis.initialize();\r\n\t}\r\n};\r\nfunction SVGEffects(elem){\r\n    var i, len = elem.data.ef ? elem.data.ef.length : 0;\r\n    var filId = createElementID();\r\n    var fil = filtersFactory.createFilter(filId);\r\n    var count = 0;\r\n    this.filters = [];\r\n    var filterManager;\r\n    for(i=0;i<len;i+=1){\r\n        filterManager = null;\r\n        if(elem.data.ef[i].ty === 20){\r\n            count += 1;\r\n            filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 21){\r\n            count += 1;\r\n            filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 22){\r\n            filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 23){\r\n            count += 1;\r\n            filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 24){\r\n            count += 1;\r\n            filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 25){\r\n            count += 1;\r\n            filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 28){\r\n            //count += 1;\r\n            filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\r\n        }else if(elem.data.ef[i].ty === 29){\r\n            count += 1;\r\n            filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\r\n        }\r\n        if(filterManager) {\r\n            this.filters.push(filterManager);\r\n        }\r\n    }\r\n    if(count){\r\n        elem.globalData.defs.appendChild(fil);\r\n        elem.layerElement.setAttribute('filter','url(' + locationHref + '#'+filId+')');\r\n    }\r\n    if (this.filters.length) {\r\n        elem.addRenderableComponent(this);\r\n    }\r\n}\r\n\r\nSVGEffects.prototype.renderFrame = function(_isFirstFrame){\r\n    var i, len = this.filters.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.filters[i].renderFrame(_isFirstFrame);\r\n    }\r\n};\r\nfunction CVContextData() {\r\n\tthis.saved = [];\r\n    this.cArrPos = 0;\r\n    this.cTr = new Matrix();\r\n    this.cO = 1;\r\n    var i, len = 15;\r\n    this.savedOp = createTypedArray('float32', len);\r\n    for(i=0;i<len;i+=1){\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function() {\r\n\tvar newLength = this._length * 2;\r\n\tvar currentSavedOp = this.savedOp;\r\n    this.savedOp = createTypedArray('float32', newLength);\r\n    this.savedOp.set(currentSavedOp);\r\n    var i = 0;\r\n    for(i = this._length; i < newLength; i += 1) {\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function() {\r\n\tthis.cArrPos = 0;\r\n\tthis.cTr.reset();\r\n    this.cO = 1;\r\n};\r\nfunction CVBaseElement(){\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n    createElements: function(){},\r\n    initRendererElement: function(){},\r\n    createContainerElements: function(){\r\n        this.canvasContext = this.globalData.canvasContext;\r\n        this.renderableEffectsManager = new CVEffects(this);\r\n    },\r\n    createContent: function(){},\r\n    setBlendMode: function(){\r\n        var globalData = this.globalData;\r\n        if(globalData.blendMode !== this.data.bm) {\r\n            globalData.blendMode = this.data.bm;\r\n            var blendModeValue = getBlendMode(this.data.bm);\r\n            globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n        }\r\n    },\r\n    createRenderableComponents: function(){\r\n        this.maskManager = new CVMaskElement(this.data, this);\r\n    },\r\n    hideElement: function(){\r\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n            this.hidden = true;\r\n        }\r\n    },\r\n    showElement: function(){\r\n        if (this.isInRange && !this.isTransparent){\r\n            this.hidden = false;\r\n            this._isFirstFrame = true;\r\n            this.maskManager._isFirstFrame = true;\r\n        }\r\n    },\r\n    renderFrame: function() {\r\n        if (this.hidden || this.data.hd) {\r\n            return;\r\n        }\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.setBlendMode();\r\n        var forceRealStack = this.data.ty === 0;\r\n        this.globalData.renderer.save(forceRealStack);\r\n        this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n        this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n        this.renderInnerContent();\r\n        this.globalData.renderer.restore(forceRealStack);\r\n        if(this.maskManager.hasMasks) {\r\n            this.globalData.renderer.restore(true);\r\n        }\r\n        if (this._isFirstFrame) {\r\n            this._isFirstFrame = false;\r\n        }\r\n    },\r\n    destroy: function(){\r\n        this.canvasContext = null;\r\n        this.data = null;\r\n        this.globalData = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\nfunction CVImageElement(data, globalData, comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.img = globalData.imageLoader.getImage(this.assetData);\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.createContent = function(){\r\n\r\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n        var canvas = createTag('canvas');\r\n        canvas.width = this.assetData.w;\r\n        canvas.height = this.assetData.h;\r\n        var ctx = canvas.getContext('2d');\r\n\r\n        var imgW = this.img.width;\r\n        var imgH = this.img.height;\r\n        var imgRel = imgW / imgH;\r\n        var canvasRel = this.assetData.w/this.assetData.h;\r\n        var widthCrop, heightCrop;\r\n        var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n        if((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\r\n            heightCrop = imgH;\r\n            widthCrop = heightCrop*canvasRel;\r\n        } else {\r\n            widthCrop = imgW;\r\n            heightCrop = widthCrop/canvasRel;\r\n        }\r\n        ctx.drawImage(this.img,(imgW-widthCrop)/2,(imgH-heightCrop)/2,widthCrop,heightCrop,0,0,this.assetData.w,this.assetData.h);\r\n        this.img = canvas;\r\n    }\r\n\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function(parentMatrix){\r\n    this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function(){\r\n    this.img = null;\r\n};\r\nfunction CVCompElement(data, globalData, comp) {\r\n    this.completeLayers = false;\r\n    this.layers = data.layers;\r\n    this.pendingElements = [];\r\n    this.elements = createSizedArray(this.layers.length);\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate, this) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function() {\r\n    var ctx = this.canvasContext;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(this.data.w, 0);\r\n    ctx.lineTo(this.data.w, this.data.h);\r\n    ctx.lineTo(0, this.data.h);\r\n    ctx.lineTo(0, 0);\r\n    ctx.clip();\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.layers = null;\r\n    this.elements = null;\r\n};\r\n\r\nfunction CVMaskElement(data,element){\r\n    this.data = data;\r\n    this.element = element;\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.viewData = createSizedArray(this.masksProperties.length);\r\n    var i, len = this.masksProperties.length, hasMasks = false;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            hasMasks = true;\r\n        }\r\n        this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);\r\n    }\r\n    this.hasMasks = hasMasks;\r\n    if(hasMasks) {\r\n        this.element.addRenderableComponent(this);\r\n    }\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function () {\r\n    if(!this.hasMasks){\r\n        return;\r\n    }\r\n    var transform = this.element.finalTransform.mat;\r\n    var ctx = this.element.canvasContext;\r\n    var i, len = this.masksProperties.length;\r\n    var pt,pts,data;\r\n    ctx.beginPath();\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if (this.masksProperties[i].inv) {\r\n                ctx.moveTo(0, 0);\r\n                ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n                ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n                ctx.lineTo(0, this.element.globalData.compSize.h);\r\n                ctx.lineTo(0, 0);\r\n            }\r\n            data = this.viewData[i].v;\r\n            pt = transform.applyToPointArray(data.v[0][0],data.v[0][1],0);\r\n            ctx.moveTo(pt[0], pt[1]);\r\n            var j, jLen = data._length;\r\n            for (j = 1; j < jLen; j++) {\r\n                pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n                ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n            }\r\n            pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n            ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n        }\r\n    }\r\n    this.element.globalData.renderer.save(true);\r\n    ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n};\r\nfunction CVShapeElement(data, globalData, comp) {\r\n    this.shapes = [];\r\n    this.shapesData = data.shapes;\r\n    this.stylesList = [];\r\n    this.itemsData = [];\r\n    this.prevViewData = [];\r\n    this.shapeModifiers = [];\r\n    this.processedElements = [];\r\n    this.transformsManager = new ShapeTransformManager();\r\n    this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = {opacity:1,_opMdf:false};\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData, true, []);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function(data, transforms) {\r\n    var styleElem = {\r\n        data: data,\r\n        type: data.ty,\r\n        preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n        transforms: [],\r\n        elements: [],\r\n        closed: data.hd === true\r\n    };\r\n    var elementData = {};\r\n    if(data.ty == 'fl' || data.ty == 'st'){\r\n        elementData.c = PropertyFactory.getProp(this,data.c,1,255,this);\r\n        if(!elementData.c.k){\r\n            styleElem.co = 'rgb('+bm_floor(elementData.c.v[0])+','+bm_floor(elementData.c.v[1])+','+bm_floor(elementData.c.v[2])+')';\r\n        }\r\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n        elementData.s = PropertyFactory.getProp(this,data.s,1,null,this);\r\n        elementData.e = PropertyFactory.getProp(this,data.e,1,null,this);\r\n        elementData.h = PropertyFactory.getProp(this,data.h||{k:0},0,0.01,this);\r\n        elementData.a = PropertyFactory.getProp(this,data.a||{k:0},0,degToRads,this);\r\n        elementData.g = new GradientProperty(this,data.g,this);\r\n    }\r\n    elementData.o = PropertyFactory.getProp(this,data.o,0,0.01,this);\r\n    if(data.ty == 'st' || data.ty == 'gs') {\r\n        styleElem.lc = this.lcEnum[data.lc] || 'round';\r\n        styleElem.lj = this.ljEnum[data.lj] || 'round';\r\n        if(data.lj == 1) {\r\n            styleElem.ml = data.ml;\r\n        }\r\n        elementData.w = PropertyFactory.getProp(this,data.w,0,null,this);\r\n        if(!elementData.w.k){\r\n            styleElem.wi = elementData.w.v;\r\n        }\r\n        if(data.d){\r\n            var d = new DashProperty(this,data.d,'canvas', this);\r\n            elementData.d = d;\r\n            if(!elementData.d.k){\r\n                styleElem.da = elementData.d.dashArray;\r\n                styleElem.do = elementData.d.dashoffset[0];\r\n            }\r\n        }\r\n    } else {\r\n        styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n    }\r\n    this.stylesList.push(styleElem);\r\n    elementData.style = styleElem;\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = {\r\n        it: [],\r\n        prevViewData: []\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function(data) {\r\n    var elementData = {\r\n        transform : {\r\n            opacity: 1,\r\n            _opMdf:false,\r\n            key: this.transformsManager.getNewKey(),\r\n            op: PropertyFactory.getProp(this,data.o,0,0.01,this),\r\n            mProps: TransformPropertyFactory.getTransformProperty(this,data,this)\r\n        }\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function(data) {\r\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n    \r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function() {\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData, true, []);\r\n    len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n};\r\n\r\nCVShapeElement.prototype.addTransformToStyleList = function(transform) {\r\n    var i, len = this.stylesList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        if(!this.stylesList[i].closed) {\r\n            this.stylesList[i].transforms.push(transform);\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.removeTransformFromStyleList = function() {\r\n    var i, len = this.stylesList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        if(!this.stylesList[i].closed) {\r\n            this.stylesList[i].transforms.pop();\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.closeStyles = function(styles) {\r\n    var i, len = styles.length, j, jLen;\r\n    for (i = 0; i < len; i += 1) {\r\n        styles[i].closed = true;\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.searchShapes = function(arr,itemsData, prevViewData, shouldRender, transforms){\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownStyles = [], ownModifiers = [], processedPos, modifier, currentTransform;\r\n    var ownTransforms = [].concat(transforms);\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._shouldRender = shouldRender;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st'|| arr[i].ty == 'gf'|| arr[i].ty == 'gs'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            \r\n            ownStyles.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                currentTransform = this.createTransformElement(arr[i]);\r\n                itemsData[i] = currentTransform;\r\n            }\r\n            ownTransforms.push(itemsData[i]);\r\n            this.addTransformToStyleList(itemsData[i]);\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i]);\r\n            }\r\n            \r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'pb'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i]);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        } else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData);\r\n                this.shapeModifiers.push(modifier);\r\n                shouldRender = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    this.removeTransformFromStyleList();\r\n    this.closeStyles(ownStyles);\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function() {\r\n    this.transformHelper.opacity = 1;\r\n    this.transformHelper._opMdf = false;\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n    this.renderShape(this.transformHelper,this.shapesData,this.itemsData,true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function(parentTransform, groupTransform) {\r\n    var props, groupMatrix;\r\n    if(parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n        groupTransform.opacity = parentTransform.opacity;\r\n        groupTransform.opacity *= groupTransform.op.v;\r\n        groupTransform._opMdf = true;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function() {\r\n    var i, len = this.stylesList.length;\r\n    var j, jLen, k, kLen,elems,nodes, renderer = this.globalData.renderer, ctx = this.globalData.canvasContext, type, currentStyle;\r\n    for(i=0;i<len;i+=1){\r\n        currentStyle = this.stylesList[i];\r\n        type = currentStyle.type;\r\n\r\n        //Skipping style when\r\n        //Stroke width equals 0\r\n        //style should not be rendered (extra unused repeaters)\r\n        //current opacity equals 0\r\n        //global opacity equals 0\r\n        if(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0){\r\n            continue;\r\n        }\r\n        renderer.save();\r\n        elems = currentStyle.elements;\r\n        if(type === 'st' || type === 'gs'){\r\n            ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n            ctx.lineWidth = currentStyle.wi;\r\n            ctx.lineCap = currentStyle.lc;\r\n            ctx.lineJoin = currentStyle.lj;\r\n            ctx.miterLimit = currentStyle.ml || 0;\r\n        } else {\r\n            ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n        }\r\n        renderer.ctxOpacity(currentStyle.coOp);\r\n        if(type !== 'st' && type !== 'gs'){\r\n            ctx.beginPath();\r\n        }\r\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n        jLen = elems.length;\r\n        for(j=0;j<jLen;j+=1){\r\n            if(type === 'st' || type === 'gs'){\r\n                ctx.beginPath();\r\n                if(currentStyle.da){\r\n                    ctx.setLineDash(currentStyle.da);\r\n                    ctx.lineDashOffset = currentStyle.do;\r\n                }\r\n            }\r\n            nodes = elems[j].trNodes;\r\n            kLen = nodes.length;\r\n\r\n            for(k=0;k<kLen;k+=1){\r\n                if(nodes[k].t == 'm'){\r\n                    ctx.moveTo(nodes[k].p[0],nodes[k].p[1]);\r\n                }else if(nodes[k].t == 'c'){\r\n                    ctx.bezierCurveTo(nodes[k].pts[0],nodes[k].pts[1],nodes[k].pts[2],nodes[k].pts[3],nodes[k].pts[4],nodes[k].pts[5]);\r\n                }else{\r\n                    ctx.closePath();\r\n                }\r\n            }\r\n            if(type === 'st' || type === 'gs'){\r\n                ctx.stroke();\r\n                if(currentStyle.da){\r\n                    ctx.setLineDash(this.dashResetter);\r\n                }\r\n            }\r\n        }\r\n        if(type !== 'st' && type !== 'gs'){\r\n            ctx.fill(currentStyle.r);\r\n        }\r\n        renderer.restore();\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function(parentTransform,items,data,isMain){\r\n    var i, len = items.length - 1;\r\n    var groupTransform;\r\n    groupTransform = parentTransform;\r\n    for(i=len;i>=0;i-=1){\r\n        if(items[i].ty == 'tr'){\r\n            groupTransform = data[i].transform;\r\n            this.renderShapeTransform(parentTransform, groupTransform);\r\n        }else if(items[i].ty == 'sh' || items[i].ty == 'el' || items[i].ty == 'rc' || items[i].ty == 'sr'){\r\n            this.renderPath(items[i],data[i]);\r\n        }else if(items[i].ty == 'fl'){\r\n            this.renderFill(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'st'){\r\n            this.renderStroke(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'gf' || items[i].ty == 'gs'){\r\n            this.renderGradientFill(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'gr'){\r\n            this.renderShape(groupTransform,items[i].it,data[i].it);\r\n        }else if(items[i].ty == 'tm'){\r\n            //\r\n        }\r\n    }\r\n    if(isMain){\r\n        this.drawLayer();\r\n    }\r\n    \r\n};\r\n\r\nCVShapeElement.prototype.renderStyledShape = function(styledShape, shape){\r\n    if(this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n        var shapeNodes = styledShape.trNodes;\r\n        var paths = shape.paths;\r\n        var i, len, j, jLen = paths._length;\r\n        shapeNodes.length = 0;\r\n        var groupTransformMat = styledShape.transforms.finalTransform;\r\n        for (j = 0; j < jLen; j += 1) {\r\n            var pathNodes = paths.shapes[j];\r\n            if(pathNodes && pathNodes.v){\r\n                len = pathNodes._length;\r\n                for (i = 1; i < len; i += 1) {\r\n                    if (i === 1) {\r\n                        shapeNodes.push({\r\n                            t: 'm',\r\n                            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                        });\r\n                    }\r\n                    shapeNodes.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\r\n                    });\r\n                }\r\n                if (len === 1) {\r\n                    shapeNodes.push({\r\n                        t: 'm',\r\n                        p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                    });\r\n                }\r\n                if (pathNodes.c && len) {\r\n                    shapeNodes.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\r\n                    });\r\n                    shapeNodes.push({\r\n                        t: 'z'\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        styledShape.trNodes = shapeNodes;\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.renderPath = function(pathData,itemData){\r\n    if(pathData.hd !== true && pathData._shouldRender) {\r\n        var i, len = itemData.styledShapes.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n        }\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderFill = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || this._isFirstFrame) {\r\n        styleElem.co = 'rgb(' \r\n        + bm_floor(itemData.c.v[0]) + ',' \r\n        + bm_floor(itemData.c.v[1]) + ',' \r\n        + bm_floor(itemData.c.v[2]) + ')';\r\n    }\r\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n        styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderGradientFill = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n    if(!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\r\n        var ctx = this.globalData.canvasContext;\r\n        var grd;\r\n        var pt1 = itemData.s.v, pt2 = itemData.e.v;\r\n        if (styleData.t === 1) {\r\n            grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n        } else {\r\n            var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n            var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n            var percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99: itemData.h.v;\r\n            var dist = rad * percent;\r\n            var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n            var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n            var grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n        }\r\n\r\n        var i, len = styleData.g.p;\r\n        var cValues = itemData.g.c;\r\n        var opacity = 1;\r\n\r\n        for (i = 0; i < len; i += 1){\r\n            if(itemData.g._hasOpacity && itemData.g._collapsable) {\r\n                opacity = itemData.g.o[i*2 + 1];\r\n            }\r\n            grd.addColorStop(cValues[i * 4] / 100,'rgba('+ cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ','+cValues[i * 4 + 3] + ',' + opacity + ')');\r\n        }\r\n        styleElem.grd = grd;\r\n    }\r\n    styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    \r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if(d && (d._mdf  || this._isFirstFrame)){\r\n        styleElem.da = d.dashArray;\r\n        styleElem.do = d.dashoffset[0];\r\n    }\r\n    if(itemData.c._mdf || this._isFirstFrame){\r\n        styleElem.co = 'rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')';\r\n    }\r\n    if(itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame){\r\n        styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    }\r\n    if(itemData.w._mdf || this._isFirstFrame){\r\n        styleElem.wi = itemData.w.v;\r\n    }\r\n};\r\n\r\n\r\nCVShapeElement.prototype.destroy = function(){\r\n    this.shapesData = null;\r\n    this.globalData = null;\r\n    this.canvasContext = null;\r\n    this.stylesList.length = 0;\r\n    this.itemsData.length = 0;\r\n};\r\n\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function() {\r\n    var ctx = this.canvasContext;\r\n    ctx.fillStyle = this.data.sc;\r\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n    //\r\n};\r\nfunction CVTextElement(data, globalData, comp){\r\n    this.textSpans = [];\r\n    this.yOffset = 0;\r\n    this.fillColorAnim = false;\r\n    this.strokeColorAnim = false;\r\n    this.strokeWidthAnim = false;\r\n    this.stroke = false;\r\n    this.fill = false;\r\n    this.justifyOffset = 0;\r\n    this.currentRender = null;\r\n    this.renderType = 'canvas';\r\n    this.values = {\r\n        fill: 'rgba(0,0,0,0)',\r\n        stroke: 'rgba(0,0,0,0)',\r\n        sWidth: 0,\r\n        fValue: ''\r\n    };\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function(){\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n    var hasFill = false;\r\n    if(documentData.fc) {\r\n        hasFill = true;\r\n        this.values.fill = this.buildColor(documentData.fc);\r\n    }else{\r\n        this.values.fill = 'rgba(0,0,0,0)';\r\n    }\r\n    this.fill = hasFill;\r\n    var hasStroke = false;\r\n    if(documentData.sc){\r\n        hasStroke = true;\r\n        this.values.stroke = this.buildColor(documentData.sc);\r\n        this.values.sWidth = documentData.sw;\r\n    }\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    var i, len;\r\n    var letters = documentData.l;\r\n    var matrixHelper = this.mHelper;\r\n    this.stroke = hasStroke;\r\n    this.values.fValue = documentData.finalSize + 'px '+ this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n    len = documentData.finalText.length;\r\n    //this.tHelper.font = this.values.fValue;\r\n    var charData, shapeData, k, kLen, shapes, j, jLen, pathNodes, commands, pathArr, singleShape = this.data.singleShape;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    var xPos = 0, yPos = 0, firstLine = true;\r\n    var cnt = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = charData && charData.data || {};\r\n        matrixHelper.reset();\r\n        if(singleShape && letters[i].n) {\r\n            xPos = -trackingOffset;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            firstLine = false;\r\n        }\r\n\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        jLen = shapes.length;\r\n        matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);\r\n        if(singleShape){\r\n            this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        }\r\n        commands = createSizedArray(jLen);\r\n        for(j=0;j<jLen;j+=1){\r\n            kLen = shapes[j].ks.k.i.length;\r\n            pathNodes = shapes[j].ks.k;\r\n            pathArr = [];\r\n            for(k=1;k<kLen;k+=1){\r\n                if(k==1){\r\n                    pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n                }\r\n                pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToY(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToX(pathNodes.v[k][0],pathNodes.v[k][1],0),matrixHelper.applyToY(pathNodes.v[k][0],pathNodes.v[k][1],0));\r\n            }\r\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToY(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n            commands[j] = pathArr;\r\n        }\r\n        if(singleShape){\r\n            xPos += letters[i].l;\r\n            xPos += trackingOffset;\r\n        }\r\n        if(this.textSpans[cnt]){\r\n            this.textSpans[cnt].elem = commands;\r\n        } else {\r\n            this.textSpans[cnt] = {elem: commands};\r\n        }\r\n        cnt +=1;\r\n    }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function(){\r\n    var ctx = this.canvasContext;\r\n    var finalMat = this.finalTransform.mat.props;\r\n    ctx.font = this.values.fValue;\r\n    ctx.lineCap = 'butt';\r\n    ctx.lineJoin = 'miter';\r\n    ctx.miterLimit = 4;\r\n\r\n    if(!this.data.singleShape){\r\n        this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    }\r\n\r\n    var  i,len, j, jLen, k, kLen;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n    var letters = this.textProperty.currentData.l;\r\n\r\n    len = letters.length;\r\n    var renderedLetter;\r\n    var lastFill = null, lastStroke = null, lastStrokeW = null, commands, pathArr;\r\n    for(i=0;i<len;i+=1){\r\n        if(letters[i].n){\r\n            continue;\r\n        }\r\n        renderedLetter = renderedLetters[i];\r\n        if(renderedLetter){\r\n            this.globalData.renderer.save();\r\n            this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n            this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n        }\r\n        if(this.fill){\r\n            if(renderedLetter && renderedLetter.fc){\r\n                if(lastFill !== renderedLetter.fc){\r\n                    lastFill = renderedLetter.fc;\r\n                    ctx.fillStyle = renderedLetter.fc;\r\n                }\r\n            }else if(lastFill !== this.values.fill){\r\n                lastFill = this.values.fill;\r\n                ctx.fillStyle = this.values.fill;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.fill();\r\n            ///ctx.fillText(this.textSpans[i].val,0,0);\r\n        }\r\n        if(this.stroke){\r\n            if(renderedLetter && renderedLetter.sw){\r\n                if(lastStrokeW !== renderedLetter.sw){\r\n                    lastStrokeW = renderedLetter.sw;\r\n                    ctx.lineWidth = renderedLetter.sw;\r\n                }\r\n            }else if(lastStrokeW !== this.values.sWidth){\r\n                lastStrokeW = this.values.sWidth;\r\n                ctx.lineWidth = this.values.sWidth;\r\n            }\r\n            if(renderedLetter && renderedLetter.sc){\r\n                if(lastStroke !== renderedLetter.sc){\r\n                    lastStroke = renderedLetter.sc;\r\n                    ctx.strokeStyle = renderedLetter.sc;\r\n                }\r\n            }else if(lastStroke !== this.values.stroke){\r\n                lastStroke = this.values.stroke;\r\n                ctx.strokeStyle = this.values.stroke;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.stroke();\r\n            ///ctx.strokeText(letters[i].val,0,0);\r\n        }\r\n        if(renderedLetter) {\r\n            this.globalData.renderer.restore();\r\n        }\r\n    }\r\n};\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function(){};\r\nfunction HBaseElement(data,globalData,comp){}\r\nHBaseElement.prototype = {\r\n    checkBlendMode: function(){},\r\n    initRendererElement: function(){\r\n        this.baseElement = createTag(this.data.tg || 'div');\r\n        if(this.data.hasMask) {\r\n            this.svgElement = createNS('svg');\r\n            this.layerElement = createNS('g');\r\n            this.maskedElement = this.layerElement;\r\n            this.svgElement.appendChild(this.layerElement);\r\n            this.baseElement.appendChild(this.svgElement);\r\n        } else {\r\n            this.layerElement = this.baseElement;\r\n        }\r\n        styleDiv(this.baseElement);\r\n    },\r\n    createContainerElements: function(){\r\n        this.renderableEffectsManager = new CVEffects(this);\r\n        this.transformedElement = this.baseElement;\r\n        this.maskedElement = this.layerElement;\r\n        if (this.data.ln) {\r\n            this.layerElement.setAttribute('id',this.data.ln);\r\n        }\r\n        if (this.data.cl) {\r\n            this.layerElement.setAttribute('class', this.data.cl);\r\n        }\r\n        if (this.data.bm !== 0) {\r\n            this.setBlendMode();\r\n        }\r\n    },\r\n    renderElement: function() {\r\n        if(this.finalTransform._matMdf){\r\n            this.transformedElement.style.transform = this.transformedElement.style.webkitTransform = this.finalTransform.mat.toCSS();\r\n        }\r\n        if(this.finalTransform._opMdf){\r\n            this.transformedElement.style.opacity = this.finalTransform.mProp.o.v;\r\n        }\r\n    },\r\n    renderFrame: function() {\r\n        //If it is exported as hidden (data.hd === true) no need to render\r\n        //If it is not visible no need to render\r\n        if (this.data.hd || this.hidden) {\r\n            return;\r\n        }\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.renderElement();\r\n        this.renderInnerContent();\r\n        if (this._isFirstFrame) {\r\n            this._isFirstFrame = false;\r\n        }\r\n    },\r\n    destroy: function(){\r\n        this.layerElement = null;\r\n        this.transformedElement = null;\r\n        if(this.matteElement) {\r\n            this.matteElement = null;\r\n        }\r\n        if(this.maskManager) {\r\n            this.maskManager.destroy();\r\n            this.maskManager = null;\r\n        }\r\n    },\r\n    createRenderableComponents: function(){\r\n        this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    },\r\n    addEffects: function(){\r\n    },\r\n    setMatte: function(){}\r\n};\r\nHBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\nHBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\nHBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting;\r\nfunction HSolidElement(data,globalData,comp){\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement], HSolidElement);\r\n\r\nHSolidElement.prototype.createContent = function(){\r\n    var rect;\r\n    if(this.data.hasMask){\r\n        rect = createNS('rect');\r\n        rect.setAttribute('width',this.data.sw);\r\n        rect.setAttribute('height',this.data.sh);\r\n        rect.setAttribute('fill',this.data.sc);\r\n        this.svgElement.setAttribute('width',this.data.sw);\r\n        this.svgElement.setAttribute('height',this.data.sh);\r\n    } else {\r\n        rect = createTag('div');\r\n        rect.style.width = this.data.sw + 'px';\r\n        rect.style.height = this.data.sh + 'px';\r\n        rect.style.backgroundColor = this.data.sc;\r\n    }\r\n    this.layerElement.appendChild(rect);\r\n};\r\n\r\nfunction HCompElement(data,globalData,comp){\r\n    this.layers = data.layers;\r\n    this.supports3d = !data.hasMask;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    this.initElement(data,globalData,comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement);\r\nHCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\nHCompElement.prototype.createContainerElements = function(){\r\n    this._createBaseContainerElements();\r\n    //divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n    if(this.data.hasMask){\r\n        this.svgElement.setAttribute('width',this.data.w);\r\n        this.svgElement.setAttribute('height',this.data.h);\r\n        this.transformedElement = this.baseElement;\r\n    } else {\r\n        this.transformedElement = this.layerElement;\r\n    }\r\n};\r\n\r\nHCompElement.prototype.addTo3dContainer = function(elem,pos) {\r\n    var j = 0;\r\n    var nextElement;\r\n    while(j<pos){\r\n        if(this.elements[j] && this.elements[j].getBaseElement){\r\n            nextElement = this.elements[j].getBaseElement();\r\n        }\r\n        j += 1;\r\n    }\r\n    if(nextElement){\r\n        this.layerElement.insertBefore(elem, nextElement);\r\n    } else {\r\n        this.layerElement.appendChild(elem);\r\n    }\r\n}\r\n\r\nfunction HShapeElement(data,globalData,comp){\r\n    //List of drawable elements\r\n    this.shapes = [];\r\n    // Full shape data\r\n    this.shapesData = data.shapes;\r\n    //List of styles that will be applied to shapes\r\n    this.stylesList = [];\r\n    //List of modifiers that will be applied to shapes\r\n    this.shapeModifiers = [];\r\n    //List of items in shape tree\r\n    this.itemsData = [];\r\n    //List of items in previous shape tree\r\n    this.processedElements = [];\r\n    // List of animated components\r\n    this.animatedContents = [];\r\n    this.shapesContainer = createNS('g');\r\n    this.initElement(data,globalData,comp);\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n    this.prevViewData = [];\r\n    this.currentBBox = {\r\n        x:999999,\r\n        y: -999999,\r\n        h: 0,\r\n        w: 0\r\n    };\r\n}\r\nextendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement], HShapeElement);\r\nHShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\nHShapeElement.prototype.createContent = function(){\r\n    var cont;\r\n    this.baseElement.style.fontSize = 0;\r\n    if (this.data.hasMask) {\r\n        this.layerElement.appendChild(this.shapesContainer);\r\n        cont = this.svgElement;\r\n    } else {\r\n        cont = createNS('svg');\r\n        var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n        cont.setAttribute('width',size.w);\r\n        cont.setAttribute('height',size.h);\r\n        cont.appendChild(this.shapesContainer);\r\n        this.layerElement.appendChild(cont);\r\n    }\r\n\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0, [], true);\r\n    this.filterUniqueShapes();\r\n    this.shapeCont = cont;\r\n};\r\n\r\nHShapeElement.prototype.getTransformedPoint = function(transformers, point) {\r\n    var i, len = transformers.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\r\n    }\r\n    return point;\r\n}\r\n\r\nHShapeElement.prototype.calculateShapeBoundingBox = function(item, boundingBox) {\r\n    var shape = item.sh.v;\r\n    var transformers = item.transformers;\r\n    var i, len = shape._length, vPoint, oPoint, nextIPoint, nextVPoint, bounds;\r\n    if (len <= 1) {\r\n        return;\r\n    }\r\n    for (i = 0; i < len - 1; i += 1) {\r\n        vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n        oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n        nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\r\n        nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\r\n        this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n    }\r\n    if(shape.c) {\r\n        vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n        oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n        nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\r\n        nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\r\n        this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n    }\r\n}\r\n\r\nHShapeElement.prototype.checkBounds = function(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\r\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\r\n    var bounds = this.shapeBoundingBox;\r\n    boundingBox.x = bm_min(bounds.left, boundingBox.x);\r\n    boundingBox.xMax = bm_max(bounds.right, boundingBox.xMax);\r\n    boundingBox.y = bm_min(bounds.top, boundingBox.y);\r\n    boundingBox.yMax = bm_max(bounds.bottom, boundingBox.yMax);\r\n}\r\n\r\nHShapeElement.prototype.shapeBoundingBox = {\r\n    left:0,\r\n    right:0,\r\n    top:0,\r\n    bottom:0,\r\n}\r\n\r\nHShapeElement.prototype.tempBoundingBox = {\r\n    x:0,\r\n    xMax:0,\r\n    y:0,\r\n    yMax:0,\r\n    width:0,\r\n    height:0\r\n}\r\n\r\nHShapeElement.prototype.getBoundsOfCurve = function(p0, p1, p2, p3) {\r\n\r\n    var bounds = [[p0[0],p3[0]], [p0[1],p3[1]]];\r\n\r\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\r\n\r\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n      c = 3 * p1[i] - 3 * p0[i];\r\n\r\n      b = b | 0;\r\n      a = a | 0;\r\n      c = c | 0;\r\n\r\n      if (a === 0) {\r\n\r\n        if (b === 0) {\r\n          continue;\r\n        }\r\n\r\n        t = -c / b;\r\n\r\n        if (0 < t && t < 1) {\r\n          bounds[i].push(this.calculateF(t,p0,p1,p2,p3,i));\r\n        }\r\n        continue;\r\n      }\r\n\r\n      b2ac = b * b - 4 * c * a;\r\n\r\n      if (b2ac < 0) {\r\n        continue;\r\n      }\r\n\r\n      t1 = (-b + bm_sqrt(b2ac))/(2 * a);\r\n      if (0 < t1 && t1 < 1) bounds[i].push(this.calculateF(t1,p0,p1,p2,p3,i));\r\n\r\n      t2 = (-b - bm_sqrt(b2ac))/(2 * a);\r\n      if (0 < t2 && t2 < 1) bounds[i].push(this.calculateF(t2,p0,p1,p2,p3,i));\r\n\r\n    }\r\n\r\n    this.shapeBoundingBox.left = bm_min.apply(null, bounds[0]);\r\n    this.shapeBoundingBox.top = bm_min.apply(null, bounds[1]);\r\n    this.shapeBoundingBox.right = bm_max.apply(null, bounds[0]);\r\n    this.shapeBoundingBox.bottom = bm_max.apply(null, bounds[1]);\r\n  };\r\n\r\n  HShapeElement.prototype.calculateF = function(t, p0, p1, p2, p3, i) {\r\n    return bm_pow(1-t, 3) * p0[i]\r\n        + 3 * bm_pow(1-t, 2) * t * p1[i]\r\n        + 3 * (1-t) * bm_pow(t, 2) * p2[i]\r\n        + bm_pow(t, 3) * p3[i];\r\n  }\r\n\r\nHShapeElement.prototype.calculateBoundingBox = function(itemsData, boundingBox) {\r\n    var i, len = itemsData.length, path;\r\n    for(i = 0; i < len; i += 1) {\r\n        if(itemsData[i] && itemsData[i].sh) {\r\n            this.calculateShapeBoundingBox(itemsData[i], boundingBox)\r\n        } else if(itemsData[i] && itemsData[i].it) {\r\n            this.calculateBoundingBox(itemsData[i].it, boundingBox)\r\n        }\r\n    }\r\n}\r\n\r\nHShapeElement.prototype.currentBoxContains = function(box) {\r\n    return this.currentBBox.x <= box.x \r\n    && this.currentBBox.y <= box.y \r\n    && this.currentBBox.width + this.currentBBox.x >= box.x + box.width\r\n    && this.currentBBox.height + this.currentBBox.y >= box.y + box.height\r\n}\r\n\r\nHShapeElement.prototype.renderInnerContent = function() {\r\n    this._renderShapeFrame();\r\n\r\n    if(!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n        var tempBoundingBox = this.tempBoundingBox;\r\n        var max = 999999;\r\n        tempBoundingBox.x = max;\r\n        tempBoundingBox.xMax = -max;\r\n        tempBoundingBox.y = max;\r\n        tempBoundingBox.yMax = -max;\r\n        this.calculateBoundingBox(this.itemsData, tempBoundingBox);\r\n        tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\r\n        tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y;\r\n        //var tempBoundingBox = this.shapeCont.getBBox();\r\n        if(this.currentBoxContains(tempBoundingBox)) {\r\n            return;\r\n        }\r\n        var changed = false;\r\n        if(this.currentBBox.w !== tempBoundingBox.width){\r\n            this.currentBBox.w = tempBoundingBox.width;\r\n            this.shapeCont.setAttribute('width',tempBoundingBox.width);\r\n            changed = true;\r\n        }\r\n        if(this.currentBBox.h !== tempBoundingBox.height){\r\n            this.currentBBox.h = tempBoundingBox.height;\r\n            this.shapeCont.setAttribute('height',tempBoundingBox.height);\r\n            changed = true;\r\n        }\r\n        if(changed  || this.currentBBox.x !== tempBoundingBox.x  || this.currentBBox.y !== tempBoundingBox.y){\r\n            this.currentBBox.w = tempBoundingBox.width;\r\n            this.currentBBox.h = tempBoundingBox.height;\r\n            this.currentBBox.x = tempBoundingBox.x;\r\n            this.currentBBox.y = tempBoundingBox.y;\r\n\r\n            this.shapeCont.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);\r\n            this.shapeCont.style.transform = this.shapeCont.style.webkitTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        }\r\n    }\r\n\r\n};\r\nfunction HTextElement(data,globalData,comp){\r\n    this.textSpans = [];\r\n    this.textPaths = [];\r\n    this.currentBBox = {\r\n        x:999999,\r\n        y: -999999,\r\n        h: 0,\r\n        w: 0\r\n    };\r\n    this.renderType = 'svg';\r\n    this.isMasked = false;\r\n    this.initElement(data,globalData,comp);\r\n\r\n}\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement], HTextElement);\r\n\r\nHTextElement.prototype.createContent = function(){\r\n    this.isMasked = this.checkMasks();\r\n    if(this.isMasked){\r\n        this.renderType = 'svg';\r\n        this.compW = this.comp.data.w;\r\n        this.compH = this.comp.data.h;\r\n        this.svgElement.setAttribute('width',this.compW);\r\n        this.svgElement.setAttribute('height',this.compH);\r\n        var g = createNS('g');\r\n        this.maskedElement.appendChild(g);\r\n        this.innerElem = g;\r\n    } else {\r\n        this.renderType = 'html';\r\n        this.innerElem = this.layerElement;\r\n    }\r\n\r\n    this.checkParenting();\r\n\r\n};\r\n\r\nHTextElement.prototype.buildNewText = function(){\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n    var innerElemStyle = this.innerElem.style;\r\n    innerElemStyle.color = innerElemStyle.fill = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n    if(documentData.sc){\r\n        innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n        innerElemStyle.strokeWidth = documentData.sw+'px';\r\n    }\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    if(!this.globalData.fontManager.chars){\r\n        innerElemStyle.fontSize = documentData.finalSize+'px';\r\n        innerElemStyle.lineHeight = documentData.finalSize+'px';\r\n        if(fontData.fClass){\r\n            this.innerElem.className = fontData.fClass;\r\n        } else {\r\n            innerElemStyle.fontFamily = fontData.fFamily;\r\n            var fWeight = documentData.fWeight, fStyle = documentData.fStyle;\r\n            innerElemStyle.fontStyle = fStyle;\r\n            innerElemStyle.fontWeight = fWeight;\r\n        }\r\n    }\r\n    var i, len;\r\n\r\n    var letters = documentData.l;\r\n    len = letters.length;\r\n    var tSpan,tParent,tCont;\r\n    var matrixHelper = this.mHelper;\r\n    var shapes, shapeStr = '';\r\n    var cnt = 0;\r\n    for (i = 0;i < len ;i += 1) {\r\n        if(this.globalData.fontManager.chars){\r\n            if(!this.textPaths[cnt]){\r\n                tSpan = createNS('path');\r\n                tSpan.setAttribute('stroke-linecap', 'butt');\r\n                tSpan.setAttribute('stroke-linejoin','round');\r\n                tSpan.setAttribute('stroke-miterlimit','4');\r\n            } else {\r\n                tSpan = this.textPaths[cnt];\r\n            }\r\n            if(!this.isMasked){\r\n                if(this.textSpans[cnt]){\r\n                    tParent = this.textSpans[cnt];\r\n                    tCont = tParent.children[0];\r\n                } else {\r\n\r\n                    tParent = createTag('div');\r\n                    tParent.style.lineHeight = 0;\r\n                    tCont = createNS('svg');\r\n                    tCont.appendChild(tSpan);\r\n                    styleDiv(tParent);\r\n                }\r\n            }\r\n        }else{\r\n            if(!this.isMasked){\r\n                if(this.textSpans[cnt]){\r\n                    tParent = this.textSpans[cnt];\r\n                    tSpan = this.textPaths[cnt];\r\n                } else {\r\n                    tParent = createTag('span');\r\n                    styleDiv(tParent);\r\n                    tSpan = createTag('span');\r\n                    styleDiv(tSpan);\r\n                    tParent.appendChild(tSpan);\r\n                }\r\n            } else {\r\n                tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n            }\r\n        }\r\n        //tSpan.setAttribute('visibility', 'hidden');\r\n        if(this.globalData.fontManager.chars){\r\n            var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n            var shapeData;\r\n            if(charData){\r\n                shapeData = charData.data;\r\n            } else {\r\n                shapeData = null;\r\n            }\r\n            matrixHelper.reset();\r\n            if(shapeData && shapeData.shapes){\r\n                shapes = shapeData.shapes[0].it;\r\n                matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);\r\n                shapeStr = this.createPathShape(matrixHelper,shapes);\r\n                tSpan.setAttribute('d',shapeStr);\r\n            }\r\n            if(!this.isMasked){\r\n                this.innerElem.appendChild(tParent);\r\n                if(shapeData && shapeData.shapes){\r\n\r\n                    //document.body.appendChild is needed to get exact measure of shape\r\n                    document.body.appendChild(tCont);\r\n                    var boundingBox = tCont.getBBox();\r\n                    tCont.setAttribute('width',boundingBox.width + 2);\r\n                    tCont.setAttribute('height',boundingBox.height + 2);\r\n                    tCont.setAttribute('viewBox',(boundingBox.x-1)+' '+ (boundingBox.y-1)+' '+ (boundingBox.width+2)+' '+ (boundingBox.height+2));\r\n                    tCont.style.transform = tCont.style.webkitTransform = 'translate(' + (boundingBox.x-1) + 'px,' + (boundingBox.y-1) + 'px)';\r\n\r\n                    letters[i].yOffset = boundingBox.y-1;\r\n\r\n                } else{\r\n                    tCont.setAttribute('width',1);\r\n                    tCont.setAttribute('height',1);\r\n                }\r\n                    tParent.appendChild(tCont);\r\n            }else{\r\n                this.innerElem.appendChild(tSpan);\r\n            }\r\n        }else{\r\n            tSpan.textContent = letters[i].val;\r\n            tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\",\"preserve\");\r\n            if(!this.isMasked){\r\n                this.innerElem.appendChild(tParent);\r\n                //\r\n                tSpan.style.transform = tSpan.style.webkitTransform = 'translate3d(0,'+ -documentData.finalSize/1.2+'px,0)';\r\n            } else {\r\n                this.innerElem.appendChild(tSpan);\r\n            }\r\n        }\r\n        //\r\n        if(!this.isMasked){\r\n            this.textSpans[cnt] = tParent;\r\n        }else{\r\n            this.textSpans[cnt] = tSpan;\r\n        }\r\n        this.textSpans[cnt].style.display = 'block';\r\n        this.textPaths[cnt] = tSpan;\r\n        cnt += 1;\r\n    }\r\n    while(cnt < this.textSpans.length){\r\n        this.textSpans[cnt].style.display = 'none';\r\n        cnt += 1;\r\n    }\r\n};\r\n\r\nHTextElement.prototype.renderInnerContent = function() {\r\n\r\n    if(this.data.singleShape){\r\n        if(!this._isFirstFrame && !this.lettersChangedFlag){\r\n            return;\r\n        } else {\r\n            // Todo Benchmark if using this is better than getBBox\r\n             if(this.isMasked && this.finalTransform._matMdf){\r\n                 this.svgElement.setAttribute('viewBox',-this.finalTransform.mProp.p.v[0]+' '+ -this.finalTransform.mProp.p.v[1]+' '+this.compW+' '+this.compH);\r\n                this.svgElement.style.transform = this.svgElement.style.webkitTransform = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n             }\r\n        }\r\n    }\r\n\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if(!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag){\r\n        return;\r\n    }\r\n    var  i,len, count = 0;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n    var letters = this.textProperty.currentData.l;\r\n\r\n    len = letters.length;\r\n    var renderedLetter, textSpan, textPath;\r\n    for(i=0;i<len;i+=1){\r\n        if(letters[i].n){\r\n            count += 1;\r\n            continue;\r\n        }\r\n        textSpan = this.textSpans[i];\r\n        textPath = this.textPaths[i];\r\n        renderedLetter = renderedLetters[count];\r\n        count += 1;\r\n        if(renderedLetter._mdf.m) {\r\n            if(!this.isMasked){\r\n                textSpan.style.transform = textSpan.style.webkitTransform = renderedLetter.m;\r\n            }else{\r\n                textSpan.setAttribute('transform',renderedLetter.m);\r\n            }\r\n        }\r\n        ////textSpan.setAttribute('opacity',renderedLetter.o);\r\n        textSpan.style.opacity = renderedLetter.o;\r\n        if(renderedLetter.sw && renderedLetter._mdf.sw){\r\n            textPath.setAttribute('stroke-width',renderedLetter.sw);\r\n        }\r\n        if(renderedLetter.sc && renderedLetter._mdf.sc){\r\n            textPath.setAttribute('stroke',renderedLetter.sc);\r\n        }\r\n        if(renderedLetter.fc && renderedLetter._mdf.fc){\r\n            textPath.setAttribute('fill',renderedLetter.fc);\r\n            textPath.style.color = renderedLetter.fc;\r\n        }\r\n    }\r\n\r\n    if(this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)){\r\n        var boundingBox = this.innerElem.getBBox();\r\n\r\n        if(this.currentBBox.w !== boundingBox.width){\r\n            this.currentBBox.w = boundingBox.width;\r\n            this.svgElement.setAttribute('width',boundingBox.width);\r\n        }\r\n        if(this.currentBBox.h !== boundingBox.height){\r\n            this.currentBBox.h = boundingBox.height;\r\n            this.svgElement.setAttribute('height',boundingBox.height);\r\n        }\r\n\r\n        var margin = 1;\r\n        if(this.currentBBox.w !== (boundingBox.width + margin*2) || this.currentBBox.h !== (boundingBox.height + margin*2)  || this.currentBBox.x !== (boundingBox.x - margin)  || this.currentBBox.y !== (boundingBox.y - margin)){\r\n            this.currentBBox.w = boundingBox.width + margin*2;\r\n            this.currentBBox.h = boundingBox.height + margin*2;\r\n            this.currentBBox.x = boundingBox.x - margin;\r\n            this.currentBBox.y = boundingBox.y - margin;\r\n\r\n            this.svgElement.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);\r\n            this.svgElement.style.transform = this.svgElement.style.webkitTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        }\r\n    }\r\n};\r\nfunction HImageElement(data,globalData,comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data,globalData,comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement], HImageElement);\r\n\r\n\r\nHImageElement.prototype.createContent = function(){\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    var img = new Image();\r\n\r\n    if(this.data.hasMask){\r\n        this.imageElem = createNS('image');\r\n        this.imageElem.setAttribute('width',this.assetData.w+\"px\");\r\n        this.imageElem.setAttribute('height',this.assetData.h+\"px\");\r\n        this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);\r\n        this.layerElement.appendChild(this.imageElem);\r\n        this.baseElement.setAttribute('width',this.assetData.w);\r\n        this.baseElement.setAttribute('height',this.assetData.h);\r\n    } else {\r\n        this.layerElement.appendChild(img);\r\n    }\r\n    img.crossOrigin = 'anonymous';\r\n    img.src = assetPath;\r\n    if(this.data.ln){\r\n        this.baseElement.setAttribute('id',this.data.ln);\r\n    }\r\n};\r\nfunction HCameraElement(data,globalData,comp){\r\n    this.initFrame();\r\n    this.initBaseData(data,globalData,comp);\r\n    this.initHierarchy();\r\n    var getProp = PropertyFactory.getProp;\r\n    this.pe = getProp(this,data.pe,0,0,this);\r\n    if(data.ks.p.s){\r\n        this.px = getProp(this,data.ks.p.x,1,0,this);\r\n        this.py = getProp(this,data.ks.p.y,1,0,this);\r\n        this.pz = getProp(this,data.ks.p.z,1,0,this);\r\n    }else{\r\n        this.p = getProp(this,data.ks.p,1,0,this);\r\n    }\r\n    if(data.ks.a){\r\n        this.a = getProp(this,data.ks.a,1,0,this);\r\n    }\r\n    if(data.ks.or.k.length && data.ks.or.k[0].to){\r\n        var i,len = data.ks.or.k.length;\r\n        for(i=0;i<len;i+=1){\r\n            data.ks.or.k[i].to = null;\r\n            data.ks.or.k[i].ti = null;\r\n        }\r\n    }\r\n    this.or = getProp(this,data.ks.or,1,degToRads,this);\r\n    this.or.sh = true;\r\n    this.rx = getProp(this,data.ks.rx,0,degToRads,this);\r\n    this.ry = getProp(this,data.ks.ry,0,degToRads,this);\r\n    this.rz = getProp(this,data.ks.rz,0,degToRads,this);\r\n    this.mat = new Matrix();\r\n    this._prevMat = new Matrix();\r\n    this._isFirstFrame = true;\r\n    \r\n    // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\r\n    this.finalTransform = {\r\n        mProp: this\r\n    };\r\n}\r\nextendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\r\n\r\nHCameraElement.prototype.setup = function() {\r\n    var i, len = this.comp.threeDElements.length, comp;\r\n    for(i=0;i<len;i+=1){\r\n        //[perspectiveElem,container]\r\n        comp = this.comp.threeDElements[i];\r\n        if(comp.type === '3d') {\r\n            comp.perspectiveElem.style.perspective = comp.perspectiveElem.style.webkitPerspective = this.pe.v+'px';\r\n            comp.container.style.transformOrigin = comp.container.style.mozTransformOrigin = comp.container.style.webkitTransformOrigin = \"0px 0px 0px\";\r\n            comp.perspectiveElem.style.transform = comp.perspectiveElem.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n        }\r\n    }\r\n};\r\n\r\nHCameraElement.prototype.createElements = function(){\r\n};\r\n\r\nHCameraElement.prototype.hide = function(){\r\n};\r\n\r\nHCameraElement.prototype.renderFrame = function(){\r\n    var _mdf = this._isFirstFrame;\r\n    var i, len;\r\n    if(this.hierarchy){\r\n        len = this.hierarchy.length;\r\n        for(i=0;i<len;i+=1){\r\n            _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n        }\r\n    }\r\n    if(_mdf || this.pe._mdf || (this.p && this.p._mdf) || (this.px && (this.px._mdf || this.py._mdf || this.pz._mdf)) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || (this.a && this.a._mdf)) {\r\n        this.mat.reset();\r\n\r\n        if(this.hierarchy){\r\n            var mat;\r\n            len = this.hierarchy.length - 1;\r\n            for (i = len; i >= 0; i -= 1) {\r\n                var mTransf = this.hierarchy[i].finalTransform.mProp;\r\n                this.mat.translate(-mTransf.p.v[0],-mTransf.p.v[1],mTransf.p.v[2]);\r\n                this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\r\n                this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\r\n                this.mat.scale(1/mTransf.s.v[0],1/mTransf.s.v[1],1/mTransf.s.v[2]);\r\n                this.mat.translate(mTransf.a.v[0],mTransf.a.v[1],mTransf.a.v[2]);\r\n            }\r\n        }\r\n        if (this.p) {\r\n            this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]);\r\n        } else {\r\n            this.mat.translate(-this.px.v,-this.py.v,this.pz.v);\r\n        }\r\n        if (this.a) {\r\n            var diffVector\r\n            if (this.p) {\r\n                diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\r\n            } else {\r\n                diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\r\n            }\r\n            var mag = Math.sqrt(Math.pow(diffVector[0],2)+Math.pow(diffVector[1],2)+Math.pow(diffVector[2],2));\r\n            //var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n            var lookDir = [diffVector[0]/mag,diffVector[1]/mag,diffVector[2]/mag];\r\n            var lookLengthOnXZ = Math.sqrt( lookDir[2]*lookDir[2] + lookDir[0]*lookDir[0] );\r\n            var m_rotationX = (Math.atan2( lookDir[1], lookLengthOnXZ ));\r\n            var m_rotationY = (Math.atan2( lookDir[0], -lookDir[2]));\r\n            this.mat.rotateY(m_rotationY).rotateX(-m_rotationX);\r\n\r\n        }\r\n        this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n        this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n        this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0);\r\n        this.mat.translate(0,0,this.pe.v);\r\n\r\n\r\n        \r\n\r\n        var hasMatrixChanged = !this._prevMat.equals(this.mat);\r\n        if((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\r\n            len = this.comp.threeDElements.length;\r\n            var comp;\r\n            for(i=0;i<len;i+=1){\r\n                comp = this.comp.threeDElements[i];\r\n                if(comp.type === '3d') {\r\n                    if(hasMatrixChanged) {\r\n                        comp.container.style.transform = comp.container.style.webkitTransform = this.mat.toCSS();\r\n                    }\r\n                    if(this.pe._mdf) {\r\n                        comp.perspectiveElem.style.perspective = comp.perspectiveElem.style.webkitPerspective = this.pe.v+'px';\r\n                    }\r\n                }\r\n            }\r\n            this.mat.clone(this._prevMat);\r\n        }\r\n    }\r\n    this._isFirstFrame = false;\r\n};\r\n\r\nHCameraElement.prototype.prepareFrame = function(num) {\r\n    this.prepareProperties(num, true);\r\n};\r\n\r\nHCameraElement.prototype.destroy = function(){\r\n};\r\nHCameraElement.prototype.getBaseElement = function(){return null;};\r\nfunction HEffects() {\r\n}\r\nHEffects.prototype.renderFrame = function(){};\r\nvar animationManager = (function(){\r\n    var moduleOb = {};\r\n    var registeredAnimations = [];\r\n    var initTime = 0;\r\n    var len = 0;\r\n    var playingAnimationsNum = 0;\r\n    var _stopped = true;\r\n    var _isFrozen = false;\r\n\r\n    function removeElement(ev){\r\n        var i = 0;\r\n        var animItem = ev.target;\r\n        while(i<len) {\r\n            if (registeredAnimations[i].animation === animItem) {\r\n                registeredAnimations.splice(i, 1);\r\n                i -= 1;\r\n                len -= 1;\r\n                if(!animItem.isPaused){\r\n                    subtractPlayingCount();\r\n                }\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function registerAnimation(element, animationData){\r\n        if(!element){\r\n            return null;\r\n        }\r\n        var i=0;\r\n        while(i<len){\r\n            if(registeredAnimations[i].elem == element && registeredAnimations[i].elem !== null ){\r\n                return registeredAnimations[i].animation;\r\n            }\r\n            i+=1;\r\n        }\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, element);\r\n        animItem.setData(element, animationData);\r\n        return animItem;\r\n    }\r\n\r\n    function getRegisteredAnimations() {\r\n        var i, len = registeredAnimations.length;\r\n        var animations = [];\r\n        for(i = 0; i < len; i += 1) {\r\n            animations.push(registeredAnimations[i].animation);\r\n        }\r\n        return animations;\r\n    }\r\n\r\n    function addPlayingCount(){\r\n        playingAnimationsNum += 1;\r\n        activate();\r\n    }\r\n\r\n    function subtractPlayingCount(){\r\n        playingAnimationsNum -= 1;\r\n    }\r\n\r\n    function setupAnimation(animItem, element){\r\n        animItem.addEventListener('destroy',removeElement);\r\n        animItem.addEventListener('_active',addPlayingCount);\r\n        animItem.addEventListener('_idle',subtractPlayingCount);\r\n        registeredAnimations.push({elem: element,animation:animItem});\r\n        len += 1;\r\n    }\r\n\r\n    function loadAnimation(params){\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, null);\r\n        animItem.setParams(params);\r\n        return animItem;\r\n    }\r\n\r\n\r\n    function setSpeed(val,animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setSpeed(val, animation);\r\n        }\r\n    }\r\n\r\n    function setDirection(val, animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setDirection(val, animation);\r\n        }\r\n    }\r\n\r\n    function play(animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.play(animation);\r\n        }\r\n    }\r\n    function resume(nowTime) {\r\n        var elapsedTime = nowTime - initTime;\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n        }\r\n        initTime = nowTime;\r\n        if(playingAnimationsNum && !_isFrozen) {\r\n            window.requestAnimationFrame(resume);\r\n        } else {\r\n            _stopped = true;\r\n        }\r\n    }\r\n\r\n    function first(nowTime){\r\n        initTime = nowTime;\r\n        window.requestAnimationFrame(resume);\r\n    }\r\n\r\n    function pause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.pause(animation);\r\n        }\r\n    }\r\n\r\n    function goToAndStop(value,isFrame,animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.goToAndStop(value,isFrame,animation);\r\n        }\r\n    }\r\n\r\n    function stop(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.stop(animation);\r\n        }\r\n    }\r\n\r\n    function togglePause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.togglePause(animation);\r\n        }\r\n    }\r\n\r\n    function destroy(animation) {\r\n        var i;\r\n        for(i=(len-1);i>=0;i-=1){\r\n            registeredAnimations[i].animation.destroy(animation);\r\n        }\r\n    }\r\n\r\n    function searchAnimations(animationData, standalone, renderer){\r\n        var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n                  [].slice.call(document.getElementsByClassName('bodymovin')));\r\n        var i, len = animElements.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(renderer){\r\n                animElements[i].setAttribute('data-bm-type',renderer);\r\n            }\r\n            registerAnimation(animElements[i], animationData);\r\n        }\r\n        if(standalone && len === 0){\r\n            if(!renderer){\r\n                renderer = 'svg';\r\n            }\r\n            var body = document.getElementsByTagName('body')[0];\r\n            body.innerText = '';\r\n            var div = createTag('div');\r\n            div.style.width = '100%';\r\n            div.style.height = '100%';\r\n            div.setAttribute('data-bm-type',renderer);\r\n            body.appendChild(div);\r\n            registerAnimation(div, animationData);\r\n        }\r\n    }\r\n\r\n    function resize(){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.resize();\r\n        }\r\n    }\r\n\r\n    function activate(){\r\n        if(!_isFrozen && playingAnimationsNum){\r\n            if(_stopped) {\r\n                window.requestAnimationFrame(first);\r\n                _stopped = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    function freeze() {\r\n        _isFrozen = true;\r\n    }\r\n\r\n    function unfreeze() {\r\n        _isFrozen = false;\r\n        activate();\r\n    }\r\n\r\n    function setVolume(val,animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setVolume(val, animation);\r\n        }\r\n    }\r\n\r\n    function mute(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.mute(animation);\r\n        }\r\n    }\r\n\r\n    function unmute(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.unmute(animation);\r\n        }\r\n    }\r\n\r\n    moduleOb.registerAnimation = registerAnimation;\r\n    moduleOb.loadAnimation = loadAnimation;\r\n    moduleOb.setSpeed = setSpeed;\r\n    moduleOb.setDirection = setDirection;\r\n    moduleOb.play = play;\r\n    moduleOb.pause = pause;\r\n    moduleOb.stop = stop;\r\n    moduleOb.togglePause = togglePause;\r\n    moduleOb.searchAnimations = searchAnimations;\r\n    moduleOb.resize = resize;\r\n    //moduleOb.start = start;\r\n    moduleOb.goToAndStop = goToAndStop;\r\n    moduleOb.destroy = destroy;\r\n    moduleOb.freeze = freeze;\r\n    moduleOb.unfreeze = unfreeze;\r\n    moduleOb.setVolume = setVolume;\r\n    moduleOb.mute = mute;\r\n    moduleOb.unmute = unmute;\r\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n    return moduleOb;\r\n}());\r\n\r\nvar AnimationItem = function () {\r\n    this._cbs = [];\r\n    this.name = '';\r\n    this.path = '';\r\n    this.isLoaded = false;\r\n    this.currentFrame = 0;\r\n    this.currentRawFrame = 0;\r\n    this.firstFrame = 0;\r\n    this.totalFrames = 0;\r\n    this.frameRate = 0;\r\n    this.frameMult = 0;\r\n    this.playSpeed = 1;\r\n    this.playDirection = 1;\r\n    this.playCount = 0;\r\n    this.animationData = {};\r\n    this.assets = [];\r\n    this.isPaused = true;\r\n    this.autoplay = false;\r\n    this.loop = true;\r\n    this.renderer = null;\r\n    this.animationID = createElementID();\r\n    this.assetsPath = '';\r\n    this.timeCompleted = 0;\r\n    this.segmentPos = 0;\r\n    this.isSubframeEnabled = subframeEnabled;\r\n    this.segments = [];\r\n    this._idle = true;\r\n    this._completedLoop = false;\r\n    this.projectInterface = ProjectInterface();\r\n    this.imagePreloader = new ImagePreloader();\r\n    this.audioController = audioControllerFactory();\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function(params) {\r\n    if(params.wrapper || params.container){\r\n        this.wrapper = params.wrapper || params.container;\r\n    }\r\n    var animType = params.animType ? params.animType : params.renderer ? params.renderer : 'svg';\r\n    switch(animType){\r\n        case 'canvas':\r\n            this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n            break;\r\n        case 'svg':\r\n            this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n            break;\r\n        default:\r\n            this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n            break;\r\n    }\r\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\r\n    this.renderer.setProjectInterface(this.projectInterface);\r\n    this.animType = animType;\r\n    if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true)\r\n    {\r\n        this.loop = true;\r\n    } else if (params.loop === false) {\r\n        this.loop = false;\r\n    } else {\r\n        this.loop = parseInt(params.loop);\r\n    }\r\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n    this.name = params.name ? params.name :  '';\r\n    this.autoloadSegments = params.hasOwnProperty('autoloadSegments') ? params.autoloadSegments :  true;\r\n    this.assetsPath = params.assetsPath;\r\n    this.initialSegment = params.initialSegment;\r\n    if (params.audioFactory) {\r\n        this.audioController.setAudioFactory(params.audioFactory);\r\n    }\r\n    if (params.animationData) {\r\n        this.configAnimation(params.animationData);\r\n    } else if(params.path){\r\n\r\n        if( params.path.lastIndexOf('\\\\') !== -1){\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('\\\\')+1);\r\n        } else {\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('/')+1);\r\n        }\r\n        this.fileName = params.path.substr(params.path.lastIndexOf('/')+1);\r\n        this.fileName = this.fileName.substr(0,this.fileName.lastIndexOf('.json'));\r\n\r\n        assetLoader.load(params.path, this.configAnimation.bind(this), function() {\r\n            this.trigger('data_failed');\r\n        }.bind(this));\r\n    }\r\n\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n    var params = {\r\n        wrapper: wrapper,\r\n        animationData: animationData ? (typeof animationData  === \"object\") ? animationData : JSON.parse(animationData) : null\r\n    };\r\n    var wrapperAttributes = wrapper.attributes;\r\n\r\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') ? wrapperAttributes.getNamedItem('data-bm-path').value :  wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\r\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') ? wrapperAttributes.getNamedItem('bm-type').value :  wrapperAttributes.getNamedItem('data-bm-renderer') ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\r\n\r\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') ? wrapperAttributes.getNamedItem('data-anim-loop').value :  wrapperAttributes.getNamedItem('data-bm-loop') ? wrapperAttributes.getNamedItem('data-bm-loop').value :  wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\r\n    if(loop === ''){\r\n    }else if(loop === 'false'){\r\n        params.loop = false;\r\n    }else if(loop === 'true'){\r\n        params.loop = true;\r\n    }else{\r\n        params.loop = parseInt(loop);\r\n    }\r\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') ? wrapperAttributes.getNamedItem('data-anim-autoplay').value :  wrapperAttributes.getNamedItem('data-bm-autoplay') ? wrapperAttributes.getNamedItem('data-bm-autoplay').value :  wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\r\n    params.autoplay = autoplay !== \"false\";\r\n\r\n    params.name = wrapperAttributes.getNamedItem('data-name') ? wrapperAttributes.getNamedItem('data-name').value :  wrapperAttributes.getNamedItem('data-bm-name') ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value :  '';\r\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') ? wrapperAttributes.getNamedItem('data-anim-prerender').value :  wrapperAttributes.getNamedItem('data-bm-prerender') ? wrapperAttributes.getNamedItem('data-bm-prerender').value :  wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\r\n\r\n    if(prerender === 'false'){\r\n        params.prerender = false;\r\n    }\r\n    this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function(data) {\r\n    if(data.op > this.animationData.op){\r\n        this.animationData.op = data.op;\r\n        this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n    }\r\n    var layers = this.animationData.layers;\r\n    var i, len = layers.length;\r\n    var newLayers = data.layers;\r\n    var j, jLen = newLayers.length;\r\n    for(j=0;j<jLen;j+=1){\r\n        i = 0;\r\n        while(i<len){\r\n            if(layers[i].id == newLayers[j].id){\r\n                layers[i] = newLayers[j];\r\n                break;\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n    if(data.chars || data.fonts){\r\n        this.renderer.globalData.fontManager.addChars(data.chars);\r\n        this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n    }\r\n    if(data.assets){\r\n        len = data.assets.length;\r\n        for(i = 0; i < len; i += 1){\r\n            this.animationData.assets.push(data.assets[i]);\r\n        }\r\n    }\r\n    this.animationData.__complete = false;\r\n    dataManager.completeData(this.animationData,this.renderer.globalData.fontManager);\r\n    this.renderer.includeLayers(data.layers);\r\n    if(expressionsPlugin){\r\n        expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments || segments.length === 0 || !this.autoloadSegments){\r\n        this.trigger('data_ready');\r\n        this.timeCompleted = this.totalFrames;\r\n        return;\r\n    }\r\n    var segment = segments.shift();\r\n    this.timeCompleted = segment.time * this.frameRate;\r\n    var segmentPath = this.path+this.fileName+'_' + this.segmentPos + '.json';\r\n    this.segmentPos += 1;\r\n    assetLoader.load(segmentPath, this.includeLayers.bind(this), function() {\r\n        this.trigger('data_failed');\r\n    }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments) {\r\n        this.timeCompleted = this.totalFrames;\r\n    }\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function() {\r\n    this.trigger('loaded_images');\r\n    this.checkLoaded()\r\n}\r\n\r\nAnimationItem.prototype.preloadImages = function() {\r\n    this.imagePreloader.setAssetsPath(this.assetsPath);\r\n    this.imagePreloader.setPath(this.path);\r\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n}\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n    if(!this.renderer){\r\n        return;\r\n    }\r\n    try {\r\n        this.animationData = animData;\r\n\r\n        if (this.initialSegment) {\r\n            this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n            this.firstFrame = Math.round(this.initialSegment[0]);\r\n        } else {\r\n            this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n            this.firstFrame = Math.round(this.animationData.ip);\r\n        }\r\n        this.renderer.configAnimation(animData);\r\n        if(!animData.assets){\r\n            animData.assets = [];\r\n        }\r\n\r\n        this.assets = this.animationData.assets;\r\n        this.frameRate = this.animationData.fr;\r\n        this.frameMult = this.animationData.fr / 1000;\r\n        this.renderer.searchExtraCompositions(animData.assets);\r\n        this.trigger('config_ready');\r\n        this.preloadImages();\r\n        this.loadSegments();\r\n        this.updaFrameModifier();\r\n        this.waitForFontsLoaded();\r\n        if (this.isPaused) {\r\n            this.audioController.pause();\r\n        }\r\n    } catch(error) {\r\n        this.triggerConfigError(error);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function(){\r\n    if(!this.renderer) {\r\n        return;\r\n    }\r\n    if(this.renderer.globalData.fontManager.isLoaded){\r\n        this.checkLoaded();\r\n    }else{\r\n        setTimeout(this.waitForFontsLoaded.bind(this),20);\r\n    }\r\n}\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n    if (!this.isLoaded \r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loaded() || this.renderer.rendererType !== 'canvas')\r\n    ) {\r\n        this.isLoaded = true;\r\n        dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\r\n        if(expressionsPlugin){\r\n            expressionsPlugin.initExpressions(this);\r\n        }\r\n        this.renderer.initItems();\r\n        setTimeout(function() {\r\n            this.trigger('DOMLoaded');\r\n        }.bind(this), 0);\r\n        this.gotoFrame();\r\n        if(this.autoplay){\r\n            this.play();\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n    this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function(flag){\r\n    this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame;\r\n\r\n    if(this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted){\r\n        this.currentFrame = this.timeCompleted;\r\n    }\r\n    this.trigger('enterFrame');\r\n    this.renderFrame();\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n    if(this.isLoaded === false){\r\n        return;\r\n    }\r\n    try {\r\n        this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n    } catch(error) {\r\n        this.triggerRenderFrameError(error);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if (this.isPaused === true) {\r\n        this.isPaused = false;\r\n        this.audioController.resume();\r\n        if(this._idle){\r\n            this._idle = false;\r\n            this.trigger('_active');\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === false){\r\n        this.isPaused = true;\r\n        this._idle = true;\r\n        this.trigger('_idle');\r\n        this.audioController.pause();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === true){\r\n        this.play();\r\n    }else{\r\n        this.pause();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    this.pause();\r\n    this.playCount = 0;\r\n    this._completedLoop = false;\r\n    this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(isFrame){\r\n        this.setCurrentRawFrameValue(value);\r\n    }else{\r\n        this.setCurrentRawFrameValue(value * this.frameModifier);\r\n    }\r\n    this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n    this.goToAndStop(value, isFrame, name);\r\n    this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n    if (this.isPaused === true || this.isLoaded === false) {\r\n        return;\r\n    }\r\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n    var _isComplete = false;\r\n    // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n        if (!this.loop || this.playCount === this.loop) {\r\n            if (!this.checkSegments(nextValue >  this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n                _isComplete = true;\r\n                nextValue = this.totalFrames - 1;\r\n            }\r\n        } else if (nextValue >= this.totalFrames) {\r\n            this.playCount += 1;\r\n            if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n                this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n                this._completedLoop = true;\r\n                this.trigger('loopComplete');\r\n            }\r\n        } else {\r\n            this.setCurrentRawFrameValue(nextValue);\r\n        }\r\n    } else if(nextValue < 0) {\r\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n            if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\r\n                this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n                if(!this._completedLoop) {\r\n                    this._completedLoop = true;\r\n                } else {\r\n                    this.trigger('loopComplete');\r\n                }\r\n            } else {\r\n                _isComplete = true;\r\n                nextValue = 0;\r\n            }\r\n        }\r\n    } else {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n    if (_isComplete) {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n        this.pause();\r\n        this.trigger('complete');\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function(arr, offset){\r\n    this.playCount = 0;\r\n    if(arr[1] < arr[0]){\r\n        if(this.frameModifier > 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(-1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[0] - arr[1];\r\n        this.firstFrame = arr[1];\r\n        this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n    } else if(arr[1] > arr[0]){\r\n        if(this.frameModifier < 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[1] - arr[0];\r\n        this.firstFrame = arr[0];\r\n        this.setCurrentRawFrameValue(0.001 + offset);\r\n    }\r\n    this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init,end) {\r\n    var pendingFrame = -1;\r\n    if(this.isPaused) {\r\n        if (this.currentRawFrame + this.firstFrame < init) {\r\n            pendingFrame = init;\r\n        } else if (this.currentRawFrame + this.firstFrame > end) {\r\n            pendingFrame = end - init;\r\n        }\r\n    }\r\n\r\n    this.firstFrame = init;\r\n    this.timeCompleted = this.totalFrames = end - init;\r\n    if(pendingFrame !== -1) {\r\n        this.goToAndStop(pendingFrame,true);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n    if (forceFlag) {\r\n        this.segments.length = 0;\r\n    }\r\n    if (typeof arr[0] === 'object') {\r\n        var i, len = arr.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            this.segments.push(arr[i]);\r\n        }\r\n    } else {\r\n        this.segments.push(arr);\r\n    }\r\n    if (this.segments.length && forceFlag) {\r\n        this.adjustSegment(this.segments.shift(), 0);\r\n    }\r\n    if (this.isPaused) {\r\n        this.play();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n    this.segments.length = 0;\r\n    this.segments.push([this.animationData.ip,this.animationData.op]);\r\n    //this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op - this.animationData.ip+this.animationData.ip*this.frameRate)]);\r\n    if (forceFlag) {\r\n        this.checkSegments(0);\r\n    }\r\n};\r\nAnimationItem.prototype.checkSegments = function(offset) {\r\n    if (this.segments.length) {\r\n        this.adjustSegment(this.segments.shift(), offset);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n    if ((name && this.name != name) || !this.renderer) {\r\n        return;\r\n    }\r\n    this.renderer.destroy();\r\n    this.imagePreloader.destroy();\r\n    this.trigger('destroy');\r\n    this._cbs = null;\r\n    this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null;\r\n    this.renderer = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function(value){\r\n    this.currentRawFrame = value;\r\n    this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n    this.playSpeed = val;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n    this.playDirection = val < 0 ? -1 : 1;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n    if (name && this.name !== name) {\r\n        return;\r\n    }\r\n    this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n    return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n    if (name && this.name !== name) {\r\n        return;\r\n    }\r\n    this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n    if(name && this.name !== name){\r\n        return;\r\n    }\r\n    this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n    this.audioController.setRate(this.playSpeed * this.playDirection)\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n    return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n    var path = '';\r\n    if(assetData.e) {\r\n        path = assetData.p;\r\n    } else if(this.assetsPath){\r\n        var imagePath = assetData.p;\r\n        if(imagePath.indexOf('images/') !== -1){\r\n            imagePath = imagePath.split('/')[1];\r\n        }\r\n        path = this.assetsPath + imagePath;\r\n    } else {\r\n        path = this.path;\r\n        path += assetData.u ? assetData.u : '';\r\n        path += assetData.p;\r\n    }\r\n    return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n    var i = 0, len = this.assets.length;\r\n    while (i < len) {\r\n        if(id == this.assets[i].id){\r\n            return this.assets[i];\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n    this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n    this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function(name){\r\n    if(this._cbs && this._cbs[name]){\r\n        switch(name){\r\n            case 'enterFrame':\r\n                this.triggerEvent(name,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameModifier));\r\n                break;\r\n            case 'loopComplete':\r\n                this.triggerEvent(name,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n                break;\r\n            case 'complete':\r\n                this.triggerEvent(name,new BMCompleteEvent(name,this.frameMult));\r\n                break;\r\n            case 'segmentStart':\r\n                this.triggerEvent(name,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n                break;\r\n            case 'destroy':\r\n                this.triggerEvent(name,new BMDestroyEvent(name,this));\r\n                break;\r\n            default:\r\n                this.triggerEvent(name);\r\n        }\r\n    }\r\n    if(name === 'enterFrame' && this.onEnterFrame){\r\n        this.onEnterFrame.call(this,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));\r\n    }\r\n    if(name === 'loopComplete' && this.onLoopComplete){\r\n        this.onLoopComplete.call(this,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n    }\r\n    if(name === 'complete' && this.onComplete){\r\n        this.onComplete.call(this,new BMCompleteEvent(name,this.frameMult));\r\n    }\r\n    if(name === 'segmentStart' && this.onSegmentStart){\r\n        this.onSegmentStart.call(this,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n    }\r\n    if(name === 'destroy' && this.onDestroy){\r\n        this.onDestroy.call(this,new BMDestroyEvent(name,this));\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function(nativeError) {\r\n\r\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n        this.onError.call(this, error);\r\n    }\r\n}\r\n\r\nAnimationItem.prototype.triggerConfigError = function(nativeError) {\r\n\r\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n        this.onError.call(this, error);\r\n    }\r\n}\r\nvar Expressions = (function(){\r\n    var ob = {};\r\n    ob.initExpressions = initExpressions;\r\n\r\n\r\n    function initExpressions(animation){\r\n\r\n    \tvar stackCount = 0;\r\n    \tvar registers = [];\r\n\r\n    \tfunction pushExpression() {\r\n\t\t\tstackCount += 1;\r\n    \t}\r\n\r\n    \tfunction popExpression() {\r\n\t\t\tstackCount -= 1;\r\n\t\t\tif (stackCount === 0) {\r\n\t\t\t\treleaseInstances();\r\n\t\t\t}\r\n    \t}\r\n\r\n    \tfunction registerExpressionProperty(expression) {\r\n    \t\tif (registers.indexOf(expression) === -1) {\r\n\t\t\t\tregisters.push(expression)\r\n    \t\t}\r\n    \t}\r\n\r\n    \tfunction releaseInstances() {\r\n    \t\tvar i, len = registers.length;\r\n    \t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\t\tregisters[i].release();\r\n    \t\t}\r\n    \t\tregisters.length = 0;\r\n    \t}\r\n\r\n        animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n        animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n        animation.renderer.globalData.pushExpression = pushExpression;\r\n        animation.renderer.globalData.popExpression = popExpression;\r\n        animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n    }\r\n   return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\nvar ExpressionManager = (function(){\r\n    'use strict';\r\n    var ob = {};\r\n    var Math = BMMath;\r\n    var window = null;\r\n    var document = null;\r\n\r\n    function $bm_isInstanceOfArray(arr) {\r\n        return arr.constructor === Array || arr.constructor === Float32Array;\r\n    }\r\n\r\n    function isNumerable(tOfV, v) {\r\n        return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n    }\r\n\r\n    function $bm_neg(a){\r\n        var tOfA = typeof a;\r\n        if(tOfA === 'number' || tOfA === 'boolean'  || a instanceof Number ){\r\n            return -a;\r\n        }\r\n        if($bm_isInstanceOfArray(a)){\r\n            var i, lenA = a.length;\r\n            var retArr = [];\r\n            for(i=0;i<lenA;i+=1){\r\n                retArr[i] = -a[i];\r\n            }\r\n            return retArr;\r\n        }\r\n        if (a.propType) {\r\n            return a.v;\r\n        }\r\n    }\r\n\r\n    var easeInBez = BezierFactory.getBezierEasing(0.333,0,.833,.833, 'easeIn').get;\r\n    var easeOutBez = BezierFactory.getBezierEasing(0.167,0.167,.667,1, 'easeOut').get;\r\n    var easeInOutBez = BezierFactory.getBezierEasing(.33,0,.667,1, 'easeInOut').get;\r\n\r\n    function sum(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if(tOfA === 'string' || tOfB === 'string'){\r\n            return a + b;\r\n        }\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a + b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            a = a.slice(0);\r\n            a[0] = a[0] + b;\r\n            return a;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            b = b.slice(0);\r\n            b[0] = a + b[0];\r\n            return b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)){\r\n            \r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] + b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n    var add = sum;\r\n\r\n    function sub(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            if(tOfA === 'string') {\r\n                a = parseInt(a);\r\n            }\r\n            if(tOfB === 'string') {\r\n                b = parseInt(b);\r\n            }\r\n            return a - b;\r\n        }\r\n        if( $bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            a = a.slice(0);\r\n            a[0] = a[0] - b;\r\n            return a;\r\n        }\r\n        if(isNumerable(tOfA, a) &&  $bm_isInstanceOfArray(b)){\r\n            b = b.slice(0);\r\n            b[0] = a - b[0];\r\n            return b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)){\r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] - b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function mul(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a * b;\r\n        }\r\n\r\n        var i, len;\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] * b;\r\n            }\r\n            return arr;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a * b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function div(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a / b;\r\n        }\r\n        var i, len;\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] / b;\r\n            }\r\n            return arr;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a / b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n    function mod(a,b) {\r\n        if(typeof a === 'string') {\r\n            a = parseInt(a);\r\n        }\r\n        if(typeof b === 'string') {\r\n            b = parseInt(b);\r\n        }\r\n        return a % b;\r\n    }\r\n    var $bm_sum = sum;\r\n    var $bm_sub = sub;\r\n    var $bm_mul = mul;\r\n    var $bm_div = div;\r\n    var $bm_mod = mod;\r\n\r\n    function clamp(num, min, max) {\r\n        if(min > max){\r\n            var mm = max;\r\n            max = min;\r\n            min = mm;\r\n        }\r\n        return Math.min(Math.max(num, min), max);\r\n    }\r\n\r\n    function radiansToDegrees(val) {\r\n        return val/degToRads;\r\n    }\r\n    var radians_to_degrees = radiansToDegrees;\r\n\r\n    function degreesToRadians(val) {\r\n        return val*degToRads;\r\n    }\r\n    var degrees_to_radians = radiansToDegrees;\r\n\r\n    var helperLengthArray = [0,0,0,0,0,0];\r\n\r\n    function length(arr1, arr2) {\r\n        if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n            arr2 = arr2 || 0;\r\n            return Math.abs(arr1 - arr2);\r\n        }\r\n        if(!arr2) {\r\n            arr2 = helperLengthArray;\r\n        }\r\n        var i, len = Math.min(arr1.length, arr2.length);\r\n        var addedLength = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n            addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n        }\r\n        return Math.sqrt(addedLength);\r\n    }\r\n\r\n    function normalize(vec) {\r\n        return div(vec, length(vec));\r\n    }\r\n\r\n    function rgbToHsl(val) {\r\n        var r = val[0]; var g = val[1]; var b = val[2];\r\n        var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n        var h, s, l = (max + min) / 2;\r\n\r\n        if(max == min){\r\n            h = s = 0; // achromatic\r\n        }else{\r\n            var d = max - min;\r\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n            switch(max){\r\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n                case g: h = (b - r) / d + 2; break;\r\n                case b: h = (r - g) / d + 4; break;\r\n            }\r\n            h /= 6;\r\n        }\r\n\r\n        return [h, s, l,val[3]];\r\n    }\r\n\r\n    function hue2rgb(p, q, t){\r\n        if(t < 0) t += 1;\r\n        if(t > 1) t -= 1;\r\n        if(t < 1/6) return p + (q - p) * 6 * t;\r\n        if(t < 1/2) return q;\r\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n        return p;\r\n    }\r\n\r\n    function hslToRgb(val){\r\n        var h = val[0];\r\n        var s = val[1];\r\n        var l = val[2];\r\n\r\n        var r, g, b;\r\n\r\n        if(s === 0){\r\n            r = g = b = l; // achromatic\r\n        }else{\r\n\r\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n            var p = 2 * l - q;\r\n            r = hue2rgb(p, q, h + 1/3);\r\n            g = hue2rgb(p, q, h);\r\n            b = hue2rgb(p, q, h - 1/3);\r\n        }\r\n\r\n        return [r, g , b, val[3]];\r\n    }\r\n\r\n    function linear(t, tMin, tMax, value1, value2){\r\n        if(value1 === undefined || value2 === undefined){\r\n            value1 = tMin;\r\n            value2 = tMax;\r\n            tMin = 0;\r\n            tMax = 1;\r\n        }\r\n        if(tMax < tMin) {\r\n            var _tMin = tMax;\r\n            tMax = tMin;\r\n            tMin = _tMin;\r\n        }\r\n        if(t <= tMin) {\r\n            return value1;\r\n        }else if(t >= tMax){\r\n            return value2;\r\n        }\r\n        var perc = tMax === tMin ? 0 : (t-tMin)/(tMax-tMin);\r\n        if(!value1.length){\r\n            return value1 + (value2-value1)*perc;\r\n        }\r\n        var i, len = value1.length;\r\n        var arr = createTypedArray('float32', len);\r\n        for(i=0;i<len;i+=1){\r\n            arr[i] = value1[i] + (value2[i]-value1[i])*perc;\r\n        }\r\n        return arr;\r\n    }\r\n    function random(min,max){\r\n        if(max === undefined){\r\n            if(min === undefined){\r\n                min = 0;\r\n                max = 1;\r\n            } else {\r\n                max = min;\r\n                min = undefined;\r\n            }\r\n        }\r\n        if(max.length){\r\n            var i, len = max.length;\r\n            if(!min){\r\n                min = createTypedArray('float32', len);\r\n            }\r\n            var arr = createTypedArray('float32', len);\r\n            var rnd = BMMath.random();\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = min[i] + rnd*(max[i]-min[i]);\r\n            }\r\n            return arr;\r\n        }\r\n        if(min === undefined){\r\n            min = 0;\r\n        }\r\n        var rndm = BMMath.random();\r\n        return min + rndm*(max-min);\r\n    }\r\n\r\n    function createPath(points, inTangents, outTangents, closed) {\r\n        var i, len = points.length;\r\n        var path = shape_pool.newElement();\r\n        path.setPathData(!!closed, len);\r\n        var arrPlaceholder = [0,0], inVertexPoint, outVertexPoint;\r\n        for(i = 0; i < len; i += 1) {\r\n            inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\r\n            outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\r\n            path.setTripleAt(points[i][0],points[i][1],outVertexPoint[0] + points[i][0],outVertexPoint[1] + points[i][1],inVertexPoint[0] + points[i][0],inVertexPoint[1] + points[i][1],i,true);\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function initiateExpression(elem,data,property){\r\n        var val = data.x;\r\n        var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n        var _needsRandom = val.indexOf('random') !== -1;\r\n        var elemType = elem.data.ty;\r\n        var transform,$bm_transform,content,effect;\r\n        var thisProperty = property;\r\n        thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n        Object.defineProperty(thisProperty, 'value', {\r\n            get: function() {\r\n                return thisProperty.v\r\n            }\r\n        })\r\n        elem.comp.frameDuration = 1/elem.comp.globalData.frameRate;\r\n        elem.comp.displayStartTime = 0;\r\n        var inPoint = elem.data.ip/elem.comp.globalData.frameRate;\r\n        var outPoint = elem.data.op/elem.comp.globalData.frameRate;\r\n        var width = elem.data.sw ? elem.data.sw : 0;\r\n        var height = elem.data.sh ? elem.data.sh : 0;\r\n        var name = elem.data.nm;\r\n        var loopIn, loop_in, loopOut, loop_out, smooth;\r\n        var toWorld,fromWorld,fromComp,toComp,fromCompToSurface, position, rotation, anchorPoint, scale, thisLayer, thisComp,mask,valueAtTime,velocityAtTime;\r\n        var __expression_functions = [];\r\n        if(data.xf) {\r\n            var i, len = data.xf.length;\r\n            for(i = 0; i < len; i += 1) {\r\n                __expression_functions[i] = eval('(function(){ return ' + data.xf[i] + '}())');\r\n            }\r\n        }\r\n\r\n        var scoped_bm_rt;\r\n        var expression_function = eval('[function _expression_function(){' + val+';scoped_bm_rt=$bm_rt}' + ']')[0];\r\n        var numKeys = property.kf ? data.k.length : 0;\r\n\r\n        var active = !this.data || this.data.hd !== true;\r\n\r\n        var wiggle = function wiggle(freq,amp){\r\n            var i,j, len = this.pv.length ? this.pv.length : 1;\r\n            var addedAmps = createTypedArray('float32', len);\r\n            freq = 5;\r\n            var iterations = Math.floor(time*freq);\r\n            i = 0;\r\n            j = 0;\r\n            while(i<iterations){\r\n                //var rnd = BMMath.random();\r\n                for(j=0;j<len;j+=1){\r\n                    addedAmps[j] += -amp + amp*2*BMMath.random();\r\n                    //addedAmps[j] += -amp + amp*2*rnd;\r\n                }\r\n                i += 1;\r\n            }\r\n            //var rnd2 = BMMath.random();\r\n            var periods = time*freq;\r\n            var perc = periods - Math.floor(periods);\r\n            var arr = createTypedArray('float32', len);\r\n            if(len>1){\r\n                for(j=0;j<len;j+=1){\r\n                    arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*BMMath.random())*perc;\r\n                    //arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n                    //arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n                }\r\n                return arr;\r\n            } else {\r\n                return this.pv + addedAmps[0] + (-amp + amp*2*BMMath.random())*perc;\r\n            }\r\n        }.bind(this);\r\n\r\n        if(thisProperty.loopIn) {\r\n            loopIn = thisProperty.loopIn.bind(thisProperty);\r\n            loop_in = loopIn;\r\n        }\r\n\r\n        if(thisProperty.loopOut) {\r\n            loopOut = thisProperty.loopOut.bind(thisProperty);\r\n            loop_out = loopOut;\r\n        }\r\n\r\n        if(thisProperty.smooth) {\r\n            smooth = thisProperty.smooth.bind(thisProperty);\r\n        }\r\n\r\n        function loopInDuration(type,duration){\r\n            return loopIn(type,duration,true);\r\n        }\r\n\r\n        function loopOutDuration(type,duration){\r\n            return loopOut(type,duration,true);\r\n        }\r\n\r\n        if(this.getValueAtTime) {\r\n            valueAtTime = this.getValueAtTime.bind(this);\r\n        }\r\n\r\n        if(this.getVelocityAtTime) {\r\n            velocityAtTime = this.getVelocityAtTime.bind(this);\r\n        }\r\n\r\n        var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n        function lookAt(elem1,elem2){\r\n            var fVec = [elem2[0]-elem1[0],elem2[1]-elem1[1],elem2[2]-elem1[2]];\r\n            var pitch = Math.atan2(fVec[0],Math.sqrt(fVec[1]*fVec[1]+fVec[2]*fVec[2]))/degToRads;\r\n            var yaw = -Math.atan2(fVec[1],fVec[2])/degToRads;\r\n            return [yaw,pitch,0];\r\n        }\r\n\r\n        function easeOut(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function easeIn(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function ease(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n            if(val1 === undefined){\r\n                val1 = tMin;\r\n                val2 = tMax;\r\n            } else {\r\n                t = (t - tMin) / (tMax - tMin);\r\n            }\r\n            t = t > 1 ? 1 : t < 0 ? 0 : t;\r\n            var mult = fn(t);\r\n            if($bm_isInstanceOfArray(val1)) {\r\n                var i, len = val1.length;\r\n                var arr = createTypedArray('float32', len);\r\n                for (i = 0; i < len; i += 1) {\r\n                    arr[i] = (val2[i] - val1[i]) * mult + val1[i];\r\n                }\r\n                return arr;\r\n            } else {\r\n                return (val2 - val1) * mult + val1;\r\n            }\r\n        }\r\n\r\n        function nearestKey(time){\r\n            var i, len = data.k.length,index,keyTime;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                index = 0;\r\n                keyTime = 0;\r\n            } else {\r\n                index = -1;\r\n                time *= elem.comp.globalData.frameRate;\r\n                if (time < data.k[0].t) {\r\n                    index = 1;\r\n                    keyTime = data.k[0].t;\r\n                } else {\r\n                    for(i=0;i<len-1;i+=1){\r\n                        if(time === data.k[i].t){\r\n                            index = i + 1;\r\n                            keyTime = data.k[i].t;\r\n                            break;\r\n                        }else if(time>data.k[i].t && time<data.k[i+1].t){\r\n                            if(time-data.k[i].t > data.k[i+1].t - time){\r\n                                index = i + 2;\r\n                                keyTime = data.k[i+1].t;\r\n                            } else {\r\n                                index = i + 1;\r\n                                keyTime = data.k[i].t;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(index === -1){\r\n                        index = i + 1;\r\n                        keyTime = data.k[i].t;\r\n                    }\r\n                }\r\n                \r\n            }\r\n            var ob = {};\r\n            ob.index = index;\r\n            ob.time = keyTime/elem.comp.globalData.frameRate;\r\n            return ob;\r\n        }\r\n\r\n        function key(ind){\r\n            var ob, i, len;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                throw new Error('The property has no keyframe at index ' + ind);\r\n            }\r\n            ind -= 1;\r\n            ob = {\r\n                time: data.k[ind].t/elem.comp.globalData.frameRate,\r\n                value: []\r\n            };\r\n            var arr = data.k[ind].hasOwnProperty('s') ? data.k[ind].s : data.k[ind - 1].e;\r\n\r\n            len = arr.length;\r\n            for(i=0;i<len;i+=1){\r\n                ob[i] = arr[i];\r\n                ob.value[i] = arr[i]\r\n            }\r\n            return ob;\r\n        }\r\n\r\n        function framesToTime(frames, fps) { \r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return frames / fps;\r\n        }\r\n\r\n        function timeToFrames(t, fps) {\r\n            if (!t && t !== 0) {\r\n                t = time;\r\n            }\r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return t * fps;\r\n        }\r\n\r\n        function seedRandom(seed){\r\n            BMMath.seedrandom(randSeed + seed);\r\n        }\r\n\r\n        function sourceRectAtTime() {\r\n            return elem.sourceRectAtTime();\r\n        }\r\n\r\n        function substring(init, end) {\r\n            if(typeof value === 'string') {\r\n                if(end === undefined) {\r\n                return value.substring(init)\r\n                }\r\n                return value.substring(init, end)\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function substr(init, end) {\r\n            if(typeof value === 'string') {\r\n                if(end === undefined) {\r\n                return value.substr(init)\r\n                }\r\n                return value.substr(init, end)\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function posterizeTime(framesPerSecond) {\r\n            time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond\r\n            value = valueAtTime(time)\r\n        }\r\n\r\n        var time, velocity, value, text, textIndex, textTotal, selectorValue;\r\n        var index = elem.data.ind;\r\n        var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n        var parent;\r\n        var randSeed = Math.floor(Math.random()*1000000);\r\n        var globalData = elem.globalData;\r\n        function executeExpression(_value) {\r\n            // globalData.pushExpression();\r\n            value = _value;\r\n            if (_needsRandom) {\r\n                seedRandom(randSeed);\r\n            }\r\n            if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n                return value;\r\n            }\r\n            if(this.propType === 'textSelector'){\r\n                textIndex = this.textIndex;\r\n                textTotal = this.textTotal;\r\n                selectorValue = this.selectorValue;\r\n            }\r\n            if (!thisLayer) {\r\n                text = elem.layerInterface.text;\r\n                thisLayer = elem.layerInterface;\r\n                thisComp = elem.comp.compInterface;\r\n                toWorld = thisLayer.toWorld.bind(thisLayer);\r\n                fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n                fromComp = thisLayer.fromComp.bind(thisLayer);\r\n                toComp = thisLayer.toComp.bind(thisLayer);\r\n                mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n                fromCompToSurface = fromComp;\r\n            }\r\n            if (!transform) {\r\n                transform = elem.layerInterface(\"ADBE Transform Group\");\r\n                $bm_transform = transform;\r\n                if(transform) {\r\n                    anchorPoint = transform.anchorPoint;\r\n                    /*position = transform.position;\r\n                    rotation = transform.rotation;\r\n                    scale = transform.scale;*/\r\n                }\r\n            }\r\n            \r\n            if (elemType === 4 && !content) {\r\n                content = thisLayer(\"ADBE Root Vectors Group\");\r\n            }\r\n            if (!effect) {\r\n                effect = thisLayer(4);\r\n            }\r\n            hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n            if (hasParent && !parent) {\r\n                parent = elem.hierarchy[0].layerInterface;\r\n            }\r\n            time = this.comp.renderedFrame/this.comp.globalData.frameRate;\r\n            if (needsVelocity) {\r\n                velocity = velocityAtTime(time);\r\n            }\r\n            expression_function();\r\n            this.frameExpressionId = elem.globalData.frameId;\r\n\r\n            //TODO: Check if it's possible to return on ShapeInterface the .v value\r\n            if (scoped_bm_rt.propType === \"shape\") {\r\n                scoped_bm_rt = scoped_bm_rt.v;\r\n            }\r\n            // globalData.popExpression();\r\n            return scoped_bm_rt;\r\n        }\r\n        return executeExpression;\r\n    }\r\n\r\n    ob.initiateExpression = initiateExpression;\r\n    return ob;\r\n}());\r\nvar expressionHelpers = (function(){\r\n\r\n    function searchExpressions(elem,data,prop){\r\n        if(data.x){\r\n            prop.k = true;\r\n            prop.x = true;\r\n            prop.initiateExpression = ExpressionManager.initiateExpression;\r\n            prop.effectsSequence.push(prop.initiateExpression(elem,data,prop).bind(prop));\r\n        }\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastFrame) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n            this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n            this._cachingAtTime.lastFrame = frameNum;\r\n        }\r\n        return this._cachingAtTime.value;\r\n\r\n    }\r\n\r\n    function getSpeedAtTime(frameNum) {\r\n        var delta = -0.01;\r\n        var v1 = this.getValueAtTime(frameNum);\r\n        var v2 = this.getValueAtTime(frameNum + delta);\r\n        var speed = 0;\r\n        if(v1.length){\r\n            var i;\r\n            for(i=0;i<v1.length;i+=1){\r\n                speed += Math.pow(v2[i] - v1[i], 2);\r\n            }\r\n            speed = Math.sqrt(speed) * 100;\r\n        } else {\r\n            speed = 0;\r\n        }\r\n        return speed;\r\n    }\r\n\r\n    function getVelocityAtTime(frameNum) {\r\n        if(this.vel !== undefined){\r\n            return this.vel;\r\n        }\r\n        var delta = -0.001;\r\n        //frameNum += this.elem.data.st;\r\n        var v1 = this.getValueAtTime(frameNum);\r\n        var v2 = this.getValueAtTime(frameNum + delta);\r\n        var velocity;\r\n        if(v1.length){\r\n            velocity = createTypedArray('float32', v1.length);\r\n            var i;\r\n            for(i=0;i<v1.length;i+=1){\r\n                //removing frameRate\r\n                //if needed, don't add it here\r\n                //velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n                velocity[i] = (v2[i] - v1[i])/delta;\r\n            }\r\n        } else {\r\n            velocity = (v2 - v1)/delta;\r\n        }\r\n        return velocity;\r\n    }\r\n\r\n    function getStaticValueAtTime() {\r\n        return this.pv;\r\n    }\r\n\r\n    function setGroupProperty(propertyGroup){\r\n        this.propertyGroup = propertyGroup;\r\n    }\r\n\r\n\treturn {\r\n\t\tsearchExpressions: searchExpressions,\r\n\t\tgetSpeedAtTime: getSpeedAtTime,\r\n\t\tgetVelocityAtTime: getVelocityAtTime,\r\n\t\tgetValueAtTime: getValueAtTime,\r\n\t\tgetStaticValueAtTime: getStaticValueAtTime,\r\n\t\tsetGroupProperty: setGroupProperty,\r\n\t}\r\n}());\r\n(function addPropertyDecorator() {\r\n\r\n    function loopOut(type,duration,durationFlag){\r\n        if(!this.k || !this.keyframes){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n        if(currentFrame<=lastKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, firstKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,lastKeyFrame - this.elem.data.ip);\r\n                } else {\r\n                    cycleDuration = Math.abs(lastKeyFrame - elem.comp.globalData.frameRate*duration);\r\n                }\r\n                firstKeyFrame = lastKeyFrame - cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(iterations % 2 !== 0){\r\n                    return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = (endV[i]-initV[i])*repeats + current[i];\r\n                    }\r\n                    return ret;\r\n                }\r\n                return (endV-initV)*repeats + current;\r\n            } else if(type === 'continue'){\r\n                var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(lastValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = lastValue[i] + (lastValue[i]-nextLastValue[i])*((currentFrame - lastKeyFrame)/ this.comp.globalData.frameRate)/0.0005;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return lastValue + (lastValue-nextLastValue)*(((currentFrame - lastKeyFrame))/0.001);\r\n            }\r\n            return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function loopIn(type,duration, durationFlag) {\r\n        if(!this.k){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var firstKeyFrame = keyframes[0].t;\r\n        if(currentFrame>=firstKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, lastKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                lastKeyFrame = keyframes[duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,this.elem.data.op - firstKeyFrame);\r\n                } else {\r\n                    cycleDuration = Math.abs(elem.comp.globalData.frameRate*duration);\r\n                }\r\n                lastKeyFrame = firstKeyFrame + cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((firstKeyFrame - currentFrame)/cycleDuration);\r\n                if(iterations % 2 === 0){\r\n                    return this.getValueAtTime((((firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((firstKeyFrame - currentFrame)/cycleDuration)+1;\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = current[i]-(endV[i]-initV[i])*repeats;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return current-(endV-initV)*repeats;\r\n            } else if(type === 'continue'){\r\n                var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(firstValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = firstValue[i] + (firstValue[i]-nextFirstValue[i])*(firstKeyFrame - currentFrame)/0.001;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return firstValue + (firstValue-nextFirstValue)*(firstKeyFrame - currentFrame)/0.001;\r\n            }\r\n            return this.getValueAtTime(((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function smooth(width, samples) {\r\n        if (!this.k){\r\n            return this.pv;\r\n        }\r\n        width = (width || 0.4) * 0.5;\r\n        samples = Math.floor(samples || 5);\r\n        if (samples <= 1) {\r\n            return this.pv;\r\n        }\r\n        var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n        var initFrame = currentTime - width;\r\n        var endFrame = currentTime + width;\r\n        var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n        var i = 0, j = 0;\r\n        var value;\r\n        if (this.pv.length) {\r\n            value = createTypedArray('float32', this.pv.length);\r\n        } else {\r\n            value = 0;\r\n        }\r\n        var sampleValue;\r\n        while (i < samples) {\r\n            sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n            if(this.pv.length) {\r\n                for (j = 0; j < this.pv.length; j += 1) {\r\n                    value[j] += sampleValue[j];\r\n                }\r\n            } else {\r\n                value += sampleValue;\r\n            }\r\n            i += 1;\r\n        }\r\n        if(this.pv.length) {\r\n            for (j = 0; j < this.pv.length; j += 1) {\r\n                value[j] /= samples;\r\n            }\r\n        } else {\r\n            value /= samples;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastFrame) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n            this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n            this._cachingAtTime.lastFrame = frameNum;\r\n        }\r\n        return this._cachingAtTime.value;\r\n\r\n    }\r\n\r\n    function getTransformValueAtTime(time) {\r\n        if (!this._transformCachingAtTime) {\r\n            this._transformCachingAtTime = {\r\n                v: new Matrix(),\r\n            };\r\n        }\r\n        ////\r\n        var matrix = this._transformCachingAtTime.v;\r\n        matrix.cloneFromProps(this.pre.props);\r\n        if (this.appliedTransformations < 1) {\r\n            var anchor = this.a.getValueAtTime(time);\r\n            matrix.translate(\r\n                -anchor[0] * this.a.mult,\r\n                -anchor[1] * this.a.mult,\r\n                anchor[2] * this.a.mult\r\n            );\r\n        }\r\n        if (this.appliedTransformations < 2) {\r\n            var scale = this.s.getValueAtTime(time);\r\n            matrix.scale(\r\n                scale[0] * this.s.mult,\r\n                scale[1] * this.s.mult,\r\n                scale[2] * this.s.mult\r\n            );\r\n        }\r\n        if (this.sk && this.appliedTransformations < 3) {\r\n            var skew = this.sk.getValueAtTime(time);\r\n            var skewAxis = this.sa.getValueAtTime(time);\r\n            matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\r\n        }\r\n        if (this.r && this.appliedTransformations < 4) {\r\n            var rotation = this.r.getValueAtTime(time);\r\n            matrix.rotate(-rotation * this.r.mult);\r\n        } else if (!this.r && this.appliedTransformations < 4){\r\n            var rotationZ = this.rz.getValueAtTime(time);\r\n            var rotationY = this.ry.getValueAtTime(time);\r\n            var rotationX = this.rx.getValueAtTime(time);\r\n            var orientation = this.or.getValueAtTime(time);\r\n            matrix.rotateZ(-rotationZ * this.rz.mult)\r\n            .rotateY(rotationY * this.ry.mult)\r\n            .rotateX(rotationX * this.rx.mult)\r\n            .rotateZ(-orientation[2] * this.or.mult)\r\n            .rotateY(orientation[1] * this.or.mult)\r\n            .rotateX(orientation[0] * this.or.mult);\r\n        }\r\n        if (this.data.p && this.data.p.s) {\r\n            var positionX = this.px.getValueAtTime(time);\r\n            var positionY = this.py.getValueAtTime(time);\r\n            if (this.data.p.z) {\r\n                var positionZ = this.pz.getValueAtTime(time);\r\n                matrix.translate(\r\n                    positionX * this.px.mult,\r\n                    positionY * this.py.mult,\r\n                    -positionZ * this.pz.mult\r\n                );\r\n            } else {\r\n                matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\r\n            }\r\n        } else {\r\n            var position = this.p.getValueAtTime(time);\r\n            matrix.translate(\r\n                position[0] * this.p.mult,\r\n                position[1] * this.p.mult,\r\n                -position[2] * this.p.mult\r\n            );\r\n        }\r\n        return matrix;\r\n        ////\r\n    }\r\n\r\n    function getTransformStaticValueAtTime(time) {\r\n        return this.v.clone(new Matrix());\r\n    }\r\n\r\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n    TransformPropertyFactory.getTransformProperty = function(elem, data, container) {\r\n        var prop = getTransformProperty(elem, data, container);\r\n        if(prop.dynamicProperties.length) {\r\n            prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        return prop;\r\n    };\r\n\r\n    var propertyGetProp = PropertyFactory.getProp;\r\n    PropertyFactory.getProp = function(elem,data,type, mult, container){\r\n        var prop = propertyGetProp(elem,data,type, mult, container);\r\n        //prop.getVelocityAtTime = getVelocityAtTime;\r\n        //prop.loopOut = loopOut;\r\n        //prop.loopIn = loopIn;\r\n        if(prop.kf){\r\n            prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        prop.loopOut = loopOut;\r\n        prop.loopIn = loopIn;\r\n        prop.smooth = smooth;\r\n        prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n        prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n        prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n        prop.propertyIndex = data.ix;\r\n        var value = 0;\r\n        if(type !== 0) {\r\n            value = createTypedArray('float32', data.a === 1 ?  data.k[0].s.length : data.k.length);\r\n        }\r\n        prop._cachingAtTime = {\r\n            lastFrame: initialDefaultFrame,\r\n            lastIndex: 0,\r\n            value: value\r\n        };\r\n        expressionHelpers.searchExpressions(elem,data,prop);\r\n        if(prop.k){\r\n            container.addDynamicProperty(prop);\r\n        }\r\n\r\n        return prop;\r\n    };\r\n\r\n    function getShapeValueAtTime(frameNum) {\r\n        //For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n        if (!this._cachingAtTime) {\r\n            this._cachingAtTime = {\r\n                shapeValue: shape_pool.clone(this.pv),\r\n                lastIndex: 0,\r\n                lastTime: initialDefaultFrame\r\n            };\r\n        }\r\n        \r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastTime) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n            this._cachingAtTime.lastTime = frameNum;\r\n            this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n        }\r\n        return this._cachingAtTime.shapeValue;\r\n    }\r\n\r\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n    function ShapeExpressions(){}\r\n    ShapeExpressions.prototype = {\r\n        vertices: function(prop, time){\r\n            if (this.k) {\r\n                this.getValue();\r\n            }\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            var i, len = shapePath._length;\r\n            var vertices = shapePath[prop];\r\n            var points = shapePath.v;\r\n            var arr = createSizedArray(len);\r\n            for(i = 0; i < len; i += 1) {\r\n                if(prop === 'i' || prop === 'o') {\r\n                    arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n                } else {\r\n                    arr[i] = [vertices[i][0], vertices[i][1]];\r\n                }\r\n                \r\n            }\r\n            return arr;\r\n        },\r\n        points: function(time){\r\n            return this.vertices('v', time);\r\n        },\r\n        inTangents: function(time){\r\n            return this.vertices('i', time);\r\n        },\r\n        outTangents: function(time){\r\n            return this.vertices('o', time);\r\n        },\r\n        isClosed: function(){\r\n            return this.v.c;\r\n        },\r\n        pointOnPath: function(perc, time){\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            if(!this._segmentsLength) {\r\n                this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n            }\r\n\r\n            var segmentsLength = this._segmentsLength;\r\n            var lengths = segmentsLength.lengths;\r\n            var lengthPos = segmentsLength.totalLength * perc;\r\n            var i = 0, len = lengths.length;\r\n            var j = 0, jLen;\r\n            var accumulatedLength = 0, pt;\r\n            while(i < len) {\r\n                if(accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n                    var initIndex = i;\r\n                    var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n                    var segmentPerc = (lengthPos - accumulatedLength)/lengths[i].addedLength;\r\n                    pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n                    break;\r\n                } else {\r\n                    accumulatedLength += lengths[i].addedLength;\r\n                }\r\n                i += 1;\r\n            }\r\n            if(!pt){\r\n                pt = shapePath.c ? [shapePath.v[0][0],shapePath.v[0][1]]:[shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1]];\r\n            }\r\n            return pt;\r\n        },\r\n        vectorOnPath: function(perc, time, vectorType){\r\n            //perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n            perc = perc == 1 ? this.v.c ? 0 : 0.999 : perc;\r\n            var pt1 = this.pointOnPath(perc, time);\r\n            var pt2 = this.pointOnPath(perc + 0.001, time);\r\n            var xLength = pt2[0] - pt1[0];\r\n            var yLength = pt2[1] - pt1[1];\r\n            var magnitude = Math.sqrt(Math.pow(xLength,2) + Math.pow(yLength,2));\r\n            if (magnitude === 0) {\r\n                return [0,0];\r\n            }\r\n            var unitVector = vectorType === 'tangent' ? [xLength/magnitude, yLength/magnitude] : [-yLength/magnitude, xLength/magnitude];\r\n            return unitVector;\r\n        },\r\n        tangentOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'tangent');\r\n        },\r\n        normalOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'normal');\r\n        },\r\n        setGroupProperty: expressionHelpers.setGroupProperty,\r\n        getValueAtTime: expressionHelpers.getStaticValueAtTime\r\n    };\r\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n    ShapePropertyFactory.getShapeProp = function(elem,data,type, arr, trims){\r\n        var prop = propertyGetShapeProp(elem,data,type, arr, trims);\r\n        prop.propertyIndex = data.ix;\r\n        prop.lock = false;\r\n        if(type === 3){\r\n            expressionHelpers.searchExpressions(elem,data.pt,prop);\r\n        } else if(type === 4){\r\n            expressionHelpers.searchExpressions(elem,data.ks,prop);\r\n        }\r\n        if(prop.k){\r\n            elem.addDynamicProperty(prop);\r\n        }\r\n        return prop;\r\n    };\r\n}());\r\n(function addDecorator() {\r\n\r\n    function searchExpressions(){\r\n        if(this.data.d.x){\r\n            this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this);\r\n            this.addEffect(this.getExpressionValue.bind(this));\r\n            return true;\r\n        }\r\n    }\r\n\r\n    TextProperty.prototype.getExpressionValue = function(currentValue, text) {\r\n        var newValue = this.calculateExpression(text);\r\n        if(currentValue.t !== newValue) {\r\n            var newData = {};\r\n            this.copyData(newData, currentValue);\r\n            newData.t = newValue.toString();\r\n            newData.__complete = false;\r\n            return newData;\r\n        }\r\n        return currentValue;\r\n    }\r\n\r\n    TextProperty.prototype.searchProperty = function(){\r\n\r\n        var isKeyframed = this.searchKeyframes();\r\n        var hasExpressions = this.searchExpressions();\r\n        this.kf = isKeyframed || hasExpressions;\r\n        return this.kf;\r\n    };\r\n\r\n    TextProperty.prototype.searchExpressions = searchExpressions;\r\n    \r\n}());\r\nvar ShapePathInterface = (\r\n\r\n\tfunction() {\r\n\r\n\t\treturn function pathInterfaceFactory(shape,view,propertyGroup){\r\n\t\t    var prop = view.sh;\r\n\r\n\t\t    function interfaceFunction(val){\r\n\t\t        if(val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2){\r\n\t\t            return interfaceFunction.path;\r\n\t\t        }\r\n\t\t    }\r\n\r\n\t\t    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\t\t    prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n\t\t    Object.defineProperties(interfaceFunction, {\r\n\t\t        'path': {\r\n\t\t            get: function(){\r\n\t\t                if(prop.k){\r\n\t\t                    prop.getValue();\r\n\t\t                }\r\n\t\t                return prop;\r\n\t\t            }\r\n\t\t        },\r\n\t\t        'shape': {\r\n\t\t            get: function(){\r\n\t\t                if(prop.k){\r\n\t\t                    prop.getValue();\r\n\t\t                }\r\n\t\t                return prop;\r\n\t\t            }\r\n\t\t        },\r\n\t\t        '_name': { value: shape.nm },\r\n\t\t        'ix': { value: shape.ix },\r\n\t\t        'propertyIndex': { value: shape.ix },\r\n\t\t        'mn': { value: shape.mn },\r\n\t\t        'propertyGroup': {value: propertyGroup},\r\n\t\t    });\r\n\t\t    return interfaceFunction;\r\n\t\t}\r\n\t}()\r\n)\r\nvar propertyGroupFactory = (function() {\r\n\treturn function(interfaceFunction, parentPropertyGroup) {\r\n\t\treturn function(val) {\r\n\t\t\tval = val === undefined ? 1 : val\r\n\t\t\tif(val <= 0){\r\n\t\t\t    return interfaceFunction;\r\n\t\t\t} else{\r\n\t\t\t    return parentPropertyGroup(val-1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}())\r\nvar PropertyInterface = (function() {\r\n\treturn function(propertyName, propertyGroup) {\r\n\r\n\t\tvar interfaceFunction = {\r\n\t\t\t_name: propertyName\r\n\t\t}\r\n\r\n\t\tfunction _propertyGroup(val){\r\n\t\t    val = val === undefined ? 1 : val\r\n\t\t    if(val <= 0){\r\n\t\t        return interfaceFunction;\r\n\t\t    } else {\r\n\t\t        return propertyGroup(--val);\r\n\t\t    }\r\n\t\t}\r\n\r\n\t\treturn _propertyGroup;\r\n\t}\r\n}())\r\nvar ShapeExpressionInterface = (function(){\r\n\r\n    function iterateElements(shapes,view, propertyGroup){\r\n        var arr = [];\r\n        var i, len = shapes ? shapes.length : 0;\r\n        for(i=0;i<len;i+=1){\r\n            if(shapes[i].ty == 'gr'){\r\n                arr.push(groupInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'fl'){\r\n                arr.push(fillInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'st'){\r\n                arr.push(strokeInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tm'){\r\n                arr.push(trimInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tr'){\r\n                //arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'el'){\r\n                arr.push(ellipseInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'sr'){\r\n                arr.push(starInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'sh'){\r\n                arr.push(ShapePathInterface(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rc'){\r\n                arr.push(rectInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rd'){\r\n                arr.push(roundedInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rp'){\r\n                arr.push(repeaterInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function contentsInterfaceFactory(shape,view, propertyGroup){\r\n       var interfaces;\r\n       var interfaceFunction = function _interfaceFunction(value){\r\n           var i = 0, len = interfaces.length;\r\n            while(i<len){\r\n                if(interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value){\r\n                   return interfaces[i];\r\n                }\r\n                i+=1;\r\n            }\r\n            if(typeof value === 'number'){\r\n               return interfaces[value-1];\r\n            }\r\n       };\r\n\r\n       interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n       interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n       interfaceFunction.numProperties = interfaces.length;\r\n       var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1],view.it[view.it.length - 1],interfaceFunction.propertyGroup);\r\n       interfaceFunction.transform = transformInterface;\r\n       interfaceFunction.propertyIndex = shape.cix;\r\n       interfaceFunction._name = shape.nm;\r\n\r\n       return interfaceFunction;\r\n   }\r\n\r\n    function groupInterfaceFactory(shape,view, propertyGroup){\r\n        var interfaceFunction = function _interfaceFunction(value){\r\n            switch(value){\r\n                case 'ADBE Vectors Group':\r\n                case 'Contents':\r\n                case 2:\r\n                    return interfaceFunction.content;\r\n                //Not necessary for now. Keeping them here in case a new case appears\r\n                //case 'ADBE Vector Transform Group':\r\n                //case 3:\r\n                default:\r\n                    return interfaceFunction.transform;\r\n            }\r\n        };\r\n        interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var content = contentsInterfaceFactory(shape,view,interfaceFunction.propertyGroup);\r\n        var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1],view.it[view.it.length - 1],interfaceFunction.propertyGroup);\r\n        interfaceFunction.content = content;\r\n        interfaceFunction.transform = transformInterface;\r\n        Object.defineProperty(interfaceFunction, '_name', {\r\n            get: function(){\r\n                return shape.nm;\r\n            }\r\n        });\r\n        //interfaceFunction.content = interfaceFunction;\r\n        interfaceFunction.numProperties = shape.np;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        interfaceFunction.nm = shape.nm;\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function fillInterfaceFactory(shape,view,propertyGroup){\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: ExpressionPropertyInterface(view.c)\r\n            },\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function strokeInterfaceFactory(shape,view,propertyGroup){\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n        function addPropertyToDashOb(i) {\r\n            Object.defineProperty(dashOb, shape.d[i].nm, {\r\n                get: ExpressionPropertyInterface(view.d.dataProps[i].p)\r\n            });\r\n        }\r\n        var i, len = shape.d ? shape.d.length : 0;\r\n        var dashOb = {};\r\n        for (i = 0; i < len; i += 1) {\r\n            addPropertyToDashOb(i);\r\n            view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n        }\r\n\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            } else if(val === 'Stroke Width' || val === 'stroke width'){\r\n                return interfaceFunction.strokeWidth;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: ExpressionPropertyInterface(view.c)\r\n            },\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            'strokeWidth': {\r\n                get: ExpressionPropertyInterface(view.w)\r\n            },\r\n            'dash': {\r\n                get: function() {\r\n                    return dashOb;\r\n                }\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function trimInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(val){\r\n            if(val === shape.e.ix || val === 'End' || val === 'end'){\r\n                return interfaceFunction.end;\r\n            }\r\n            if(val === shape.s.ix){\r\n                return interfaceFunction.start;\r\n            }\r\n            if(val === shape.o.ix){\r\n                return interfaceFunction.offset;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n\r\n        view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n        view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n        view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        interfaceFunction.propertyGroup = propertyGroup;\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'start': {\r\n                get: ExpressionPropertyInterface(view.s)\r\n            },\r\n            'end': {\r\n                get: ExpressionPropertyInterface(view.e)\r\n            },\r\n            'offset': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function transformInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.a.ix === value || value === 'Anchor Point'){\r\n                return interfaceFunction.anchorPoint;\r\n            }\r\n            if(shape.o.ix === value || value === 'Opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n            if(shape.p.ix === value || value === 'Position'){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation'){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.s.ix === value || value === 'Scale'){\r\n                return interfaceFunction.scale;\r\n            }\r\n            if(shape.sk && shape.sk.ix === value || value === 'Skew'){\r\n                return interfaceFunction.skew;\r\n            }\r\n            if(shape.sa && shape.sa.ix === value || value === 'Skew Axis'){\r\n                return interfaceFunction.skewAxis;\r\n            }\r\n        }\r\n        \r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n        view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n        view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n        if(view.transform.mProps.sk){\r\n            view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n            view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n        }\r\n        view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n        Object.defineProperties(interfaceFunction, {\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.o)\r\n            },\r\n            'position': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.p)\r\n            },\r\n            'anchorPoint': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.a)\r\n            },\r\n            'scale': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.s)\r\n            },\r\n            'rotation': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.r)\r\n            },\r\n            'skew': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.sk)\r\n            },\r\n            'skewAxis': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.sa)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.ty = 'tr';\r\n        interfaceFunction.mn = shape.mn;\r\n        interfaceFunction.propertyGroup = propertyGroup;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function ellipseInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.s.ix === value){\r\n                return interfaceFunction.size;\r\n            }\r\n        }\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'size': {\r\n                get: ExpressionPropertyInterface(prop.s)\r\n            },\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function starInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.pt.ix === value){\r\n                return interfaceFunction.points;\r\n            }\r\n            if(shape.or.ix === value || 'ADBE Vector Star Outer Radius' === value){\r\n                return interfaceFunction.outerRadius;\r\n            }\r\n            if(shape.os.ix === value){\r\n                return interfaceFunction.outerRoundness;\r\n            }\r\n            if(shape.ir && (shape.ir.ix === value || 'ADBE Vector Star Inner Radius' === value)){\r\n                return interfaceFunction.innerRadius;\r\n            }\r\n            if(shape.is && shape.is.ix === value){\r\n                return interfaceFunction.innerRoundness;\r\n            }\r\n\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n        prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n        prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n        if(shape.ir){\r\n            prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n            prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n        }\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            'rotation': {\r\n                get: ExpressionPropertyInterface(prop.r)\r\n            },\r\n            'points': {\r\n                get: ExpressionPropertyInterface(prop.pt)\r\n            },\r\n            'outerRadius': {\r\n                get: ExpressionPropertyInterface(prop.or)\r\n            },\r\n            'outerRoundness': {\r\n                get: ExpressionPropertyInterface(prop.os)\r\n            },\r\n            'innerRadius': {\r\n                get: ExpressionPropertyInterface(prop.ir)\r\n            },\r\n            'innerRoundness': {\r\n                get: ExpressionPropertyInterface(prop.is)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function rectInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.roundness;\r\n            }\r\n            if(shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size'){\r\n                return interfaceFunction.size;\r\n            }\r\n\r\n        }\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n        prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n        prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            'roundness': {\r\n                get: ExpressionPropertyInterface(prop.r)\r\n            },\r\n            'size': {\r\n                get: ExpressionPropertyInterface(prop.s)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function roundedInterfaceFactory(shape,view,propertyGroup){\r\n       \r\n        function interfaceFunction(value){\r\n            if(shape.r.ix === value || 'Round Corners 1' === value){\r\n                return interfaceFunction.radius;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'radius': {\r\n                get: ExpressionPropertyInterface(prop.rd)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function repeaterInterfaceFactory(shape,view,propertyGroup){\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.c.ix === value || 'Copies' === value){\r\n                return interfaceFunction.copies;\r\n            } else if(shape.o.ix === value || 'Offset' === value){\r\n                return interfaceFunction.offset;\r\n            }\r\n        }\r\n\r\n        var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n        prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n        Object.defineProperties(interfaceFunction, {\r\n            'copies': {\r\n                get: ExpressionPropertyInterface(prop.c)\r\n            },\r\n            'offset': {\r\n                get: ExpressionPropertyInterface(prop.o)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return function(shapes,view,propertyGroup) {\r\n        var interfaces;\r\n        function _interfaceFunction(value){\r\n            if(typeof value === 'number'){\r\n                value = value === undefined ? 1 : value\r\n                if (value === 0) {\r\n                    return propertyGroup\r\n                } else {\r\n                    return interfaces[value-1];\r\n                }\r\n            } else {\r\n                var i = 0, len = interfaces.length;\r\n                while(i<len){\r\n                    if(interfaces[i]._name === value){\r\n                        return interfaces[i];\r\n                    }\r\n                    i+=1;\r\n                }\r\n            }\r\n        }\r\n        function parentGroupWrapper() {\r\n            return propertyGroup\r\n        }\r\n        _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\r\n        interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\r\n        _interfaceFunction.numProperties = interfaces.length;\r\n        _interfaceFunction._name = 'Contents';\r\n        return _interfaceFunction;\r\n    };\r\n}());\r\n\r\nvar TextExpressionInterface = (function(){\r\n\treturn function(elem){\r\n        var _prevValue, _sourceText;\r\n        function _thisLayerFunction(name){\r\n            switch(name){\r\n                case \"ADBE Text Document\":\r\n                    return _thisLayerFunction.sourceText;\r\n            }\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"sourceText\", {\r\n            get: function(){\r\n                elem.textProperty.getValue()\r\n                var stringValue = elem.textProperty.currentData.t;\r\n                if(stringValue !== _prevValue) {\r\n                    elem.textProperty.currentData.t = _prevValue;\r\n                    _sourceText = new String(stringValue);\r\n                    //If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n                    _sourceText.value = stringValue ? stringValue : new String(stringValue);\r\n                }\r\n                return _sourceText;\r\n            }\r\n        });\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar LayerExpressionInterface = (function (){\r\n\r\n    function getMatrix(time) {\r\n        var toWorldMat = new Matrix();\r\n        if (time !== undefined) {\r\n            var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n            propMatrix.clone(toWorldMat);\r\n        } else {\r\n            var transformMat = this._elem.finalTransform.mProp;\r\n            transformMat.applyToMatrix(toWorldMat);\r\n        }\r\n        return toWorldMat;\r\n    }\r\n\r\n    function toWorldVec(arr, time){\r\n        var toWorldMat = this.getMatrix(time);\r\n        toWorldMat.props[12] = toWorldMat.props[13] = toWorldMat.props[14] = 0;\r\n        return this.applyPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function toWorld(arr, time){\r\n        var toWorldMat = this.getMatrix(time);\r\n        return this.applyPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function fromWorldVec(arr, time){\r\n        var toWorldMat = this.getMatrix(time);\r\n        toWorldMat.props[12] = toWorldMat.props[13] = toWorldMat.props[14] = 0;\r\n        return this.invertPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function fromWorld(arr, time){\r\n        var toWorldMat = this.getMatrix(time);\r\n        return this.invertPoint(toWorldMat, arr);\r\n    }\r\n\r\n    function applyPoint(matrix, arr) {\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n            }\r\n        }\r\n        return matrix.applyToPointArray(arr[0],arr[1],arr[2]||0);\r\n    }\r\n\r\n    function invertPoint(matrix, arr) {\r\n        if (this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n            }\r\n        }\r\n        return matrix.inversePoint(arr);\r\n    }\r\n\r\n    function fromComp(arr){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.inversePoint(arr);\r\n        }\r\n        return toWorldMat.inversePoint(arr);\r\n    }\r\n\r\n    function sampleImage() {\r\n        return [1,1,1,1];\r\n    }\r\n\r\n\r\n    return function(elem){\r\n\r\n        var transformInterface;\r\n\r\n        function _registerMaskInterface(maskManager){\r\n            _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n        }\r\n        function _registerEffectsInterface(effects){\r\n            _thisLayerFunction.effect = effects;\r\n        }\r\n\r\n        function _thisLayerFunction(name){\r\n            switch(name){\r\n                case \"ADBE Root Vectors Group\":\r\n                case \"Contents\":\r\n                case 2:\r\n                    return _thisLayerFunction.shapeInterface;\r\n                case 1:\r\n                case 6:\r\n                case \"Transform\":\r\n                case \"transform\":\r\n                case \"ADBE Transform Group\":\r\n                    return transformInterface;\r\n                case 4:\r\n                case \"ADBE Effect Parade\":\r\n                case \"effects\":\r\n                case \"Effects\":\r\n                    return _thisLayerFunction.effect;\r\n                case \"ADBE Text Properties\":\r\n                    return _thisLayerFunction.textInterface;\r\n            }\r\n        }\r\n        _thisLayerFunction.getMatrix = getMatrix;\r\n        _thisLayerFunction.invertPoint = invertPoint;\r\n        _thisLayerFunction.applyPoint = applyPoint;\r\n        _thisLayerFunction.toWorld = toWorld;\r\n        _thisLayerFunction.toWorldVec = toWorldVec;\r\n        _thisLayerFunction.fromWorld = fromWorld;\r\n        _thisLayerFunction.fromWorldVec = fromWorldVec;\r\n        _thisLayerFunction.toComp = toWorld;\r\n        _thisLayerFunction.fromComp = fromComp;\r\n        _thisLayerFunction.sampleImage = sampleImage;\r\n        _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n        _thisLayerFunction._elem = elem;\r\n        transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n        var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n        Object.defineProperties(_thisLayerFunction,{\r\n            hasParent: {\r\n                get: function(){\r\n                    return elem.hierarchy.length;\r\n                }\r\n            },\r\n            parent: {\r\n                get: function(){\r\n                    return elem.hierarchy[0].layerInterface;\r\n                }\r\n            },\r\n            rotation: getDescriptor(transformInterface, 'rotation'),\r\n            scale: getDescriptor(transformInterface, 'scale'),\r\n            position: getDescriptor(transformInterface, 'position'),\r\n            opacity: getDescriptor(transformInterface, 'opacity'),\r\n            anchorPoint: anchorPointDescriptor,\r\n            anchor_point: anchorPointDescriptor,\r\n            transform: {\r\n                get: function () {\r\n                    return transformInterface;\r\n                }\r\n            },\r\n            active: {\r\n                get: function(){\r\n                    return elem.isInRange;\r\n                }\r\n            }\r\n        });\r\n\r\n        _thisLayerFunction.startTime = elem.data.st;\r\n        _thisLayerFunction.index = elem.data.ind;\r\n        _thisLayerFunction.source = elem.data.refId;\r\n        _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n        _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n        _thisLayerFunction.inPoint = elem.data.ip/elem.comp.globalData.frameRate;\r\n        _thisLayerFunction.outPoint = elem.data.op/elem.comp.globalData.frameRate;\r\n        _thisLayerFunction._name = elem.data.nm;\r\n\r\n        _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n        _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\n\r\nvar CompExpressionInterface = (function () {\r\n    return function(comp) {\r\n        function _thisLayerFunction(name) {\r\n            var i = 0, len = comp.layers.length;\r\n            while ( i < len) {\r\n                if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n                    return comp.elements[i].layerInterface;\r\n                }\r\n                i += 1;\r\n            }\r\n            return null;\r\n            //return {active:false};\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"_name\", { value: comp.data.nm });\r\n        _thisLayerFunction.layer = _thisLayerFunction;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n        _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n        _thisLayerFunction.displayStartTime = 0;\r\n        _thisLayerFunction.numLayers = comp.layers.length;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar TransformExpressionInterface = (function (){\r\n    return function(transform){\r\n        function _thisFunction(name){\r\n            switch(name){\r\n                case \"scale\":\r\n                case \"Scale\":\r\n                case \"ADBE Scale\":\r\n                case 6:\r\n                    return _thisFunction.scale;\r\n                case \"rotation\":\r\n                case \"Rotation\":\r\n                case \"ADBE Rotation\":\r\n                case \"ADBE Rotate Z\":\r\n                case 10:\r\n                    return _thisFunction.rotation;\r\n                case \"ADBE Rotate X\":\r\n                    return _thisFunction.xRotation;\r\n                case \"ADBE Rotate Y\":\r\n                    return _thisFunction.yRotation;\r\n                case \"position\":\r\n                case \"Position\":\r\n                case \"ADBE Position\":\r\n                case 2:\r\n                    return _thisFunction.position;\r\n                case 'ADBE Position_0':\r\n                    return _thisFunction.xPosition;\r\n                case 'ADBE Position_1':\r\n                    return _thisFunction.yPosition;\r\n                case 'ADBE Position_2':\r\n                    return _thisFunction.zPosition;\r\n                case \"anchorPoint\":\r\n                case \"AnchorPoint\":\r\n                case \"Anchor Point\":\r\n                case \"ADBE AnchorPoint\":\r\n                case 1:\r\n                    return _thisFunction.anchorPoint;\r\n                case \"opacity\":\r\n                case \"Opacity\":\r\n                case 11:\r\n                    return _thisFunction.opacity;\r\n            }\r\n        }\r\n        Object.defineProperty(_thisFunction, \"rotation\", {\r\n            get: ExpressionPropertyInterface(transform.r || transform.rz)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"zRotation\", {\r\n            get: ExpressionPropertyInterface(transform.rz || transform.r)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"xRotation\", {\r\n            get: ExpressionPropertyInterface(transform.rx)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"yRotation\", {\r\n            get: ExpressionPropertyInterface(transform.ry)\r\n        });\r\n        Object.defineProperty(_thisFunction, \"scale\", {\r\n            get: ExpressionPropertyInterface(transform.s)\r\n        });\r\n\r\n        if(transform.p) {\r\n            var _transformFactory = ExpressionPropertyInterface(transform.p);\r\n        } else {\r\n            var _px = ExpressionPropertyInterface(transform.px);\r\n            var _py = ExpressionPropertyInterface(transform.py);\r\n            var _pz;\r\n            if (transform.pz) {\r\n                _pz = ExpressionPropertyInterface(transform.pz);\r\n            }\r\n        }\r\n        Object.defineProperty(_thisFunction, \"position\", {\r\n            get: function () {\r\n                if(transform.p) {\r\n                    return _transformFactory();\r\n                } else {\r\n                    return [\r\n                        _px(),\r\n                        _py(),\r\n                        _pz ? _pz() : 0];\r\n                }\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"xPosition\", {\r\n            get: ExpressionPropertyInterface(transform.px)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"yPosition\", {\r\n            get: ExpressionPropertyInterface(transform.py)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"zPosition\", {\r\n            get: ExpressionPropertyInterface(transform.pz)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"anchorPoint\", {\r\n            get: ExpressionPropertyInterface(transform.a)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"opacity\", {\r\n            get: ExpressionPropertyInterface(transform.o)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skew\", {\r\n            get: ExpressionPropertyInterface(transform.sk)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skewAxis\", {\r\n            get: ExpressionPropertyInterface(transform.sa)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"orientation\", {\r\n            get: ExpressionPropertyInterface(transform.or)\r\n        });\r\n\r\n        return _thisFunction;\r\n    };\r\n}());\r\nvar ProjectInterface = (function (){\r\n\r\n    function registerComposition(comp){\r\n        this.compositions.push(comp);\r\n    }\r\n\r\n    return function(){\r\n        function _thisProjectFunction(name){\r\n            var i = 0, len = this.compositions.length;\r\n            while(i<len){\r\n                if(this.compositions[i].data && this.compositions[i].data.nm === name){\r\n                    if(this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n                        this.compositions[i].prepareFrame(this.currentFrame);\r\n                    }\r\n                    return this.compositions[i].compInterface;\r\n                }\r\n                i+=1;\r\n            }\r\n        }\r\n\r\n        _thisProjectFunction.compositions = [];\r\n        _thisProjectFunction.currentFrame = 0;\r\n\r\n        _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n\r\n\r\n        return _thisProjectFunction;\r\n    };\r\n}());\r\nvar EffectsExpressionInterface = (function (){\r\n    var ob = {\r\n        createEffectsInterface: createEffectsInterface\r\n    };\r\n\r\n    function createEffectsInterface(elem, propertyGroup){\r\n        if(elem.effectsManager){\r\n\r\n            var effectElements = [];\r\n            var effectsData = elem.data.ef;\r\n            var i, len = elem.effectsManager.effectElements.length;\r\n            for(i=0;i<len;i+=1){\r\n                effectElements.push(createGroupInterface(effectsData[i],elem.effectsManager.effectElements[i],propertyGroup,elem));\r\n            }\r\n\r\n            var effects = elem.data.ef || [];\r\n            var groupInterface = function(name){\r\n                i = 0, len = effects.length;\r\n                while(i<len) {\r\n                    if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                        return effectElements[i];\r\n                    }\r\n                    i += 1;\r\n                }\r\n            };\r\n            Object.defineProperty(groupInterface, 'numProperties', {\r\n                get: function(){\r\n                    return effects.length;\r\n                }\r\n            });\r\n            return groupInterface\r\n        }\r\n    }\r\n\r\n    function createGroupInterface(data,elements, propertyGroup, elem){\r\n\r\n        function groupInterface(name){\r\n            var effects = data.ef, i = 0, len = effects.length;\r\n            while(i<len) {\r\n                if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                    if(effects[i].ty === 5){\r\n                        return effectElements[i];\r\n                    } else {\r\n                        return effectElements[i]();\r\n                    }\r\n                }\r\n                i += 1;\r\n            }\r\n            throw new Error();\r\n        };\r\n        var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n        var effectElements = [];\r\n        var i, len = data.ef.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(data.ef[i].ty === 5){\r\n                effectElements.push(createGroupInterface(data.ef[i],elements.effectElements[i],elements.effectElements[i].propertyGroup, elem));\r\n            } else {\r\n                effectElements.push(createValueInterface(elements.effectElements[i],data.ef[i].ty, elem, _propertyGroup));\r\n            }\r\n        }\r\n\r\n        if(data.mn === 'ADBE Color Control'){\r\n            Object.defineProperty(groupInterface, 'color', {\r\n                get: function(){\r\n                    return effectElements[0]();\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperties(groupInterface, {\r\n            numProperties: {\r\n                get: function(){\r\n                    return data.np;\r\n                }\r\n            },\r\n            _name: { value: data.nm },\r\n            propertyGroup: {value: _propertyGroup},\r\n        });\r\n        groupInterface.active = groupInterface.enabled = data.en !== 0;\r\n        return groupInterface;\r\n    }\r\n\r\n    function createValueInterface(element, type, elem, propertyGroup){\r\n        var expressionProperty = ExpressionPropertyInterface(element.p);\r\n        function interfaceFunction(){\r\n            if(type === 10){\r\n                return elem.comp.compInterface(element.p.v);\r\n            }\r\n            return expressionProperty();\r\n        }\r\n\r\n        if(element.p.setGroupProperty) {\r\n            element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n        }\r\n\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return ob;\r\n\r\n}());\r\nvar MaskManagerInterface = (function(){\r\n\r\n\tfunction MaskInterface(mask, data){\r\n\t\tthis._mask = mask;\r\n\t\tthis._data = data;\r\n\t}\r\n\tObject.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n        get: function(){\r\n            if(this._mask.prop.k){\r\n                this._mask.prop.getValue();\r\n            }\r\n            return this._mask.prop;\r\n        }\r\n    });\r\n\tObject.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n        get: function(){\r\n            if(this._mask.op.k){\r\n                this._mask.op.getValue();\r\n            }\r\n            return this._mask.op.v * 100;\r\n        }\r\n    });\r\n\r\n\tvar MaskManager = function(maskManager, elem){\r\n\t\tvar _maskManager = maskManager;\r\n\t\tvar _elem = elem;\r\n\t\tvar _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n\t\tvar i, len = maskManager.viewData.length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t_masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n\t\t}\r\n\r\n\t\tvar maskFunction = function(name){\r\n\t\t\ti = 0;\r\n\t\t    while(i<len){\r\n\t\t        if(maskManager.masksProperties[i].nm === name){\r\n\t\t            return _masksInterfaces[i];\r\n\t\t        }\r\n\t\t        i += 1;\r\n\t\t    }\r\n\t\t};\r\n\t\treturn maskFunction;\r\n\t};\r\n\treturn MaskManager;\r\n}());\r\n\r\nvar ExpressionPropertyInterface = (function() {\r\n\r\n    var defaultUnidimensionalValue = {pv:0, v:0, mult: 1}\r\n    var defaultMultidimensionalValue = {pv:[0,0,0], v:[0,0,0], mult: 1}\r\n\r\n    function completeProperty(expressionValue, property, type) {\r\n        Object.defineProperty(expressionValue, 'velocity', {\r\n            get: function(){\r\n                return property.getVelocityAtTime(property.comp.currentFrame);\r\n            }\r\n        });\r\n        expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n        expressionValue.key = function(pos) {\r\n            if (!expressionValue.numKeys) {\r\n                return 0;\r\n            } else {\r\n                var value = '';\r\n                if ('s' in property.keyframes[pos-1]) {\r\n                    value = property.keyframes[pos-1].s;\r\n                } else if ('e' in property.keyframes[pos-2]) {\r\n                    value = property.keyframes[pos-2].e;\r\n                } else {\r\n                    value = property.keyframes[pos-2].s;\r\n                }\r\n                var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value);\r\n                valueProp.time = property.keyframes[pos-1].t / property.elem.comp.globalData.frameRate;\r\n                valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n                return valueProp;\r\n            }\r\n        };\r\n        expressionValue.valueAtTime = property.getValueAtTime;\r\n        expressionValue.speedAtTime = property.getSpeedAtTime;\r\n        expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n        expressionValue.propertyGroup = property.propertyGroup;\r\n    }\r\n\r\n    function UnidimensionalPropertyInterface(property) {\r\n        if(!property || !('pv' in property)) {\r\n            property = defaultUnidimensionalValue;\r\n        }\r\n        var mult = 1 / property.mult;\r\n        var val = property.pv * mult;\r\n        var expressionValue = new Number(val);\r\n        expressionValue.value = val;\r\n        completeProperty(expressionValue, property, 'unidimensional');\r\n\r\n        return function() {\r\n            if (property.k) {\r\n                property.getValue();\r\n            }\r\n            val = property.v * mult;\r\n            if(expressionValue.value !== val) {\r\n                expressionValue = new Number(val);\r\n                expressionValue.value = val;\r\n                completeProperty(expressionValue, property, 'unidimensional');\r\n            }\r\n            return expressionValue;\r\n        }\r\n    }\r\n\r\n    function MultidimensionalPropertyInterface(property) {\r\n        if(!property || !('pv' in property)) {\r\n            property = defaultMultidimensionalValue;\r\n        }\r\n        var mult = 1 / property.mult;\r\n        var len = (property.data && property.data.l) || property.pv.length;\r\n        var expressionValue = createTypedArray('float32', len);\r\n        var arrValue = createTypedArray('float32', len);\r\n        expressionValue.value = arrValue;\r\n        completeProperty(expressionValue, property, 'multidimensional');\r\n\r\n        return function() {\r\n            if (property.k) {\r\n                property.getValue();\r\n            }\r\n            for (var i = 0; i < len; i += 1) {\r\n                expressionValue[i] = arrValue[i] = property.v[i] * mult;\r\n            }\r\n            return expressionValue;\r\n        }\r\n    }\r\n\r\n    //TODO: try to avoid using this getter\r\n    function defaultGetter() {\r\n        return defaultUnidimensionalValue;\r\n    }\r\n    \r\n    return function(property) {\r\n        if(!property) {\r\n            return defaultGetter;\r\n        } else if (property.propType === 'unidimensional') {\r\n            return UnidimensionalPropertyInterface(property);\r\n        } else {\r\n            return MultidimensionalPropertyInterface(property);\r\n        }\r\n    }\r\n}());\r\n\r\n(function(){\r\n\r\n    var TextExpressionSelectorProp = (function(){\r\n\r\n        function getValueProxy(index,total){\r\n            this.textIndex = index+1;\r\n            this.textTotal = total;\r\n            this.v = this.getValue() * this.mult;\r\n            return this.v;\r\n        }\r\n\r\n        return function TextExpressionSelectorProp(elem,data){\r\n            this.pv = 1;\r\n            this.comp = elem.comp;\r\n            this.elem = elem;\r\n            this.mult = 0.01;\r\n            this.propType = 'textSelector';\r\n            this.textTotal = data.totalChars;\r\n            this.selectorValue = 100;\r\n            this.lastValue = [1,1,1];\r\n            this.k = true;\r\n            this.x = true;\r\n            this.getValue = ExpressionManager.initiateExpression.bind(this)(elem,data,this);\r\n            this.getMult = getValueProxy;\r\n            this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\r\n            if(this.kf){\r\n                this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\r\n            } else {\r\n                this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\r\n            }\r\n            this.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        };\r\n    }());\r\n\r\n\tvar propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\n\tTextSelectorProp.getTextSelectorProp = function(elem, data,arr){\r\n\t    if(data.t === 1){\r\n\t        return new TextExpressionSelectorProp(elem, data,arr);\r\n\t    } else {\r\n\t        return propertyGetTextProp(elem,data,arr);\r\n\t    }\r\n\t};\r\n}());\r\nfunction SliderEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction AngleEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction ColorEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,container);\r\n}\r\nfunction PointEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,container);\r\n}\r\nfunction LayerIndexEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction MaskIndexEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction CheckboxEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction NoValueEffect(){\r\n    this.p = {};\r\n}\r\nfunction EffectsManager(data,element){\r\n    var effects = data.ef || [];\r\n    this.effectElements = [];\r\n    var i,len = effects.length;\r\n    var effectItem;\r\n    for(i=0;i<len;i++) {\r\n        effectItem = new GroupEffect(effects[i],element);\r\n        this.effectElements.push(effectItem);\r\n    }\r\n}\r\n\r\nfunction GroupEffect(data,element){\r\n    this.init(data,element);\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], GroupEffect);\r\n\r\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\nGroupEffect.prototype.init = function(data,element){\r\n    this.data = data;\r\n    this.effectElements = [];\r\n    this.initDynamicPropertyContainer(element);\r\n    var i, len = this.data.ef.length;\r\n    var eff, effects = this.data.ef;\r\n    for(i=0;i<len;i+=1){\r\n        eff = null;\r\n        switch(effects[i].ty){\r\n            case 0:\r\n                eff = new SliderEffect(effects[i],element,this);\r\n                break;\r\n            case 1:\r\n                eff = new AngleEffect(effects[i],element,this);\r\n                break;\r\n            case 2:\r\n                eff = new ColorEffect(effects[i],element,this);\r\n                break;\r\n            case 3:\r\n                eff = new PointEffect(effects[i],element,this);\r\n                break;\r\n            case 4:\r\n            case 7:\r\n                eff = new CheckboxEffect(effects[i],element,this);\r\n                break;\r\n            case 10:\r\n                eff = new LayerIndexEffect(effects[i],element,this);\r\n                break;\r\n            case 11:\r\n                eff = new MaskIndexEffect(effects[i],element,this);\r\n                break;\r\n            case 5:\r\n                eff = new EffectsManager(effects[i],element,this);\r\n                break;\r\n            //case 6:\r\n            default:\r\n                eff = new NoValueEffect(effects[i],element,this);\r\n                break;\r\n        }\r\n        if(eff) {\r\n            this.effectElements.push(eff);\r\n        }\r\n    }\r\n};\r\n\r\nvar lottie = {};\r\n\r\nvar _isFrozen = false;\r\n\r\nfunction setLocationHref (href) {\r\n    locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n    if (standalone === true) {\r\n        animationManager.searchAnimations(animationData, standalone, renderer);\r\n    } else {\r\n        animationManager.searchAnimations();\r\n    }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n    subframeEnabled = flag;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n    if (standalone === true) {\r\n        params.animationData = JSON.parse(animationData);\r\n    }\r\n    return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n    if (typeof value === 'string') {\r\n        switch (value) {\r\n            case 'high':\r\n                defaultCurveSegments = 200;\r\n                break;\r\n            case 'medium':\r\n                defaultCurveSegments = 50;\r\n                break;\r\n            case 'low':\r\n                defaultCurveSegments = 10;\r\n                break;\r\n        }\r\n    } else if (!isNaN(value) && value > 1) {\r\n        defaultCurveSegments = value;\r\n    }\r\n    if (defaultCurveSegments >= 50) {\r\n        roundValues(false);\r\n    } else {\r\n        roundValues(true);\r\n    }\r\n}\r\n\r\nfunction inBrowser() {\r\n    return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n    if (type === 'expressions') {\r\n        expressionsPlugin = plugin;\r\n    }\r\n}\r\n\r\nfunction getFactory(name) {\r\n    switch (name) {\r\n        case \"propertyFactory\":\r\n            return PropertyFactory;\r\n        case \"shapePropertyFactory\":\r\n            return ShapePropertyFactory;\r\n        case \"matrix\":\r\n            return Matrix;\r\n    }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n//lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.7.5';\r\n\r\nfunction checkReady() {\r\n    if (document.readyState === \"complete\") {\r\n        clearInterval(readyStateCheckInterval);\r\n        searchAnimations();\r\n    }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n    var vars = queryString.split('&');\r\n    for (var i = 0; i < vars.length; i++) {\r\n        var pair = vars[i].split('=');\r\n        if (decodeURIComponent(pair[0]) == variable) {\r\n            return decodeURIComponent(pair[1]);\r\n        }\r\n    }\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nif (standalone) {\r\n    var scripts = document.getElementsByTagName('script');\r\n    var index = scripts.length - 1;\r\n    var myScript = scripts[index] || {\r\n        src: ''\r\n    };\r\n    var queryString = myScript.src.replace(/^[^\\?]+\\??/, '');\r\n    renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import Axios from \"axios\";\nimport { token } from \"../../../.env.json\";\n\nconst Base64 = {\n    _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n    encode: function(e) {\n        var t = \"\";\n        var n, r, i, s, o, u, a;\n        var f = 0;\n        e = Base64._utf8_encode(e);\n        while (f < e.length) {\n            n = e.charCodeAt(f++);\n            r = e.charCodeAt(f++);\n            i = e.charCodeAt(f++);\n            s = n >> 2;\n            o = ((n & 3) << 4) | (r >> 4);\n            u = ((r & 15) << 2) | (i >> 6);\n            a = i & 63;\n            if (isNaN(r)) {\n                u = a = 64;\n            } else if (isNaN(i)) {\n                a = 64;\n            }\n            t =\n                t +\n                this._keyStr.charAt(s) +\n                this._keyStr.charAt(o) +\n                this._keyStr.charAt(u) +\n                this._keyStr.charAt(a);\n        }\n        return t;\n    },\n    decode: function(e) {\n        var t = \"\";\n        var n, r, i;\n        var s, o, u, a;\n        var f = 0;\n        e = e.replace(/[^A-Za-z0-9+/=]/g, \"\");\n        while (f < e.length) {\n            s = this._keyStr.indexOf(e.charAt(f++));\n            o = this._keyStr.indexOf(e.charAt(f++));\n            u = this._keyStr.indexOf(e.charAt(f++));\n            a = this._keyStr.indexOf(e.charAt(f++));\n            n = (s << 2) | (o >> 4);\n            r = ((o & 15) << 4) | (u >> 2);\n            i = ((u & 3) << 6) | a;\n            t = t + String.fromCharCode(n);\n            if (u != 64) {\n                t = t + String.fromCharCode(r);\n            }\n            if (a != 64) {\n                t = t + String.fromCharCode(i);\n            }\n        }\n        t = Base64._utf8_decode(t);\n        return t;\n    },\n    _utf8_encode: function(e) {\n        e = e.replace(/\\r\\n/g, \"\\n\");\n        var t = \"\";\n        for (var n = 0; n < e.length; n++) {\n            var r = e.charCodeAt(n);\n            if (r < 128) {\n                t += String.fromCharCode(r);\n            } else if (r > 127 && r < 2048) {\n                t += String.fromCharCode((r >> 6) | 192);\n                t += String.fromCharCode((r & 63) | 128);\n            } else {\n                t += String.fromCharCode((r >> 12) | 224);\n                t += String.fromCharCode(((r >> 6) & 63) | 128);\n                t += String.fromCharCode((r & 63) | 128);\n            }\n        }\n        return t;\n    },\n    _utf8_decode: function(e) {\n        var t = \"\";\n        var n = 0;\n        let c2,\n            c3 = \"\";\n        var r = (c2 = 0);\n        while (n < e.length) {\n            r = e.charCodeAt(n);\n            if (r < 128) {\n                t += String.fromCharCode(r);\n                n++;\n            } else if (r > 191 && r < 224) {\n                c2 = e.charCodeAt(n + 1);\n                t += String.fromCharCode(((r & 31) << 6) | (c2 & 63));\n                n += 2;\n            } else {\n                c2 = e.charCodeAt(n + 1);\n                c3 = e.charCodeAt(n + 2);\n                t += String.fromCharCode(\n                    ((r & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63)\n                );\n                n += 3;\n            }\n        }\n        return t;\n    }\n};\n\nclass GithubFac {\n    constructor() {\n        this.endpoints = {\n            getUser: userName => `https://api.github.com/users/${userName}`,\n            getUsers: (searchString, page, per_page) =>\n                `https://api.github.com/search/users?q=${searchString}&page=${page}&per_page=${per_page}`,\n            getRepos: (userName, page, per_page) =>\n                `https://api.github.com/users/${userName}/repos?page=${page}&per_page=${per_page}`\n        };\n        Axios.defaults.headers.common[\n            \"Authorization\"\n        ] = `Bearer ${Base64.decode(token)}`;\n        Axios.defaults.headers.common[\"Content-Type\"] = `application/json`;\n    }\n\n    getUser(userName) {\n        return Axios.get(this.endpoints.getUser(userName));\n    }\n\n    getUsers({ search, page, per_page }) {\n        return Axios.get(this.endpoints.getUsers(search, page, per_page));\n    }\n\n    getRepos({ userName, page, per_page }) {\n        return Axios.get(this.endpoints.getRepos(userName, page, per_page));\n    }\n}\n\nexport default GithubFac;","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n"],"sourceRoot":""}